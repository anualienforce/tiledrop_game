{"file_contents":{"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","size_bytes":325},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","size_bytes":80},"replit.md":{"content":"# Overview\n\nThis is a publication-ready, mobile-first puzzle game built with React, TypeScript, and Express. The game features a color-matching tile drop mechanic similar to games like 2048 or Threes, where players drop numbered tiles into a grid and match them to score points. The application includes power-ups, combo multipliers, daily challenges, a progressive difficulty system, and comprehensive publication features.\n\nThe project uses a full-stack architecture with:\n- **Frontend**: React with Vite for fast development and optimized builds\n- **Backend**: Express.js server with TypeScript\n- **Database**: PostgreSQL (via Drizzle ORM and Neon serverless)\n- **Styling**: Tailwind CSS with a custom design system based on Radix UI components\n- **State Management**: Zustand for game state and audio management\n- **UI/UX**: Lucide React icons for professional iconography\n\n# Recent Changes (Publication Readiness - Oct 1, 2025)\n\n**Publication Features Implemented:**\n1. **TP GAMES Splash Screen**: Professional branded splash screen displaying \"TP GAMES\" logo with gradient animations on every app load (2.5 second duration with smooth fade transition)\n2. **Game Branding**: Added \"TileDrop\" title with gradient styling in top button bar\n3. **How to Play Modal**: Comprehensive instructions covering rules, power-ups, combos, and pro tips\n4. **Welcome Screen**: First-visit experience with game introduction and quick tutorial option\n5. **Pause Functionality**: Pause/resume game with dedicated button and overlay\n6. **Settings Menu**: \n   - Audio toggle with visual indicators\n   - Accessibility settings (color-blind mode, high contrast, reduced motion)\n   - Statistics reset functionality\n   - Welcome screen reset option\n   - Game version and about information\n7. **Share Score Feature**: \n   - Web Share API integration for mobile\n   - Clipboard fallback for desktop\n   - Formatted score sharing with combo stats\n8. **Particle Effects**: Component ready for tile clearing animations (prepared for future enhancement)\n9. **Error Handling**: \n   - localStorage access wrapped in try-catch blocks\n   - Audio initialization with graceful fallbacks\n   - Game continues functioning even if storage/audio fails\n10. **UI Improvements**:\n   - Professional button bar with icon buttons\n   - High score display in score card\n   - Enhanced game-over modal with share button\n   - Smooth animations and transitions throughout\n11. **Accessibility Features** (Oct 1, 2025):\n   - **Color-Blind Mode**: Adds unique symbols (‚óè, ‚ñ†, ‚ñ≤, ‚òÖ, etc.) to each tile number for better differentiation\n   - **High Contrast Mode**: Black/white color scheme with bold borders for improved visibility\n   - **Reduced Motion**: Disables all animations and transitions for users sensitive to motion\n   - **Screen Reader Support**: Comprehensive ARIA labels and semantic HTML throughout the app\n   - **Keyboard Navigation**: Accessible buttons and interactive elements with proper focus states\n   - **Live Regions**: Score updates and game state changes announced to screen readers\n   - Settings persisted in localStorage for user convenience\n\n# User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n# System Architecture\n\n## Frontend Architecture\n\n**Component Structure**: The application follows a component-based architecture with clear separation of concerns:\n- `App.tsx` serves as the main game container, orchestrating game logic through custom hooks\n- Game-specific components (`GameBoard`, `HUD`, `PowerUps`, `GameOver`, `Tile`) handle individual UI responsibilities\n- Publication-ready components:\n  - `SplashScreen`: TP GAMES branded splash screen shown on every app load\n  - `HowToPlay`: Modal with comprehensive game instructions\n  - `WelcomeScreen`: First-visit onboarding experience\n  - `Settings`: Game settings and data management\n  - `Particles`: Visual effects component for tile clearing\n- A comprehensive UI component library built on Radix UI primitives provides reusable, accessible components\n\n**State Management**: Uses Zustand with middleware for reactive state management:\n- `useGame` hook manages game phase state (ready, playing, ended)\n- `useAudio` hook controls sound effects and background music with mute functionality\n- Game logic state (grid, score, tiles, power-ups) is managed in the custom `useGame` hook in `App.tsx`\n\n**Styling Approach**: Combines Tailwind CSS utility classes with custom CSS:\n- Tailwind configured with a custom theme extending HSL-based color variables\n- Game-specific styles in `game.css` with gradient backgrounds and animations\n- Responsive design with mobile-first breakpoints\n\n**Rationale**: This architecture provides excellent developer experience with hot module replacement, type safety throughout, and separation of concerns. The component library approach ensures consistency and accessibility.\n\n## Backend Architecture\n\n**Server Framework**: Express.js with TypeScript in ESM module format\n- Middleware for JSON parsing, URL encoding, and request logging\n- Error handling middleware for consistent error responses\n- Custom logging system with timestamp formatting\n\n**API Design**: RESTful API structure with `/api` prefix\n- Routes registered through `registerRoutes` function\n- HTTP server creation integrated with route registration\n- Prepared for CRUD operations through storage interface\n\n**Development vs Production**: Environment-aware setup\n- Vite dev server integration in development mode with HMR\n- Static file serving for production builds\n- Separate build processes for client and server\n\n**Rationale**: Express provides a lightweight, flexible foundation. The TypeScript ESM approach ensures modern JavaScript features and type safety. The storage abstraction allows easy switching between in-memory and database storage.\n\n## Data Storage\n\n**ORM**: Drizzle ORM with PostgreSQL dialect\n- Type-safe schema definitions in `shared/schema.ts`\n- Zod integration for runtime validation\n- Migration support through drizzle-kit\n\n**Database**: Neon serverless PostgreSQL\n- Connection via `DATABASE_URL` environment variable\n- Currently includes a `users` table with basic authentication fields\n\n**Storage Abstraction**: Interface-based design pattern\n- `IStorage` interface defines CRUD methods\n- `MemStorage` class provides in-memory implementation for development\n- Easy to swap for database implementation without changing application code\n\n**Rationale**: Drizzle provides excellent TypeScript integration and developer experience. The storage interface pattern allows development without database dependency while maintaining production-ready architecture. Neon serverless provides scalable PostgreSQL without infrastructure management.\n\n## External Dependencies\n\n**UI Component Library**: Radix UI\n- Accessible, unstyled primitives for complex components\n- Includes accordion, dialog, dropdown, popover, tabs, and 30+ other components\n- Provides keyboard navigation and ARIA compliance out of the box\n\n**Database Service**: Neon Serverless PostgreSQL\n- Serverless PostgreSQL with HTTP and WebSocket support\n- Accessed via `@neondatabase/serverless` driver\n- Configured through `DATABASE_URL` environment variable\n\n**Build Tools**:\n- Vite for frontend bundling with React plugin and GLSL shader support\n- esbuild for server bundling in production\n- TypeScript compiler for type checking\n\n**3D Graphics** (imported but not currently used in main game):\n- React Three Fiber for 3D rendering\n- Three.js Drei helper library\n- Post-processing effects library\n\n**Development Tools**:\n- `@replit/vite-plugin-runtime-error-modal` for better error display\n- `tsx` for running TypeScript in development\n- Hot Module Replacement (HMR) via Vite\n\n**Styling Dependencies**:\n- Tailwind CSS with PostCSS and Autoprefixer\n- `class-variance-authority` for component variants\n- `clsx` and `tailwind-merge` for conditional class merging\n\n**State & Data**:\n- Zustand for lightweight state management\n- TanStack React Query for server state management\n- Zod for schema validation\n\n**Session Management**: \n- `connect-pg-simple` for PostgreSQL session storage (imported but not yet implemented)\n\n**Rationale**: These dependencies provide a modern, type-safe development experience. Radix UI ensures accessibility without restricting design freedom. The tooling choices prioritize developer experience and performance. The 3D libraries suggest potential for enhanced visual features in future updates.","size_bytes":8456},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \"var(--radius)\",\n        md: \"calc(var(--radius) - 2px)\",\n        sm: \"calc(var(--radius) - 4px)\",\n      },\n      colors: {\n        background: \"hsl(var(--background))\",\n        foreground: \"hsl(var(--foreground))\",\n        card: {\n          DEFAULT: \"hsl(var(--card))\",\n          foreground: \"hsl(var(--card-foreground))\",\n        },\n        popover: {\n          DEFAULT: \"hsl(var(--popover))\",\n          foreground: \"hsl(var(--popover-foreground))\",\n        },\n        primary: {\n          DEFAULT: \"hsl(var(--primary))\",\n          foreground: \"hsl(var(--primary-foreground))\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary))\",\n          foreground: \"hsl(var(--secondary-foreground))\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted))\",\n          foreground: \"hsl(var(--muted-foreground))\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent))\",\n          foreground: \"hsl(var(--accent-foreground))\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive))\",\n          foreground: \"hsl(var(--destructive-foreground))\",\n        },\n        border: \"hsl(var(--border))\",\n        input: \"hsl(var(--input))\",\n        ring: \"hsl(var(--ring))\",\n        chart: {\n          \"1\": \"hsl(var(--chart-1))\",\n          \"2\": \"hsl(var(--chart-2))\",\n          \"3\": \"hsl(var(--chart-3))\",\n          \"4\": \"hsl(var(--chart-4))\",\n          \"5\": \"hsl(var(--chart-5))\",\n        },\n        sidebar: {\n          DEFAULT: \"hsl(var(--sidebar-background))\",\n          foreground: \"hsl(var(--sidebar-foreground))\",\n          primary: \"hsl(var(--sidebar-primary))\",\n          \"primary-foreground\": \"hsl(var(--sidebar-primary-foreground))\",\n          accent: \"hsl(var(--sidebar-accent))\",\n          \"accent-foreground\": \"hsl(var(--sidebar-accent-foreground))\",\n          border: \"hsl(var(--sidebar-border))\",\n          ring: \"hsl(var(--sidebar-ring))\",\n        },\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: {\n            height: \"0\",\n          },\n          to: {\n            height: \"var(--radix-accordion-content-height)\",\n          },\n        },\n        \"accordion-up\": {\n          from: {\n            height: \"var(--radix-accordion-content-height)\",\n          },\n          to: {\n            height: \"0\",\n          },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","size_bytes":2787},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path, { dirname } from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\nimport { fileURLToPath } from \"url\";\nimport glsl from \"vite-plugin-glsl\";\n\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = dirname(__filename);\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    glsl(), // Add GLSL shader support\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(__dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(__dirname, \"shared\"),\n    },\n  },\n  root: path.resolve(__dirname, \"client\"),\n  build: {\n    outDir: path.resolve(__dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  // Add support for large models and audio files\n  assetsInclude: [\"**/*.gltf\", \"**/*.glb\", \"**/*.mp3\", \"**/*.ogg\", \"**/*.wav\"],\n});\n","size_bytes":896},"server/index.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\n\nconst app = express();\napp.use(express.json());\napp.use(express.urlencoded({ extended: false }));\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"‚Ä¶\";\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  const server = await registerRoutes(app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    console.error(`Error ${status}: ${message}`, err);\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (app.get(\"env\") === \"development\") {\n    await setupVite(app, server);\n  } else {\n    serveStatic(app);\n  }\n\n  // ALWAYS serve the app on port 5000\n  // this serves both the API and the client\n  const port = 5000;\n  server.listen({\n    port,\n    host: \"0.0.0.0\",\n    reusePort: true,\n  }, () => {\n    log(`serving on port ${port}`);\n  });\n})();\n","size_bytes":1911},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport { storage } from \"./storage\";\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  // put application routes here\n  // prefix all routes with /api\n\n  // use storage to perform CRUD operations on the storage interface\n  // e.g. storage.insertUser(user) or storage.getUserByUsername(username)\n\n  const httpServer = createServer(app);\n\n  return httpServer;\n}\n","size_bytes":473},"server/storage.ts":{"content":"import { users, type User, type InsertUser } from \"@shared/schema\";\n\n// modify the interface with any CRUD methods\n// you might need\n\nexport interface IStorage {\n  getUser(id: number): Promise<User | undefined>;\n  getUserByUsername(username: string): Promise<User | undefined>;\n  createUser(user: InsertUser): Promise<User>;\n}\n\nexport class MemStorage implements IStorage {\n  private users: Map<number, User>;\n  currentId: number;\n\n  constructor() {\n    this.users = new Map();\n    this.currentId = 1;\n  }\n\n  async getUser(id: number): Promise<User | undefined> {\n    return this.users.get(id);\n  }\n\n  async getUserByUsername(username: string): Promise<User | undefined> {\n    return Array.from(this.users.values()).find(\n      (user) => user.username === username,\n    );\n  }\n\n  async createUser(insertUser: InsertUser): Promise<User> {\n    const id = this.currentId++;\n    const user: User = { ...insertUser, id };\n    this.users.set(id, user);\n    return user;\n  }\n}\n\nexport const storage = new MemStorage();\n","size_bytes":1012},"server/vite.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path, { dirname } from \"path\";\nimport { fileURLToPath } from \"url\";\nimport { createServer as createViteServer, createLogger, type ServerOptions } from \"vite\";\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = dirname(__filename);\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server) {\n  const serverOptions: ServerOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        __dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(__dirname, \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","size_bytes":2409},"shared/schema.ts":{"content":"import { pgTable, text, serial, integer, boolean } from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\nexport const users = pgTable(\"users\", {\n  id: serial(\"id\").primaryKey(),\n  username: text(\"username\").notNull().unique(),\n  password: text(\"password\").notNull(),\n});\n\nexport const insertUserSchema = createInsertSchema(users).pick({\n  username: true,\n  password: true,\n});\n\nexport type InsertUser = z.infer<typeof insertUserSchema>;\nexport type User = typeof users.$inferSelect;\n","size_bytes":533},"client/src/App.tsx":{"content":"import { useState, useEffect, useRef } from \"react\";\nimport GameBoard from \"./components/GameBoard\";\nimport HUD from \"./components/HUD\";\nimport PowerUps from \"./components/PowerUps\";\nimport GameOver from \"./components/GameOver\";\nimport HowToPlay from \"./components/HowToPlay\";\nimport Settings from \"./components/Settings\";\nimport WelcomeScreen from \"./components/WelcomeScreen\";\nimport Shop from \"./components/Shop\";\nimport SplashScreen from \"./components/SplashScreen\";\nimport { RatePrompt, incrementGamesPlayed } from \"./components/RatePrompt\";\nimport { useGame } from \"./hooks/useGame\";\nimport { useGameScale } from \"./hooks/useGameScale\";\nimport { useAudio } from \"./lib/stores/useAudio\";\nimport { useAnalytics } from \"./hooks/useAnalytics\";\nimport { HelpCircle, Settings as SettingsIcon, Pause, Play, ShoppingBag } from \"lucide-react\";\nimport { useAccessibility } from \"./lib/stores/useAccessibility\";\nimport \"./styles/game.css?v=20251001w\";\n\nfunction App() {\n  const { highContrastMode, reducedMotion } = useAccessibility();\n  const { setBackgroundMusic, setHitSound, setSuccessSound, toggleMute, isMuted } = useAudio();\n  const { trackEvent } = useAnalytics();\n  const scale = useGameScale();\n  \n  const [isShaking, setIsShaking] = useState(false);\n  const [showHowToPlay, setShowHowToPlay] = useState(false);\n  const [showSettings, setShowSettings] = useState(false);\n  const [showWelcome, setShowWelcome] = useState(false);\n  const [showShop, setShowShop] = useState(false);\n  const [isPaused, setIsPaused] = useState(false);\n  const [showSplash, setShowSplash] = useState(true);\n  const [showRatePrompt, setShowRatePrompt] = useState(false);\n  \n  // Drag-and-drop state\n  const gameBoardRef = useRef<HTMLDivElement>(null);\n  const [isDragging, setIsDragging] = useState(false);\n  const [hoveredColumn, setHoveredColumn] = useState<number | null>(null);\n  const [dragPosition, setDragPosition] = useState<{ x: number; y: number } | null>(null);\n  const [columnPositions, setColumnPositions] = useState<{ col: number; left: number; right: number }[]>([]);\n  const [dragStartPos, setDragStartPos] = useState<{ x: number; y: number } | null>(null);\n  const [justCompletedDrag, setJustCompletedDrag] = useState(false);\n  \n  const {\n    grid,\n    score,\n    nextTiles,\n    currentTile,\n    gameOver,\n    powerUps,\n    selectedPowerUp,\n    handleColumnClick,\n    handlePowerUpUse,\n    restartGame,\n    reviveGame,\n    hasUsedRevive,\n    comboMultiplier,\n    comboStreak,\n    dailyChallenge,\n    lastScoreGain,\n    highScore,\n    bestCombo,\n    totalTilesCleared,\n    timeRemaining,\n    dropMs,\n    coins,\n    coinsEarned,\n    purchasedPowerUps,\n    purchasePowerUp,\n    clearingTiles,\n  } = useGame(isPaused);\n\n  // Check if first visit with error handling\n  useEffect(() => {\n    try {\n      const hasVisited = localStorage.getItem('hasVisited');\n      if (!hasVisited) {\n        setShowWelcome(true);\n        localStorage.setItem('hasVisited', 'true');\n      }\n    } catch (err) {\n      console.warn('localStorage not available:', err);\n      // Show welcome screen by default if localStorage fails\n      setShowWelcome(true);\n    }\n  }, []);\n\n  // Trigger screen shake for big combos\n  useEffect(() => {\n    if (comboMultiplier >= 3) {\n      setIsShaking(true);\n      const timer = setTimeout(() => setIsShaking(false), 500);\n      return () => clearTimeout(timer);\n    }\n  }, [comboMultiplier]);\n\n  // Initialize audio with error handling\n  useEffect(() => {\n    try {\n      const bgMusic = new Audio(\"/sounds/background.mp3\");\n      bgMusic.loop = true;\n      bgMusic.volume = 0.3;\n      \n      const hit = new Audio(\"/sounds/hit.mp3\");\n      const success = new Audio(\"/sounds/success.mp3\");\n      \n      // Add error handlers for audio files\n      [bgMusic, hit, success].forEach(audio => {\n        audio.addEventListener('error', (e) => {\n          console.warn('Audio file failed to load:', e);\n        });\n      });\n      \n      setBackgroundMusic(bgMusic);\n      setHitSound(hit);\n      setSuccessSound(success);\n    } catch (err) {\n      console.warn('Audio initialization failed:', err);\n      // Game continues without audio\n    }\n  }, [setBackgroundMusic, setHitSound, setSuccessSound]);\n\n  // Track game end and show rate prompt\n  useEffect(() => {\n    if (gameOver) {\n      incrementGamesPlayed();\n      trackEvent('game_end', { score, highScore, bestCombo });\n      \n      if (score >= highScore && score > 0) {\n        trackEvent('high_score_achieved', { score });\n      }\n      \n      setTimeout(() => setShowRatePrompt(true), 1000);\n    }\n  }, [gameOver, score, highScore, bestCombo, trackEvent]);\n\n  // Track combo achievements\n  useEffect(() => {\n    if (comboMultiplier >= 3) {\n      trackEvent('combo_achieved', { multiplier: comboMultiplier });\n    }\n  }, [comboMultiplier, trackEvent]);\n\n  // Wrap restart and power-up functions with analytics\n  const handleRestartWithAnalytics = () => {\n    trackEvent('game_start');\n    setShowRatePrompt(false);\n    restartGame();\n  };\n\n  const handlePowerUpWithAnalytics = (type: string) => {\n    trackEvent('power_up_used', { type });\n    handlePowerUpUse(type);\n  };\n\n  // Drag-and-drop handlers - spawn tile at cursor position\n  const handleDragStart = (e: React.PointerEvent) => {\n    if (gameOver || isPaused || !currentTile) return;\n    \n    const startX = e.clientX;\n    const startY = e.clientY;\n    \n    setDragStartPos({ x: startX, y: startY });\n    setDragPosition({ x: startX, y: startY });\n    \n    let hasMoved = false;\n    const MOVE_THRESHOLD = 5; // pixels\n    \n    // Set up window-level listeners for drag\n    const handleMove = (moveEvent: PointerEvent) => {\n      const deltaX = Math.abs(moveEvent.clientX - startX);\n      const deltaY = Math.abs(moveEvent.clientY - startY);\n      \n      // Only start showing drag if moved beyond threshold\n      if (deltaX > MOVE_THRESHOLD || deltaY > MOVE_THRESHOLD) {\n        hasMoved = true;\n        setIsDragging(true);\n      }\n      \n      setDragPosition({ x: moveEvent.clientX, y: moveEvent.clientY });\n      \n      // Calculate which column the pointer is over using grid bounds\n      const gridElement = document.querySelector('.grid') as HTMLElement;\n      if (gridElement) {\n        const boardRect = gridElement.getBoundingClientRect();\n        const relativeX = moveEvent.clientX - boardRect.left;\n        const columnWidth = boardRect.width / 6;\n        \n        // Be more lenient with vertical bounds (allow some margin)\n        const verticalMargin = 50; // pixels above/below grid\n        if (relativeX >= 0 && relativeX <= boardRect.width &&\n            moveEvent.clientY >= (boardRect.top - verticalMargin) && \n            moveEvent.clientY <= (boardRect.bottom + verticalMargin)) {\n          const col = Math.floor(relativeX / columnWidth);\n          setHoveredColumn(Math.max(0, Math.min(5, col)));\n        } else {\n          setHoveredColumn(null);\n        }\n      }\n    };\n    \n    const handleEnd = (endEvent: PointerEvent) => {\n      setIsDragging(false);\n      setDragPosition(null);\n      setDragStartPos(null);\n      \n      // Only handle placement if user actually dragged\n      if (hasMoved) {\n        // Calculate column from the actual grid element\n        let column: number | null = null;\n        \n        // Query for the actual grid element\n        const gridElement = document.querySelector('.grid') as HTMLElement;\n        if (gridElement) {\n          const boardRect = gridElement.getBoundingClientRect();\n          const relativeX = endEvent.clientX - boardRect.left;\n          const columnWidth = boardRect.width / 6; // 6 columns\n          \n          // Be more lenient with vertical bounds (allow dropping above/below grid)\n          const verticalMargin = 50; // pixels above/below grid\n          if (relativeX >= 0 && relativeX <= boardRect.width &&\n              endEvent.clientY >= (boardRect.top - verticalMargin) && \n              endEvent.clientY <= (boardRect.bottom + verticalMargin)) {\n            column = Math.floor(relativeX / columnWidth);\n            column = Math.max(0, Math.min(5, column)); // Clamp to 0-5\n          }\n        }\n        \n        // If over a valid column, place the tile\n        if (column !== null) {\n          handleColumnClick(column);\n          setJustCompletedDrag(true);\n          setTimeout(() => setJustCompletedDrag(false), 100);\n        }\n      }\n      \n      setHoveredColumn(null);\n      \n      // Clean up listeners\n      window.removeEventListener('pointermove', handleMove);\n      window.removeEventListener('pointerup', handleEnd);\n      window.removeEventListener('pointercancel', handleEnd);\n    };\n    \n    window.addEventListener('pointermove', handleMove);\n    window.addEventListener('pointerup', handleEnd);\n    window.addEventListener('pointercancel', handleEnd);\n  };\n\n  if (showSplash) {\n    return <SplashScreen onComplete={() => setShowSplash(false)} />;\n  }\n\n  return (\n    <div className={`app-container ${highContrastMode ? 'high-contrast' : ''} ${reducedMotion ? 'reduced-motion' : ''}`}>\n      <div \n        className=\"mobile-scale-wrapper\"\n        style={{\n          transform: `scale(${scale})`,\n          transformOrigin: 'top center',\n          width: '100%',\n          maxWidth: '420px',\n        }}\n      >\n        {/* Top Button Bar */}\n        <div className=\"button-bar\">\n          <h1 className=\"game-title\">TileDrop</h1>\n          <div className=\"button-group\">\n            <div className=\"coin-display\" onClick={() => setShowShop(true)}>\n              <span className=\"coin-icon\">ü™ô</span>\n              <span className=\"coin-amount\">{coins}</span>\n            </div>\n            <button \n              className=\"icon-button\"\n              onClick={() => setShowShop(true)}\n              aria-label=\"Shop\"\n            >\n              <ShoppingBag size={20} aria-hidden=\"true\" />\n            </button>\n            {!gameOver && (\n              <button \n                className=\"icon-button\"\n                onClick={() => setIsPaused(!isPaused)}\n                role=\"switch\"\n                aria-checked={isPaused}\n                aria-label=\"Pause\"\n              >\n                {isPaused ? <Play size={20} aria-hidden=\"true\" /> : <Pause size={20} aria-hidden=\"true\" />}\n              </button>\n            )}\n            <button \n              className=\"icon-button\"\n              onClick={toggleMute}\n              role=\"switch\"\n              aria-checked={!isMuted}\n              aria-label=\"Sound\"\n            >\n              <span aria-hidden=\"true\">{isMuted ? \"üîá\" : \"üîä\"}</span>\n            </button>\n          </div>\n        </div>\n\n        <div \n          className={`game-wrapper ${isShaking ? 'shake' : ''} ${isPaused ? 'paused' : ''}`}\n          onPointerDown={(e) => {\n            // Only ignore actual interactive elements (buttons, inputs, links)\n            const target = e.target as HTMLElement;\n            if (target.tagName === 'BUTTON' || \n                target.tagName === 'INPUT' || \n                target.tagName === 'A' ||\n                target.closest('button') ||\n                target.closest('input') ||\n                target.closest('a')) {\n              return;\n            }\n            handleDragStart(e);\n          }}\n          style={{ touchAction: 'none' }}\n        >\n        <HUD \n          score={score}\n          highScore={highScore}\n          currentTile={currentTile} \n          nextTiles={nextTiles}\n          comboMultiplier={comboMultiplier}\n          comboStreak={comboStreak}\n          dailyChallenge={dailyChallenge}\n          timeRemaining={timeRemaining}\n          dropMs={dropMs}\n          isDragging={isDragging}\n        />\n        \n        <div ref={gameBoardRef}>\n          <GameBoard \n            grid={grid} \n            onColumnClick={handleColumnClick}\n            gameOver={gameOver}\n            isPaused={isPaused}\n            clearingTiles={clearingTiles}\n            hoveredColumn={hoveredColumn}\n            onColumnPositionsUpdate={setColumnPositions}\n            justCompletedDrag={justCompletedDrag}\n          />\n        </div>\n        \n        <PowerUps \n          powerUps={powerUps}\n          onPowerUpUse={handlePowerUpWithAnalytics}\n          gameOver={gameOver}\n          selectedPowerUp={selectedPowerUp}\n        />\n\n        {lastScoreGain && (\n          <div className=\"score-popup\">\n            +{lastScoreGain.amount.toLocaleString()}\n            {lastScoreGain.multiplier > 1 && (\n              <span className=\"multiplier-text\"> ({lastScoreGain.multiplier}x COMBO!)</span>\n            )}\n          </div>\n        )}\n\n        {gameOver && (\n          <GameOver \n            score={score}\n            highScore={highScore}\n            bestCombo={bestCombo}\n            totalTilesCleared={totalTilesCleared}\n            coinsEarned={coinsEarned}\n            hasUsedRevive={hasUsedRevive}\n            onRestart={handleRestartWithAnalytics}\n            onRevive={reviveGame}\n          />\n        )}\n\n        {isPaused && !gameOver && (\n          <div className=\"pause-overlay\">\n            <div className=\"pause-content\">\n              <h2 className=\"pause-title\">Game Paused</h2>\n              <div className=\"pause-buttons\">\n                <button \n                  className=\"resume-button\"\n                  onClick={() => setIsPaused(false)}\n                >\n                  <Play size={24} />\n                  Resume Game\n                </button>\n                <button \n                  className=\"restart-button-pause\"\n                  onClick={() => {\n                    setIsPaused(false);\n                    handleRestartWithAnalytics();\n                  }}\n                >\n                  Restart Game\n                </button>\n                <button \n                  className=\"help-button-pause\"\n                  onClick={() => setShowHowToPlay(true)}\n                >\n                  <HelpCircle size={24} />\n                  How to Play\n                </button>\n                <button \n                  className=\"settings-button-pause\"\n                  onClick={() => setShowSettings(true)}\n                >\n                  <SettingsIcon size={24} />\n                  Settings\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n      </div>\n\n      {/* Drag Ghost - follows pointer during drag - OUTSIDE scaled wrapper */}\n      {isDragging && dragPosition && currentTile !== null && (\n        <div \n          style={{\n            position: 'fixed',\n            left: `${dragPosition.x}px`,\n            top: `${dragPosition.y}px`,\n            transform: 'translate(-50%, -50%)',\n            pointerEvents: 'none',\n            zIndex: 9999,\n            opacity: 0.95,\n            filter: 'drop-shadow(0 8px 24px rgba(0, 0, 0, 0.4))',\n            transition: 'none'\n          }}\n        >\n          <div className={`tile big`} style={{ transform: 'scale(1.1)' }}>\n            <div className={`tile-content c${currentTile} ${highContrastMode ? 'colorblind-mode' : ''}`}>\n              <div className=\"tile-number\">{currentTile}</div>\n              {highContrastMode && (\n                <div className=\"tile-symbol\">\n                  {(() => {\n                    const symbols: { [key: number]: string } = {\n                      1: \"‚óè\", 2: \"‚ñ†\", 3: \"‚ñ≤\", 4: \"‚òÖ\", 5: \"‚óÜ\", 6: \"‚ñº\",\n                      7: \"‚óâ\", 8: \"‚óà\", 9: \"‚ú¶\", 10: \"‚¨ü\", 11: \"‚óò\"\n                    };\n                    return symbols[currentTile] || \"‚óÜ\";\n                  })()}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Modals */}\n      {showHowToPlay && <HowToPlay onClose={() => setShowHowToPlay(false)} />}\n      {showSettings && <Settings onClose={() => setShowSettings(false)} />}\n      {showWelcome && <WelcomeScreen onClose={() => setShowWelcome(false)} onShowHelp={() => { setShowWelcome(false); setShowHowToPlay(true); }} />}\n      {showShop && (\n        <Shop \n          onClose={() => setShowShop(false)}\n          coins={coins}\n          purchasedPowerUps={purchasedPowerUps}\n          onPurchase={purchasePowerUp}\n        />\n      )}\n      {showRatePrompt && gameOver && (\n        <RatePrompt \n          score={score}\n          highScore={highScore}\n          onClose={() => setShowRatePrompt(false)}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","size_bytes":16376},"client/src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n    margin: 0;\n    padding: 0;\n    overflow: hidden;\n    width: 100vw;\n    height: 100vh;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n      sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n}\n\n#root {\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  overflow: hidden;\n}\n\n/* Prevent pull-to-refresh on mobile */\nbody {\n  overscroll-behavior-y: contain;\n}\n","size_bytes":702},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport { ErrorBoundary } from \"./components/ErrorBoundary\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(\n  <ErrorBoundary>\n    <App />\n  </ErrorBoundary>\n);\n","size_bytes":260},"client/src/components/GameBoard.tsx":{"content":"import React, { useRef, useState, useEffect } from \"react\";\nimport Tile from \"./Tile\";\n\ninterface GameBoardProps {\n  grid: (number | null)[][];\n  onColumnClick: (col: number) => void;\n  gameOver: boolean;\n  isPaused?: boolean;\n  clearingTiles?: Map<string, number>;\n  hoveredColumn?: number | null;\n  onColumnPositionsUpdate?: (positions: { col: number; left: number; right: number }[]) => void;\n  justCompletedDrag?: boolean;\n}\n\nconst GameBoard: React.FC<GameBoardProps> = ({ \n  grid, \n  onColumnClick, \n  gameOver, \n  isPaused = false, \n  clearingTiles = new Map(),\n  hoveredColumn = null,\n  onColumnPositionsUpdate,\n  justCompletedDrag = false\n}) => {\n  const COLS = 6;\n  const ROWS = 7;\n  const previousGridValuesRef = useRef<(number | null)[][]>([]);\n  const [animatingTiles, setAnimatingTiles] = useState<Set<string>>(new Set());\n  const animationTimersRef = useRef<Map<string, NodeJS.Timeout>>(new Map());\n  const gridRef = useRef<HTMLDivElement>(null);\n\n  // Track new tiles for animation by comparing with previous grid values\n  useEffect(() => {\n    // Find tiles that appear in positions that were previously empty\n    const newlyAdded = new Set<string>();\n    grid.forEach((row, rowIndex) => {\n      row.forEach((value, colIndex) => {\n        if (value !== null) {\n          const key = `${rowIndex}-${colIndex}`;\n          // Only animate if this position was null (empty) in previous grid\n          const wasEmpty = !previousGridValuesRef.current[rowIndex] || \n                          previousGridValuesRef.current[rowIndex][colIndex] === null;\n          if (wasEmpty) {\n            newlyAdded.add(key);\n          }\n        }\n      });\n    });\n    \n    // Set up per-tile animation timers\n    if (newlyAdded.size > 0) {\n      setAnimatingTiles(prev => {\n        const updated = new Set(prev);\n        newlyAdded.forEach(key => updated.add(key));\n        return updated;\n      });\n      \n      // Schedule individual removal for each new tile\n      newlyAdded.forEach(key => {\n        // Clear any existing timer for this tile\n        if (animationTimersRef.current.has(key)) {\n          clearTimeout(animationTimersRef.current.get(key)!);\n        }\n        \n        // Set new timer to remove this specific tile from animation set\n        const timer = setTimeout(() => {\n          setAnimatingTiles(prev => {\n            const updated = new Set(prev);\n            updated.delete(key);\n            return updated;\n          });\n          animationTimersRef.current.delete(key);\n        }, 500);\n        \n        animationTimersRef.current.set(key, timer);\n      });\n    }\n    \n    // Clean up timers and animation state for tiles that become empty\n    const keysToCleanup: string[] = [];\n    animationTimersRef.current.forEach((timer, key) => {\n      const [rowStr, colStr] = key.split('-');\n      const row = parseInt(rowStr);\n      const col = parseInt(colStr);\n      const isEmpty = grid[row]?.[col] === null;\n      if (isEmpty) {\n        keysToCleanup.push(key);\n      }\n    });\n    \n    // Batch cleanup to avoid multiple state updates\n    if (keysToCleanup.length > 0) {\n      keysToCleanup.forEach(key => {\n        const timer = animationTimersRef.current.get(key);\n        if (timer) clearTimeout(timer);\n        animationTimersRef.current.delete(key);\n      });\n      \n      setAnimatingTiles(prev => {\n        const updated = new Set(prev);\n        keysToCleanup.forEach(key => updated.delete(key));\n        return updated;\n      });\n    }\n    \n    // Update the reference for next comparison (deep copy of grid)\n    previousGridValuesRef.current = grid.map(row => [...row]);\n  }, [grid]);\n  \n  // Cleanup all timers on unmount only\n  useEffect(() => {\n    return () => {\n      animationTimersRef.current.forEach(timer => clearTimeout(timer));\n      animationTimersRef.current.clear();\n    };\n  }, []);\n\n  // Calculate and expose column positions for drag detection\n  useEffect(() => {\n    if (!gridRef.current || !onColumnPositionsUpdate) return;\n    \n    const updatePositions = () => {\n      if (!gridRef.current) return;\n      \n      const cells = gridRef.current.querySelectorAll('.cell');\n      const positions: { col: number; left: number; right: number }[] = [];\n      \n      // Get positions from first row (top row) cells\n      for (let col = 0; col < COLS; col++) {\n        const cell = cells[col] as HTMLElement;\n        if (cell) {\n          const rect = cell.getBoundingClientRect();\n          positions.push({\n            col,\n            left: rect.left,\n            right: rect.right\n          });\n        }\n      }\n      \n      onColumnPositionsUpdate(positions);\n    };\n    \n    updatePositions();\n    window.addEventListener('resize', updatePositions);\n    \n    return () => window.removeEventListener('resize', updatePositions);\n  }, [COLS, onColumnPositionsUpdate]);\n\n  const handleCellClick = (e: React.MouseEvent, row: number, col: number) => {\n    if (gameOver || isPaused || justCompletedDrag) return;\n    onColumnClick(col);\n  };\n  \n  const handleTouchStart = (e: React.TouchEvent, col: number) => {\n    if (gameOver || isPaused) return;\n    e.preventDefault(); // Prevent delay from touch\n    onColumnClick(col);\n  };\n\n  return (\n    <div className=\"grid-container\" role=\"region\" aria-label=\"Game board\">\n      <div \n        className=\"grid\" \n        ref={gridRef} \n        role=\"grid\" \n        aria-label={`Game grid with ${ROWS} rows and ${COLS} columns`}\n      >\n        {grid.map((row, rowIndex) =>\n          row.map((value, colIndex) => {\n            const key = `${rowIndex}-${colIndex}`;\n            const isNew = animatingTiles.has(key);\n            const matchSize = clearingTiles.get(key);\n            const isClearing = matchSize !== undefined;\n            const isHovered = hoveredColumn === colIndex;\n            \n            return (\n              <div\n                key={key}\n                className={`cell ${isHovered ? 'column-hovered' : ''}`}\n                role=\"gridcell\"\n                onClick={(e) => handleCellClick(e, rowIndex, colIndex)}\n                style={{\n                  cursor: (gameOver || isPaused) ? \"default\" : \"pointer\",\n                }}\n                aria-label={value !== null ? `Cell row ${rowIndex + 1}, column ${colIndex + 1}: ${value}` : `Empty cell row ${rowIndex + 1}, column ${colIndex + 1}`}\n              >\n                {value !== null && <Tile value={value} isNew={isNew} isClearing={isClearing} matchSize={matchSize} />}\n              </div>\n            );\n          })\n        )}\n      </div>\n      \n      {/* Column indicators for mobile - show which column will be filled */}\n      <div className=\"column-indicators\" role=\"group\" aria-label=\"Column selectors\">\n        {Array.from({ length: COLS }, (_, i) => (\n          <button\n            key={i}\n            className=\"column-indicator\"\n            onClick={() => !gameOver && !isPaused && onColumnClick(i)}\n            onTouchStart={(e) => handleTouchStart(e, i)}\n            disabled={gameOver || isPaused}\n            aria-label={`Place tile in column ${i + 1}`}\n          >\n            ‚ñº\n          </button>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default GameBoard;\n","size_bytes":7162},"client/src/components/GameOver.tsx":{"content":"import React, { useState } from \"react\";\nimport { Share2, Check, Play } from \"lucide-react\";\nimport { ReviveAd } from \"./ReviveAd\";\n\ninterface GameOverProps {\n  score: number;\n  highScore: number;\n  bestCombo: number;\n  totalTilesCleared: number;\n  coinsEarned: number;\n  hasUsedRevive: boolean;\n  onRestart: () => void;\n  onRevive: () => void;\n}\n\nconst GameOver: React.FC<GameOverProps> = ({ score, highScore, bestCombo, totalTilesCleared, coinsEarned, hasUsedRevive, onRestart, onRevive }) => {\n  const isNewHighScore = score === highScore && score > 0;\n  const [shareStatus, setShareStatus] = useState<'idle' | 'copied'>('idle');\n  const [showReviveAd, setShowReviveAd] = useState(false);\n\n  const handleShare = async () => {\n    const shareText = `üéÆ I scored ${score.toLocaleString()} points in TileDrop! ${isNewHighScore ? 'üéâ NEW HIGH SCORE! ' : ''}Best combo: ${bestCombo}x\\n\\nCan you beat my score?`;\n    \n    // Try to use Web Share API (works on mobile)\n    if (navigator.share) {\n      try {\n        await navigator.share({\n          title: 'TileDrop Score',\n          text: shareText,\n        });\n        return;\n      } catch (err) {\n        // User cancelled or share failed, fall back to clipboard\n      }\n    }\n    \n    // Fallback to clipboard\n    try {\n      await navigator.clipboard.writeText(shareText);\n      setShareStatus('copied');\n      setTimeout(() => setShareStatus('idle'), 2000);\n    } catch (err) {\n      alert('Could not copy score. Please try again.');\n    }\n  };\n\n  const handleAdComplete = () => {\n    setShowReviveAd(false);\n    onRevive();\n  };\n\n  const handleAdCancel = () => {\n    setShowReviveAd(false);\n  };\n  \n  return (\n    <div className=\"game-over-overlay\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"game-over-title\">\n      <div className=\"game-over-modal\">\n        <h1 className=\"game-over-title\" id=\"game-over-title\">Game Over!</h1>\n        \n        <div className=\"final-score\" role=\"status\" aria-live=\"polite\">\n          <div className=\"final-score-label\">Final Score</div>\n          <div className=\"final-score-value\" aria-label={`Final score: ${score.toLocaleString()}`}>{score.toLocaleString()}</div>\n          {isNewHighScore && <div className=\"new-record\" role=\"status\">üéâ NEW HIGH SCORE!</div>}\n        </div>\n\n        {coinsEarned > 0 && (\n          <div className=\"coins-earned\" role=\"status\" aria-live=\"polite\">\n            <span className=\"coins-icon\">ü™ô</span>\n            <span className=\"coins-text\">+{coinsEarned} coins earned!</span>\n          </div>\n        )}\n\n        <div className=\"stats-container\" role=\"region\" aria-label=\"Game statistics\">\n          <div className=\"stat-item\">\n            <div className=\"stat-label\">High Score</div>\n            <div className=\"stat-value\" aria-label={`High score: ${highScore.toLocaleString()}`}>{highScore.toLocaleString()}</div>\n          </div>\n          <div className=\"stat-item\">\n            <div className=\"stat-label\">Best Combo</div>\n            <div className=\"stat-value\" aria-label={`Best combo: ${bestCombo} times`}>{bestCombo}x</div>\n          </div>\n          <div className=\"stat-item\">\n            <div className=\"stat-label\">Total Tiles Cleared</div>\n            <div className=\"stat-value\" aria-label={`Total tiles cleared: ${totalTilesCleared.toLocaleString()}`}>{totalTilesCleared.toLocaleString()}</div>\n          </div>\n        </div>\n\n        <div className=\"game-over-actions\">\n          {!hasUsedRevive && (\n            <button \n              className=\"revive-button\" \n              onClick={() => setShowReviveAd(true)} \n              aria-label=\"Watch ad to revive and clear top 3 rows\"\n              style={{\n                background: 'linear-gradient(135deg, #8B5CF6 0%, #EC4899 100%)',\n                color: 'white',\n                padding: '16px 24px',\n                borderRadius: '12px',\n                border: 'none',\n                fontSize: '18px',\n                fontWeight: '600',\n                cursor: 'pointer',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                gap: '8px',\n                width: '100%',\n                marginBottom: '12px',\n                boxShadow: '0 4px 12px rgba(139, 92, 246, 0.4)',\n                transition: 'transform 0.2s, box-shadow 0.2s'\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.transform = 'translateY(-2px)';\n                e.currentTarget.style.boxShadow = '0 6px 16px rgba(139, 92, 246, 0.6)';\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.transform = 'translateY(0)';\n                e.currentTarget.style.boxShadow = '0 4px 12px rgba(139, 92, 246, 0.4)';\n              }}\n            >\n              <Play size={20} aria-hidden=\"true\" />\n              Watch Ad to Revive\n            </button>\n          )}\n          \n          <button className=\"share-button\" onClick={handleShare} aria-label={shareStatus === 'copied' ? 'Score copied to clipboard' : 'Share your score'}>\n            {shareStatus === 'copied' ? (\n              <>\n                <Check size={20} aria-hidden=\"true\" />\n                Copied!\n              </>\n            ) : (\n              <>\n                <Share2 size={20} aria-hidden=\"true\" />\n                Share Score\n              </>\n            )}\n          </button>\n          \n          <button className=\"restart-button\" onClick={onRestart} aria-label=\"Play again\">\n            Play Again\n          </button>\n        </div>\n      </div>\n      \n      {showReviveAd && (\n        <ReviveAd onComplete={handleAdComplete} onCancel={handleAdCancel} />\n      )}\n    </div>\n  );\n};\n\nexport default GameOver;\n","size_bytes":5726},"client/src/components/HUD.tsx":{"content":"import React from \"react\";\nimport { useAccessibility } from \"../lib/stores/useAccessibility\";\n\ninterface HUDProps {\n  score: number;\n  highScore: number;\n  currentTile: number | null;\n  nextTiles: number[];\n  comboMultiplier: number;\n  comboStreak: number;\n  dailyChallenge: {\n    goal: number;\n    progress: number;\n    description: string;\n    completed: boolean;\n  };\n  timeRemaining: number;\n  dropMs: number;\n  isDragging?: boolean;\n}\n\nconst HUD: React.FC<HUDProps> = ({ \n  score, \n  highScore, \n  currentTile, \n  nextTiles, \n  comboMultiplier, \n  comboStreak, \n  dailyChallenge, \n  timeRemaining, \n  dropMs,\n  isDragging = false\n}) => {\n  const { colorBlindMode } = useAccessibility();\n  const getColorClass = (value: number) => `c${value}`;\n  \n  const timePercent = (timeRemaining / dropMs) * 100;\n\n  const getTileSymbol = (val: number): string => {\n    const symbols: { [key: number]: string } = {\n      1: \"‚óè\",\n      2: \"‚ñ†\",\n      3: \"‚ñ≤\",\n      4: \"‚òÖ\",\n      5: \"‚óÜ\",\n      6: \"‚ñº\",\n      7: \"‚óâ\",\n      8: \"‚óà\",\n      9: \"‚ú¶\",\n      10: \"‚¨ü\",\n      11: \"‚óò\"\n    };\n    return symbols[val] || \"‚óÜ\";\n  };\n\n  return (\n    <>\n      <div className=\"hud\" role=\"region\" aria-label=\"Game information\">\n        <div className=\"card score-card\" aria-label=\"Score card\">\n          <div className=\"score-label\" id=\"score-label\">SCORE</div>\n          <div className=\"score-value\" aria-live=\"polite\" aria-atomic=\"true\" aria-labelledby=\"score-label\">\n            {score.toLocaleString()}\n          </div>\n          {comboStreak > 0 && (\n            <div className=\"combo-indicator\" aria-live=\"assertive\" role=\"status\">\n              COMBO {comboStreak}\n            </div>\n          )}\n          <div className=\"high-score-display\" aria-label={`High score: ${highScore}`}>\n            <span className=\"high-score-label\">Best:</span> {highScore.toLocaleString()}\n          </div>\n        </div>\n\n        <div className=\"card next-card\" aria-label=\"Next tiles\">\n          <div className=\"score-label\" id=\"next-label\">NEXT</div>\n          <div className=\"next-tile\" aria-labelledby=\"next-label\" aria-live=\"polite\">\n            {currentTile !== null && (\n              <div \n                className={`tile big ${isDragging ? 'dragging' : ''}`}\n                aria-label={`Next tile: ${currentTile}`}\n              >\n                <div className={`tile-content ${getColorClass(currentTile)} ${colorBlindMode ? 'colorblind-mode' : ''}`}>\n                  <div className=\"tile-number\">{currentTile}</div>\n                  {colorBlindMode && (\n                    <div className=\"tile-symbol\">{getTileSymbol(currentTile)}</div>\n                  )}\n                </div>\n              </div>\n            )}\n          </div>\n          <div className=\"score-label\" style={{ marginTop: \"8px\" }} id=\"upcoming-label\">\n            UPCOMING\n          </div>\n          <div className=\"upcoming-tiles\" aria-labelledby=\"upcoming-label\">\n            {nextTiles.slice(0, 1).map((tile, index) => (\n              <div key={index} className={`tile small`} aria-label={`Upcoming tile: ${tile}`}>\n                <div className={`tile-content ${getColorClass(tile)} ${colorBlindMode ? 'colorblind-mode' : ''}`}>\n                  <div className=\"tile-number\">{tile}</div>\n                  {colorBlindMode && (\n                    <div className=\"tile-symbol\" style={{ fontSize: '10px' }}>{getTileSymbol(tile)}</div>\n                  )}\n                </div>\n              </div>\n            ))}\n          </div>\n          \n          {/* Auto-drop Countdown Timer */}\n          <div className=\"timer-container\" style={{ marginTop: '12px' }}>\n            <div className=\"score-label\" style={{ fontSize: '10px', marginBottom: '4px' }}>TIME</div>\n            <div className=\"timer-bar\" role=\"progressbar\" \n                 aria-valuenow={Math.ceil(timeRemaining / 1000)} \n                 aria-valuemin={0} \n                 aria-valuemax={Math.ceil(dropMs / 1000)}\n                 aria-label={`Time remaining: ${Math.ceil(timeRemaining / 1000)} seconds`}>\n              <div \n                className=\"timer-fill\"\n                style={{ \n                  width: `${timePercent}%`,\n                  backgroundColor: timePercent > 50 ? '#4ECDC4' : timePercent > 25 ? '#FFA34D' : '#FF6B6B'\n                }}\n              />\n            </div>\n            <div className=\"timer-text\" style={{ fontSize: '11px', textAlign: 'center', marginTop: '2px', opacity: 0.8 }}>\n              {(timeRemaining / 1000).toFixed(1)}s\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      {/* Daily Challenge Bar */}\n      <div className=\"daily-challenge\" role=\"region\" aria-label=\"Daily challenge progress\">\n        <div className=\"challenge-text\" id=\"challenge-desc\">\n          <span style={{ fontSize: '16px' }}>üéØ</span>\n          <span>{dailyChallenge.description}</span>\n          {dailyChallenge.completed && <span style={{ fontSize: '16px' }}>‚úÖ</span>}\n        </div>\n        <div className=\"challenge-progress-bar\" role=\"progressbar\" \n             aria-valuenow={dailyChallenge.progress} \n             aria-valuemin={0} \n             aria-valuemax={dailyChallenge.goal}\n             aria-labelledby=\"challenge-desc\">\n          <div \n            className=\"challenge-progress-fill\"\n            style={{ \n              width: `${Math.min(100, (dailyChallenge.progress / dailyChallenge.goal) * 100)}%`,\n              background: dailyChallenge.completed \n                ? 'linear-gradient(90deg, #4ade80 0%, #22c55e 50%, #16a34a 100%)' \n                : undefined\n            }}\n          />\n        </div>\n        <div className=\"challenge-count\" aria-label={`Challenge progress: ${dailyChallenge.progress} of ${dailyChallenge.goal}`}>\n          {dailyChallenge.completed ? (\n            <span style={{ \n              background: 'linear-gradient(135deg, #4ade80 0%, #22c55e 100%)',\n              WebkitBackgroundClip: 'text',\n              WebkitTextFillColor: 'transparent',\n              backgroundClip: 'text'\n            }}>\n              ‚ú® Completed! +{(dailyChallenge as any).rewardCoins} coins\n            </span>\n          ) : (\n            `${dailyChallenge.progress} / ${dailyChallenge.goal}`\n          )}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default HUD;\n","size_bytes":6300},"client/src/components/HowToPlay.tsx":{"content":"import { X, Target, Gamepad2, Timer, Zap, Flame, ShoppingBag, Tv, Calendar, Lightbulb } from 'lucide-react';\n\ninterface HowToPlayProps {\n  onClose: () => void;\n}\n\nexport default function HowToPlay({ onClose }: HowToPlayProps) {\n  return (\n    <div className=\"fixed inset-0 bg-gradient-to-br from-purple-900/95 via-blue-900/95 to-indigo-900/95 backdrop-blur-md flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-gradient-to-br from-white via-gray-50 to-purple-50/30 rounded-3xl max-w-lg w-full max-h-[90vh] shadow-2xl border border-white/20 flex flex-col overflow-hidden\">\n        {/* Header with glassmorphism effect */}\n        <div className=\"sticky top-0 bg-white/90 backdrop-blur-xl border-b border-purple-200/50 px-6 py-5 flex justify-between items-center z-10 shadow-sm\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center shadow-lg\">\n              <Gamepad2 size={20} className=\"text-white\" />\n            </div>\n            <h2 className=\"text-2xl font-extrabold bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent\">\n              How to Play\n            </h2>\n          </div>\n          <button\n            onClick={onClose}\n            className=\"w-10 h-10 rounded-xl hover:bg-purple-100 transition-all duration-200 flex items-center justify-center group\"\n            aria-label=\"Close\"\n          >\n            <X size={22} className=\"text-gray-600 group-hover:text-purple-600 transition-colors\" />\n          </button>\n        </div>\n\n        {/* Scrollable content */}\n        <div className=\"flex-1 overflow-y-auto p-6 space-y-5\">\n          {/* Goal Section */}\n          <section className=\"bg-gradient-to-br from-purple-50 to-blue-50 p-5 rounded-2xl border border-purple-200/50 shadow-sm\">\n            <div className=\"flex items-center gap-3 mb-3\">\n              <div className=\"w-9 h-9 rounded-xl bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center shadow-md\">\n                <Target size={18} className=\"text-white\" />\n              </div>\n              <h3 className=\"text-xl font-bold text-gray-900\">Goal</h3>\n            </div>\n            <p className=\"text-gray-700 leading-relaxed pl-12\">\n              Match 3 or more tiles with the same number to clear them and score points. The game gets progressively harder as you score more!\n            </p>\n          </section>\n\n          {/* How to Play Section */}\n          <section className=\"bg-white p-5 rounded-2xl border border-gray-200 shadow-sm\">\n            <div className=\"flex items-center gap-3 mb-4\">\n              <div className=\"w-9 h-9 rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center shadow-md\">\n                <Gamepad2 size={18} className=\"text-white\" />\n              </div>\n              <h3 className=\"text-xl font-bold text-gray-900\">Gameplay</h3>\n            </div>\n            <ol className=\"space-y-3 pl-12\">\n              {[\n                'Tap a column to drop the next tile',\n                'Match 3 or more tiles horizontally or vertically',\n                'Matched tiles clear automatically',\n                'Chain reactions give combo multipliers!',\n                'Game ends when the board fills completely'\n              ].map((text, i) => (\n                <li key={i} className=\"flex gap-3 items-start\">\n                  <span className=\"flex-shrink-0 w-7 h-7 rounded-lg bg-gradient-to-br from-purple-500 to-blue-500 text-white font-bold text-sm flex items-center justify-center shadow-md\">\n                    {i + 1}\n                  </span>\n                  <span className=\"text-gray-700 pt-0.5\">{text}</span>\n                </li>\n              ))}\n            </ol>\n          </section>\n\n          {/* Timer Challenge */}\n          <section className=\"bg-gradient-to-br from-orange-50 to-yellow-50 p-5 rounded-2xl border border-orange-200/50 shadow-sm\">\n            <div className=\"flex items-center gap-3 mb-3\">\n              <div className=\"w-9 h-9 rounded-xl bg-gradient-to-br from-orange-500 to-red-500 flex items-center justify-center shadow-md\">\n                <Timer size={18} className=\"text-white\" />\n              </div>\n              <h3 className=\"text-xl font-bold text-gray-900\">Timer Challenge</h3>\n            </div>\n            <p className=\"text-gray-700 leading-relaxed mb-3 pl-12\">\n              You have limited time to place each tile! After placing your first tile:\n            </p>\n            <ul className=\"space-y-2 pl-12\">\n              {[\n                'Timer starts at 4 seconds per tile',\n                'Gets 0.1s faster every 10 tiles (down to 1.2s)',\n                'If time runs out, tile auto-drops in the worst spot!',\n                'Watch the timer bar to see remaining time'\n              ].map((text, i) => (\n                <li key={i} className=\"flex gap-2 items-start\">\n                  <span className=\"flex-shrink-0 w-2 h-2 rounded-full bg-gradient-to-br from-orange-500 to-red-500 mt-2\"></span>\n                  <span className=\"text-gray-700\">{text}</span>\n                </li>\n              ))}\n            </ul>\n          </section>\n\n          {/* Power-Ups */}\n          <section className=\"bg-white p-5 rounded-2xl border border-gray-200 shadow-sm\">\n            <div className=\"flex items-center gap-3 mb-4\">\n              <div className=\"w-9 h-9 rounded-xl bg-gradient-to-br from-pink-500 to-purple-500 flex items-center justify-center shadow-md\">\n                <Zap size={18} className=\"text-white\" />\n              </div>\n              <h3 className=\"text-xl font-bold text-gray-900\">Power-Ups</h3>\n            </div>\n            <div className=\"space-y-3 pl-12\">\n              <div className=\"bg-gradient-to-r from-red-500/10 to-orange-500/10 p-4 rounded-xl border border-red-300/30 hover:shadow-md transition-shadow\">\n                <div className=\"flex items-center gap-3 mb-2\">\n                  <span className=\"text-3xl\">üí£</span>\n                  <span className=\"font-bold text-gray-900 text-lg\">Bomb</span>\n                </div>\n                <p className=\"text-sm text-gray-600 pl-11\">\n                  Clear all tiles of the same number across the entire board\n                </p>\n              </div>\n\n              <div className=\"bg-gradient-to-r from-blue-500/10 to-cyan-500/10 p-4 rounded-xl border border-blue-300/30 hover:shadow-md transition-shadow\">\n                <div className=\"flex items-center gap-3 mb-2\">\n                  <span className=\"text-3xl\">‚û°Ô∏è</span>\n                  <span className=\"font-bold text-gray-900 text-lg\">Clear Row</span>\n                </div>\n                <p className=\"text-sm text-gray-600 pl-11\">\n                  Remove an entire row of your choice\n                </p>\n              </div>\n\n              <div className=\"bg-gradient-to-r from-purple-500/10 to-pink-500/10 p-4 rounded-xl border border-purple-300/30 hover:shadow-md transition-shadow\">\n                <div className=\"flex items-center gap-3 mb-2\">\n                  <span className=\"text-3xl\">üîÑ</span>\n                  <span className=\"font-bold text-gray-900 text-lg\">Shuffle</span>\n                </div>\n                <p className=\"text-sm text-gray-600 pl-11\">\n                  Randomly rearrange all tiles on the board\n                </p>\n              </div>\n            </div>\n          </section>\n\n          {/* Combos */}\n          <section className=\"bg-gradient-to-br from-red-50 to-orange-50 p-5 rounded-2xl border border-red-200/50 shadow-sm\">\n            <div className=\"flex items-center gap-3 mb-3\">\n              <div className=\"w-9 h-9 rounded-xl bg-gradient-to-br from-red-500 to-orange-500 flex items-center justify-center shadow-md\">\n                <Flame size={18} className=\"text-white\" />\n              </div>\n              <h3 className=\"text-xl font-bold text-gray-900\">Combos</h3>\n            </div>\n            <p className=\"text-gray-700 leading-relaxed mb-3 pl-12\">\n              When tiles clear and cause a chain reaction, you earn combo multipliers:\n            </p>\n            <div className=\"space-y-2 pl-12\">\n              <div className=\"flex gap-3 items-center\">\n                <span className=\"w-10 h-10 rounded-lg bg-gradient-to-br from-orange-500 to-red-500 text-white font-bold flex items-center justify-center shadow-md\">2x</span>\n                <span className=\"text-gray-700\">Second cascade</span>\n              </div>\n              <div className=\"flex gap-3 items-center\">\n                <span className=\"w-10 h-10 rounded-lg bg-gradient-to-br from-red-500 to-pink-500 text-white font-bold flex items-center justify-center shadow-md\">3x+</span>\n                <span className=\"text-gray-700\">Third cascade and beyond (with screen shake!)</span>\n              </div>\n            </div>\n          </section>\n\n          {/* Shop */}\n          <section className=\"bg-gradient-to-br from-yellow-50 to-amber-50 p-5 rounded-2xl border border-yellow-200/50 shadow-sm\">\n            <div className=\"flex items-center gap-3 mb-3\">\n              <div className=\"w-9 h-9 rounded-xl bg-gradient-to-br from-yellow-500 to-amber-500 flex items-center justify-center shadow-md\">\n                <ShoppingBag size={18} className=\"text-white\" />\n              </div>\n              <h3 className=\"text-xl font-bold text-gray-900\">Shop</h3>\n            </div>\n            <p className=\"text-gray-700 leading-relaxed mb-3 pl-12\">\n              Earn coins by playing and use them to purchase power-ups:\n            </p>\n            <ul className=\"space-y-2 pl-12\">\n              {[\n                'Earn coins: Score √∑ 100 + 5 bonus coins per game',\n                'Bomb: 50 coins | Clear Row: 40 coins | Shuffle: 30 coins',\n                'Limited to 1 of each power-up type per game'\n              ].map((text, i) => (\n                <li key={i} className=\"flex gap-2 items-start\">\n                  <span className=\"flex-shrink-0 w-2 h-2 rounded-full bg-gradient-to-br from-yellow-500 to-amber-500 mt-2\"></span>\n                  <span className=\"text-gray-700\">{text}</span>\n                </li>\n              ))}\n            </ul>\n          </section>\n\n          {/* Watch Ad to Revive */}\n          <section className=\"bg-gradient-to-br from-pink-50 to-rose-50 p-5 rounded-2xl border border-pink-200/50 shadow-sm\">\n            <div className=\"flex items-center gap-3 mb-3\">\n              <div className=\"w-9 h-9 rounded-xl bg-gradient-to-br from-pink-500 to-rose-500 flex items-center justify-center shadow-md\">\n                <Tv size={18} className=\"text-white\" />\n              </div>\n              <h3 className=\"text-xl font-bold text-gray-900\">Watch Ad to Revive</h3>\n            </div>\n            <p className=\"text-gray-700 leading-relaxed mb-3 pl-12\">\n              When the game ends, you get one chance to keep playing:\n            </p>\n            <ul className=\"space-y-2 pl-12\">\n              {[\n                'Watch a 5-second ad to revive your game',\n                'Clears the top 3 rows, giving you more room to play',\n                'Can only be used once per game',\n                'Timer resets to 4 seconds after revival'\n              ].map((text, i) => (\n                <li key={i} className=\"flex gap-2 items-start\">\n                  <span className=\"flex-shrink-0 w-2 h-2 rounded-full bg-gradient-to-br from-pink-500 to-rose-500 mt-2\"></span>\n                  <span className=\"text-gray-700\">{text}</span>\n                </li>\n              ))}\n            </ul>\n          </section>\n\n          {/* Daily Challenge */}\n          <section className=\"bg-gradient-to-br from-green-50 to-emerald-50 p-5 rounded-2xl border border-green-200/50 shadow-sm\">\n            <div className=\"flex items-center gap-3 mb-3\">\n              <div className=\"w-9 h-9 rounded-xl bg-gradient-to-br from-green-500 to-emerald-500 flex items-center justify-center shadow-md\">\n                <Calendar size={18} className=\"text-white\" />\n              </div>\n              <h3 className=\"text-xl font-bold text-gray-900\">Daily Challenge</h3>\n            </div>\n            <p className=\"text-gray-700 leading-relaxed pl-12\">\n              Complete the daily goal to earn achievements! The challenge resets at midnight.\n            </p>\n          </section>\n\n          {/* Pro Tips */}\n          <section className=\"bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 p-[2px] rounded-2xl shadow-lg\">\n            <div className=\"bg-white p-5 rounded-2xl\">\n              <div className=\"flex items-center gap-3 mb-4\">\n                <div className=\"w-9 h-9 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center shadow-md\">\n                  <Lightbulb size={18} className=\"text-white\" />\n                </div>\n                <h3 className=\"text-xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent\">Pro Tips</h3>\n              </div>\n              <ul className=\"space-y-2 pl-12\">\n                {[\n                  'Plan ahead - check the next tile before placing',\n                  'Save power-ups for emergency situations',\n                  'Try to create chain reactions for higher scores',\n                  'Keep columns balanced to avoid filling up'\n                ].map((text, i) => (\n                  <li key={i} className=\"flex gap-2 items-start\">\n                    <span className=\"flex-shrink-0 w-2 h-2 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 mt-2\"></span>\n                    <span className=\"text-gray-700 font-medium\">{text}</span>\n                  </li>\n                ))}\n              </ul>\n            </div>\n          </section>\n        </div>\n\n        {/* Footer Button */}\n        <div className=\"sticky bottom-0 bg-white/90 backdrop-blur-xl border-t border-purple-200/50 px-6 py-5 z-10 shadow-lg\">\n          <button\n            onClick={onClose}\n            className=\"w-full bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 text-white font-bold py-4 px-6 rounded-xl hover:from-purple-700 hover:via-blue-700 hover:to-indigo-700 transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98] shadow-xl shadow-purple-500/30\"\n          >\n            Got it! Let's Play üéÆ\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":14435},"client/src/components/Particles.tsx":{"content":"import { useEffect, useState } from 'react';\n\ninterface Particle {\n  id: number;\n  x: number;\n  y: number;\n  color: string;\n  velocity: { x: number; y: number };\n  life: number;\n}\n\ninterface ParticlesProps {\n  trigger: number;\n  position?: { x: number; y: number };\n  color?: string;\n  count?: number;\n}\n\nexport default function Particles({ trigger, position, color = '#667eea', count = 12 }: ParticlesProps) {\n  const [particles, setParticles] = useState<Particle[]>([]);\n\n  useEffect(() => {\n    if (trigger === 0) return;\n\n    const newParticles: Particle[] = [];\n    const centerX = position?.x ?? window.innerWidth / 2;\n    const centerY = position?.y ?? window.innerHeight / 2;\n\n    for (let i = 0; i < count; i++) {\n      const angle = (Math.PI * 2 * i) / count;\n      const speed = 2 + Math.random() * 3;\n      \n      newParticles.push({\n        id: Date.now() + i,\n        x: centerX,\n        y: centerY,\n        color,\n        velocity: {\n          x: Math.cos(angle) * speed,\n          y: Math.sin(angle) * speed - 2,\n        },\n        life: 1,\n      });\n    }\n\n    setParticles(prev => [...prev, ...newParticles]);\n\n    const animationDuration = 1000;\n    const startTime = Date.now();\n\n    const animate = () => {\n      const elapsed = Date.now() - startTime;\n      const progress = elapsed / animationDuration;\n\n      if (progress < 1) {\n        setParticles(prev =>\n          prev.map(p => ({\n            ...p,\n            x: p.x + p.velocity.x,\n            y: p.y + p.velocity.y,\n            velocity: {\n              x: p.velocity.x * 0.98,\n              y: p.velocity.y + 0.2,\n            },\n            life: 1 - progress,\n          }))\n        );\n        requestAnimationFrame(animate);\n      } else {\n        setParticles(prev => prev.filter(p => p.id < Date.now() - animationDuration));\n      }\n    };\n\n    requestAnimationFrame(animate);\n  }, [trigger, position, color, count]);\n\n  return (\n    <div className=\"particles-container\">\n      {particles.map(particle => (\n        <div\n          key={particle.id}\n          className=\"particle\"\n          style={{\n            left: `${particle.x}px`,\n            top: `${particle.y}px`,\n            backgroundColor: particle.color,\n            opacity: particle.life,\n            transform: `scale(${particle.life})`,\n          }}\n        />\n      ))}\n    </div>\n  );\n}\n","size_bytes":2339},"client/src/components/PowerUps.tsx":{"content":"import React from \"react\";\n\ninterface PowerUp {\n  type: \"bomb\" | \"row\" | \"swap\";\n  count: number;\n}\n\ninterface PowerUpsProps {\n  powerUps: PowerUp[];\n  onPowerUpUse: (type: string) => void;\n  gameOver: boolean;\n  selectedPowerUp: string | null;\n}\n\nconst PowerUps: React.FC<PowerUpsProps> = ({ powerUps, onPowerUpUse, gameOver, selectedPowerUp }) => {\n  const getPowerUpIcon = (type: string) => {\n    switch (type) {\n      case \"bomb\":\n        return \"üí£\";\n      case \"row\":\n        return \"‚û°Ô∏è\";\n      case \"swap\":\n        return \"üîÑ\";\n      default:\n        return \"?\";\n    }\n  };\n\n  const getPowerUpLabel = (type: string) => {\n    switch (type) {\n      case \"bomb\":\n        return \"Bomb\";\n      case \"row\":\n        return \"Row\";\n      case \"swap\":\n        return \"Swap\";\n      default:\n        return \"?\";\n    }\n  };\n\n  return (\n    <div className=\"powerups\" role=\"group\" aria-label=\"Power-ups\">\n      {powerUps.map((powerUp) => (\n        <button\n          key={powerUp.type}\n          className={`powerup-container ${\n            powerUp.count === 0 || gameOver ? \"disabled\" : \"\"\n          } ${selectedPowerUp === powerUp.type ? \"selected\" : \"\"}`}\n          onClick={() => !gameOver && powerUp.count > 0 && onPowerUpUse(powerUp.type)}\n          disabled={gameOver || powerUp.count === 0}\n          aria-label={`${getPowerUpLabel(powerUp.type)} power-up, ${powerUp.count} remaining${selectedPowerUp === powerUp.type ? ', currently selected' : ''}`}\n          aria-pressed={selectedPowerUp === powerUp.type}\n        >\n          <div className=\"powerup\" aria-hidden=\"true\">{getPowerUpIcon(powerUp.type)}</div>\n          <div className=\"powerup-label\" aria-hidden=\"true\">{getPowerUpLabel(powerUp.type)}</div>\n          <div className=\"powerup-count\" aria-hidden=\"true\">√ó{powerUp.count}</div>\n        </button>\n      ))}\n    </div>\n  );\n};\n\nexport default PowerUps;\n","size_bytes":1872},"client/src/components/ReviveAd.tsx":{"content":"import { useEffect, useState } from 'react';\nimport { Play, X } from 'lucide-react';\n\ninterface ReviveAdProps {\n  onComplete: () => void;\n  onCancel: () => void;\n}\n\nexport function ReviveAd({ onComplete, onCancel }: ReviveAdProps) {\n  const [countdown, setCountdown] = useState(5);\n  const [isWatching, setIsWatching] = useState(false);\n\n  useEffect(() => {\n    if (isWatching && countdown > 0) {\n      const timer = setTimeout(() => {\n        setCountdown(countdown - 1);\n      }, 1000);\n      return () => clearTimeout(timer);\n    } else if (isWatching && countdown === 0) {\n      onComplete();\n    }\n  }, [countdown, isWatching, onComplete]);\n\n  if (!isWatching) {\n    return (\n      <div className=\"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4\">\n        <div className=\"bg-gradient-to-b from-gray-900 to-gray-800 rounded-2xl p-6 max-w-md w-full border-2 border-purple-500/50 shadow-2xl\">\n          <div className=\"text-center space-y-4\">\n            <div className=\"w-16 h-16 mx-auto bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center\">\n              <Play className=\"w-8 h-8 text-white\" />\n            </div>\n            <h2 className=\"text-2xl font-bold text-white\">Watch Ad to Revive?</h2>\n            <p className=\"text-gray-300\">\n              Watch a 5-second video to clear the top 3 rows and continue playing!\n            </p>\n            <div className=\"flex gap-3 pt-2\">\n              <button\n                onClick={() => setIsWatching(true)}\n                className=\"flex-1 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-semibold py-6 text-lg rounded-xl border-none cursor-pointer transition-all\"\n              >\n                Watch Ad\n              </button>\n              <button\n                onClick={onCancel}\n                className=\"px-6 py-3 border-2 border-gray-600 text-gray-300 hover:bg-gray-800 bg-transparent rounded-xl cursor-pointer transition-all\"\n              >\n                <X className=\"w-5 h-5\" />\n              </button>\n            </div>          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"fixed inset-0 bg-black flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-gray-900 rounded-2xl p-8 max-w-md w-full border-2 border-purple-500 shadow-2xl text-center space-y-6\">\n        <div className=\"relative w-full aspect-video bg-gradient-to-br from-purple-600/20 to-pink-600/20 rounded-lg flex items-center justify-center border border-purple-500/30\">\n          <div className=\"text-center\">\n            <Play className=\"w-16 h-16 text-purple-400 mx-auto mb-2 animate-pulse\" />\n            <p className=\"text-gray-400 text-sm\">Simulated Ad Playing...</p>\n          </div>\n        </div>\n        \n        <div className=\"space-y-2\">\n          <div className=\"text-5xl font-bold text-white tabular-nums\">\n            {countdown}\n          </div>\n          <p className=\"text-gray-400\">seconds remaining</p>\n        </div>\n\n        <div className=\"w-full bg-gray-800 rounded-full h-2 overflow-hidden\">\n          <div \n            className=\"bg-gradient-to-r from-purple-500 to-pink-500 h-full transition-all duration-1000\"\n            style={{ width: `${((5 - countdown) / 5) * 100}%` }}\n          />\n        </div>\n\n        <p className=\"text-xs text-gray-500\">\n          Note: In the mobile app, this will show a real rewarded video ad\n        </p>\n      </div>\n    </div>\n  );\n}\n","size_bytes":3496},"client/src/components/Settings.tsx":{"content":"import { X, Volume2, VolumeX, Trash2, Eye, Contrast, Wind, Music, Zap, CheckCircle, Star, ZoomOut } from 'lucide-react';\nimport { useAudio } from '../lib/stores/useAudio';\nimport { useAccessibility } from '../lib/stores/useAccessibility';\nimport { useDisplay } from '../lib/stores/useDisplay';\n\ninterface SettingsProps {\n  onClose: () => void;\n}\n\nexport default function Settings({ onClose }: SettingsProps) {\n  const { \n    isMuted, \n    toggleMute, \n    musicVolume, \n    hitVolume, \n    successVolume, \n    comboVolume,\n    setMusicVolume,\n    setHitVolume,\n    setSuccessVolume,\n    setComboVolume,\n    playHit,\n    playSuccess,\n    playCombo\n  } = useAudio();\n  const { colorBlindMode, highContrastMode, reducedMotion, toggleColorBlindMode, toggleHighContrastMode, toggleReducedMotion } = useAccessibility();\n  const { zoomLevel, setZoomLevel } = useDisplay();\n\n  const handleResetStats = () => {\n    if (confirm('Are you sure you want to reset all your statistics? This cannot be undone.')) {\n      try {\n        localStorage.removeItem('highScore');\n        localStorage.removeItem('bestCombo');\n        localStorage.removeItem('totalTilesCleared');\n        alert('Statistics have been reset!');\n        window.location.reload();\n      } catch (err) {\n        console.warn('Failed to reset statistics:', err);\n        alert('Failed to reset statistics. Please try again.');\n      }\n    }\n  };\n\n  const handleResetFirstVisit = () => {\n    try {\n      localStorage.removeItem('hasVisited');\n      alert('First visit flag reset. Reload to see welcome screen again.');\n    } catch (err) {\n      console.warn('Failed to reset first visit flag:', err);\n      alert('Failed to reset. Please try again.');\n    }\n  };\n\n  const handleResetCoins = () => {\n    if (confirm('Are you sure you want to reset your coins to 0? This cannot be undone.')) {\n      try {\n        localStorage.setItem('coins', '0');\n        alert('Coins have been reset to 0!');\n        window.location.reload();\n      } catch (err) {\n        console.warn('Failed to reset coins:', err);\n        alert('Failed to reset coins. Please try again.');\n      }\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-hidden shadow-2xl flex flex-col\">\n        <div className=\"bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center rounded-t-2xl\">\n          <h2 className=\"text-2xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent\">\n            Settings\n          </h2>\n          <button\n            onClick={onClose}\n            className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\n            aria-label=\"Close\"\n          >\n            <X size={24} className=\"text-gray-600\" />\n          </button>\n        </div>\n\n        <div className=\"p-6 space-y-4 overflow-y-auto flex-1\">\n          <section className=\"bg-gray-50 p-4 rounded-xl border border-gray-200\">\n            <h3 className=\"text-lg font-bold text-gray-900 mb-3\">üìê Display</h3>\n            <div className=\"bg-white p-3 rounded-lg border border-gray-200\">\n              <div className=\"flex items-center justify-between mb-2\">\n                <div className=\"flex items-center gap-2\">\n                  <ZoomOut size={16} className=\"text-indigo-500\" />\n                  <span className=\"text-sm font-semibold text-gray-700\">Zoom Level</span>\n                </div>\n                <span className=\"text-xs text-gray-500\">{Math.round(zoomLevel * 100)}%</span>\n              </div>\n              <input\n                type=\"range\"\n                min=\"60\"\n                max=\"100\"\n                value={zoomLevel * 100}\n                onChange={(e) => setZoomLevel(parseInt(e.target.value) / 100)}\n                className=\"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-indigo-500\"\n              />\n              <p className=\"text-xs text-gray-500 mt-2\">\n                Adjust if the game doesn't fit your screen. Lower values zoom out to show more.\n              </p>\n            </div>\n          </section>\n\n          <section className=\"bg-gray-50 p-4 rounded-xl border border-gray-200\">\n            <h3 className=\"text-lg font-bold text-gray-900 mb-3\">üîä Audio</h3>\n            <button\n              onClick={toggleMute}\n              className=\"w-full flex items-center justify-between p-3 bg-white rounded-lg border border-gray-300 hover:border-purple-500 transition-colors mb-3\"\n            >\n              <span className=\"font-semibold text-gray-700\">Master Volume</span>\n              <div className=\"flex items-center gap-2\">\n                {isMuted ? (\n                  <>\n                    <VolumeX size={20} className=\"text-red-500\" />\n                    <span className=\"text-sm text-red-500 font-medium\">Muted</span>\n                  </>\n                ) : (\n                  <>\n                    <Volume2 size={20} className=\"text-green-500\" />\n                    <span className=\"text-sm text-green-500 font-medium\">On</span>\n                  </>\n                )}\n              </div>\n            </button>\n\n            {/* Individual Volume Controls */}\n            <div className=\"space-y-3\">\n              {/* Background Music */}\n              <div className=\"bg-white p-3 rounded-lg border border-gray-200\">\n                <div className=\"flex items-center justify-between mb-2\">\n                  <div className=\"flex items-center gap-2\">\n                    <Music size={16} className=\"text-purple-500\" />\n                    <span className=\"text-sm font-semibold text-gray-700\">Background Music</span>\n                  </div>\n                  <span className=\"text-xs text-gray-500\">{Math.round(musicVolume * 100)}%</span>\n                </div>\n                <input\n                  type=\"range\"\n                  min=\"0\"\n                  max=\"100\"\n                  value={musicVolume * 100}\n                  onChange={(e) => setMusicVolume(parseInt(e.target.value) / 100)}\n                  className=\"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-purple-500\"\n                  disabled={isMuted}\n                />\n              </div>\n\n              {/* Tile Drop Sound */}\n              <div className=\"bg-white p-3 rounded-lg border border-gray-200\">\n                <div className=\"flex items-center justify-between mb-2\">\n                  <div className=\"flex items-center gap-2\">\n                    <Zap size={16} className=\"text-blue-500\" />\n                    <span className=\"text-sm font-semibold text-gray-700\">Tile Drop</span>\n                  </div>\n                  <span className=\"text-xs text-gray-500\">{Math.round(hitVolume * 100)}%</span>\n                </div>\n                <input\n                  type=\"range\"\n                  min=\"0\"\n                  max=\"100\"\n                  value={hitVolume * 100}\n                  onChange={(e) => {\n                    setHitVolume(parseInt(e.target.value) / 100);\n                    if (!isMuted) playHit();\n                  }}\n                  className=\"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500\"\n                  disabled={isMuted}\n                />\n              </div>\n\n              {/* Match Success Sound */}\n              <div className=\"bg-white p-3 rounded-lg border border-gray-200\">\n                <div className=\"flex items-center justify-between mb-2\">\n                  <div className=\"flex items-center gap-2\">\n                    <CheckCircle size={16} className=\"text-green-500\" />\n                    <span className=\"text-sm font-semibold text-gray-700\">Match Success</span>\n                  </div>\n                  <span className=\"text-xs text-gray-500\">{Math.round(successVolume * 100)}%</span>\n                </div>\n                <input\n                  type=\"range\"\n                  min=\"0\"\n                  max=\"100\"\n                  value={successVolume * 100}\n                  onChange={(e) => {\n                    setSuccessVolume(parseInt(e.target.value) / 100);\n                    if (!isMuted) playSuccess();\n                  }}\n                  className=\"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-green-500\"\n                  disabled={isMuted}\n                />\n              </div>\n\n              {/* Combo Sound */}\n              <div className=\"bg-white p-3 rounded-lg border border-gray-200\">\n                <div className=\"flex items-center justify-between mb-2\">\n                  <div className=\"flex items-center gap-2\">\n                    <Star size={16} className=\"text-orange-500\" />\n                    <span className=\"text-sm font-semibold text-gray-700\">Combo Sound</span>\n                  </div>\n                  <span className=\"text-xs text-gray-500\">{Math.round(comboVolume * 100)}%</span>\n                </div>\n                <input\n                  type=\"range\"\n                  min=\"0\"\n                  max=\"100\"\n                  value={comboVolume * 100}\n                  onChange={(e) => {\n                    setComboVolume(parseInt(e.target.value) / 100);\n                    if (!isMuted) playCombo(2);\n                  }}\n                  className=\"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-orange-500\"\n                  disabled={isMuted}\n                />\n              </div>\n            </div>\n          </section>\n\n          <section className=\"bg-gray-50 p-4 rounded-xl border border-gray-200\">\n            <h3 className=\"text-lg font-bold text-gray-900 mb-3\">‚ôø Accessibility</h3>\n            <div className=\"space-y-2\">\n              <button\n                onClick={toggleColorBlindMode}\n                className=\"w-full flex items-center justify-between p-3 bg-white rounded-lg border border-gray-300 hover:border-purple-500 transition-colors\"\n                role=\"switch\"\n                aria-checked={colorBlindMode}\n                aria-label={`Color-Blind Mode: ${colorBlindMode ? 'On' : 'Off'}`}\n              >\n                <div className=\"flex items-center gap-2\">\n                  <Eye size={18} className={colorBlindMode ? \"text-purple-600\" : \"text-gray-500\"} aria-hidden=\"true\" />\n                  <span className=\"font-semibold text-gray-700\">Color-Blind Mode</span>\n                </div>\n                <div className=\"flex items-center gap-2\" aria-hidden=\"true\">\n                  {colorBlindMode ? (\n                    <span className=\"text-sm text-purple-600 font-medium\">On</span>\n                  ) : (\n                    <span className=\"text-sm text-gray-500 font-medium\">Off</span>\n                  )}\n                </div>\n              </button>\n              \n              <button\n                onClick={toggleHighContrastMode}\n                className=\"w-full flex items-center justify-between p-3 bg-white rounded-lg border border-gray-300 hover:border-purple-500 transition-colors\"\n                role=\"switch\"\n                aria-checked={highContrastMode}\n                aria-label={`High Contrast Mode: ${highContrastMode ? 'On' : 'Off'}`}\n              >\n                <div className=\"flex items-center gap-2\">\n                  <Contrast size={18} className={highContrastMode ? \"text-purple-600\" : \"text-gray-500\"} aria-hidden=\"true\" />\n                  <span className=\"font-semibold text-gray-700\">High Contrast</span>\n                </div>\n                <div className=\"flex items-center gap-2\" aria-hidden=\"true\">\n                  {highContrastMode ? (\n                    <span className=\"text-sm text-purple-600 font-medium\">On</span>\n                  ) : (\n                    <span className=\"text-sm text-gray-500 font-medium\">Off</span>\n                  )}\n                </div>\n              </button>\n              \n              <button\n                onClick={toggleReducedMotion}\n                className=\"w-full flex items-center justify-between p-3 bg-white rounded-lg border border-gray-300 hover:border-purple-500 transition-colors\"\n                role=\"switch\"\n                aria-checked={reducedMotion}\n                aria-label={`Reduced Motion: ${reducedMotion ? 'On' : 'Off'}`}\n              >\n                <div className=\"flex items-center gap-2\">\n                  <Wind size={18} className={reducedMotion ? \"text-purple-600\" : \"text-gray-500\"} aria-hidden=\"true\" />\n                  <span className=\"font-semibold text-gray-700\">Reduced Motion</span>\n                </div>\n                <div className=\"flex items-center gap-2\" aria-hidden=\"true\">\n                  {reducedMotion ? (\n                    <span className=\"text-sm text-purple-600 font-medium\">On</span>\n                  ) : (\n                    <span className=\"text-sm text-gray-500 font-medium\">Off</span>\n                  )}\n                </div>\n              </button>\n            </div>\n          </section>\n\n          <section className=\"bg-gray-50 p-4 rounded-xl border border-gray-200\">\n            <h3 className=\"text-lg font-bold text-gray-900 mb-3\">üìä Data Management</h3>\n            <div className=\"space-y-2\">\n              <button\n                onClick={handleResetStats}\n                className=\"w-full flex items-center justify-between p-3 bg-white rounded-lg border border-red-300 hover:border-red-500 hover:bg-red-50 transition-colors group\"\n              >\n                <span className=\"font-semibold text-gray-700 group-hover:text-red-700\">Reset Statistics</span>\n                <Trash2 size={20} className=\"text-red-500\" />\n              </button>\n              \n              <button\n                onClick={handleResetCoins}\n                className=\"w-full flex items-center justify-between p-3 bg-white rounded-lg border border-orange-300 hover:border-orange-500 hover:bg-orange-50 transition-colors group\"\n              >\n                <span className=\"font-semibold text-gray-700 group-hover:text-orange-700\">Reset Coins to 0</span>\n                <Trash2 size={20} className=\"text-orange-500\" />\n              </button>\n              \n              <button\n                onClick={handleResetFirstVisit}\n                className=\"w-full flex items-center justify-between p-3 bg-white rounded-lg border border-gray-300 hover:border-purple-500 hover:bg-purple-50 transition-colors text-sm\"\n              >\n                <span className=\"font-medium text-gray-600\">Show Welcome Screen Again</span>\n                <span className=\"text-purple-600\">‚Üª</span>\n              </button>\n            </div>\n          </section>\n\n          <section className=\"bg-gradient-to-r from-purple-50 to-blue-50 p-4 rounded-xl border border-purple-200\">\n            <h3 className=\"text-sm font-bold text-gray-900 mb-2\">‚ÑπÔ∏è About TileDrop</h3>\n            <p className=\"text-xs text-gray-600 leading-relaxed\">\n              A mobile-optimized puzzle game with continuous difficulty progression. \n              Match tiles, create combos, and beat your high score!\n            </p>\n            <p className=\"text-xs text-gray-500 mt-2\">\n              Version 1.0.0\n            </p>\n            <p className=\"text-xs text-gray-500 mt-2 pt-2 border-t border-purple-200\">\n              Music: \"Quirky Puzzler\" by Eric Matyas (soundimage.org)\n            </p>\n          </section>\n        </div>\n\n        <div className=\"bg-white border-t border-gray-200 px-6 py-4 rounded-b-2xl\">\n          <button\n            onClick={onClose}\n            className=\"w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white font-bold py-3 px-6 rounded-xl hover:from-purple-700 hover:to-blue-700 transition-all transform hover:scale-[1.02] active:scale-[0.98] shadow-lg\"\n          >\n            Close Settings\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":15912},"client/src/components/Shop.tsx":{"content":"import { X, Bomb, ArrowRight, RefreshCw, Coins } from 'lucide-react';\n\ninterface ShopProps {\n  onClose: () => void;\n  coins: number;\n  purchasedPowerUps: string[];\n  onPurchase: (type: string, cost: number) => boolean;\n}\n\nconst POWERUP_PRICES = {\n  bomb: 50,\n  row: 40,\n  swap: 30,\n};\n\nexport default function Shop({ onClose, coins, purchasedPowerUps, onPurchase }: ShopProps) {\n  const handlePurchase = (type: string, cost: number) => {\n    const success = onPurchase(type, cost);\n    if (!success) {\n      // Could add toast notification here\n      console.log('Purchase failed');\n    }\n  };\n\n  const isPurchased = (type: string) => purchasedPowerUps.includes(type);\n  const canAfford = (cost: number) => coins >= cost;\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-2xl max-w-md w-full shadow-2xl\">\n        <div className=\"bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center rounded-t-2xl\">\n          <h2 className=\"text-2xl font-bold bg-gradient-to-r from-yellow-600 to-orange-600 bg-clip-text text-transparent\">\n            Power-Up Shop\n          </h2>\n          <button\n            onClick={onClose}\n            className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\n            aria-label=\"Close\"\n          >\n            <X size={24} className=\"text-gray-600\" />\n          </button>\n        </div>\n\n        <div className=\"p-6 space-y-4\">\n          {/* Coin Balance */}\n          <div className=\"bg-gradient-to-br from-yellow-400 to-orange-500 p-4 rounded-xl shadow-lg\">\n            <div className=\"flex items-center justify-center gap-2 text-white\">\n              <Coins size={28} className=\"animate-pulse\" />\n              <div className=\"text-center\">\n                <div className=\"text-sm font-semibold opacity-90\">Your Balance</div>\n                <div className=\"text-3xl font-bold\">{coins}</div>\n              </div>\n            </div>\n          </div>\n\n          {/* Info Banner */}\n          <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-3\">\n            <p className=\"text-sm text-blue-900 text-center\">\n              ‚ö° You can purchase <strong>one of each</strong> power-up per game\n            </p>\n          </div>\n\n          {/* Power-Up Items */}\n          <div className=\"space-y-3\">\n            {/* Bomb Power-Up */}\n            <div className=\"bg-gray-50 p-4 rounded-xl border-2 border-gray-200\">\n              <div className=\"flex items-center justify-between mb-2\">\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"w-12 h-12 bg-red-500 rounded-lg flex items-center justify-center\">\n                    <Bomb size={24} className=\"text-white\" />\n                  </div>\n                  <div>\n                    <h3 className=\"font-bold text-gray-900\">Bomb</h3>\n                    <p className=\"text-xs text-gray-600\">Clear 3x3 area</p>\n                  </div>\n                </div>\n                <div className=\"text-right\">\n                  <div className=\"flex items-center gap-1 font-bold text-orange-600\">\n                    <Coins size={16} />\n                    <span>{POWERUP_PRICES.bomb}</span>\n                  </div>\n                </div>\n              </div>\n              {isPurchased('bomb') ? (\n                <div className=\"w-full py-2 bg-green-100 text-green-700 rounded-lg font-semibold text-center\">\n                  ‚úì Purchased\n                </div>\n              ) : (\n                <button\n                  onClick={() => handlePurchase('bomb', POWERUP_PRICES.bomb)}\n                  disabled={!canAfford(POWERUP_PRICES.bomb)}\n                  className={`w-full py-2 rounded-lg font-semibold transition-colors ${\n                    canAfford(POWERUP_PRICES.bomb)\n                      ? 'bg-gradient-to-r from-red-500 to-orange-500 text-white hover:from-red-600 hover:to-orange-600'\n                      : 'bg-gray-300 text-gray-500 cursor-not-allowed'\n                  }`}\n                >\n                  {canAfford(POWERUP_PRICES.bomb) ? 'Purchase' : 'Not Enough Coins'}\n                </button>\n              )}\n            </div>\n\n            {/* Row Clear Power-Up */}\n            <div className=\"bg-gray-50 p-4 rounded-xl border-2 border-gray-200\">\n              <div className=\"flex items-center justify-between mb-2\">\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center\">\n                    <ArrowRight size={24} className=\"text-white\" />\n                  </div>\n                  <div>\n                    <h3 className=\"font-bold text-gray-900\">Row Clear</h3>\n                    <p className=\"text-xs text-gray-600\">Clear entire row</p>\n                  </div>\n                </div>\n                <div className=\"text-right\">\n                  <div className=\"flex items-center gap-1 font-bold text-orange-600\">\n                    <Coins size={16} />\n                    <span>{POWERUP_PRICES.row}</span>\n                  </div>\n                </div>\n              </div>\n              {isPurchased('row') ? (\n                <div className=\"w-full py-2 bg-green-100 text-green-700 rounded-lg font-semibold text-center\">\n                  ‚úì Purchased\n                </div>\n              ) : (\n                <button\n                  onClick={() => handlePurchase('row', POWERUP_PRICES.row)}\n                  disabled={!canAfford(POWERUP_PRICES.row)}\n                  className={`w-full py-2 rounded-lg font-semibold transition-colors ${\n                    canAfford(POWERUP_PRICES.row)\n                      ? 'bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:from-blue-600 hover:to-purple-600'\n                      : 'bg-gray-300 text-gray-500 cursor-not-allowed'\n                  }`}\n                >\n                  {canAfford(POWERUP_PRICES.row) ? 'Purchase' : 'Not Enough Coins'}\n                </button>\n              )}\n            </div>\n\n            {/* Swap Power-Up */}\n            <div className=\"bg-gray-50 p-4 rounded-xl border-2 border-gray-200\">\n              <div className=\"flex items-center justify-between mb-2\">\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"w-12 h-12 bg-teal-500 rounded-lg flex items-center justify-center\">\n                    <RefreshCw size={24} className=\"text-white\" />\n                  </div>\n                  <div>\n                    <h3 className=\"font-bold text-gray-900\">Swap</h3>\n                    <p className=\"text-xs text-gray-600\">Get new tile</p>\n                  </div>\n                </div>\n                <div className=\"text-right\">\n                  <div className=\"flex items-center gap-1 font-bold text-orange-600\">\n                    <Coins size={16} />\n                    <span>{POWERUP_PRICES.swap}</span>\n                  </div>\n                </div>\n              </div>\n              {isPurchased('swap') ? (\n                <div className=\"w-full py-2 bg-green-100 text-green-700 rounded-lg font-semibold text-center\">\n                  ‚úì Purchased\n                </div>\n              ) : (\n                <button\n                  onClick={() => handlePurchase('swap', POWERUP_PRICES.swap)}\n                  disabled={!canAfford(POWERUP_PRICES.swap)}\n                  className={`w-full py-2 rounded-lg font-semibold transition-colors ${\n                    canAfford(POWERUP_PRICES.swap)\n                      ? 'bg-gradient-to-r from-teal-500 to-green-500 text-white hover:from-teal-600 hover:to-green-600'\n                      : 'bg-gray-300 text-gray-500 cursor-not-allowed'\n                  }`}\n                >\n                  {canAfford(POWERUP_PRICES.swap) ? 'Purchase' : 'Not Enough Coins'}\n                </button>\n              )}\n            </div>\n          </div>\n\n          {/* Earn More Info */}\n          <div className=\"bg-purple-50 border border-purple-200 rounded-lg p-3\">\n            <p className=\"text-sm text-purple-900 text-center\">\n              üí° <strong>Earn coins</strong> by playing! Higher scores = more coins\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":8306},"client/src/components/Tile.tsx":{"content":"import React from \"react\";\nimport { useAccessibility } from \"../lib/stores/useAccessibility\";\n\ninterface TileProps {\n  value: number;\n  isNew?: boolean;\n  isClearing?: boolean;\n  matchSize?: number;\n}\n\nconst Tile: React.FC<TileProps> = ({ value, isNew = false, isClearing = false, matchSize }) => {\n  const { colorBlindMode } = useAccessibility();\n  const getColorClass = (val: number) => `c${val}`;\n\n  const getTileSymbol = (val: number): string => {\n    const symbols: { [key: number]: string } = {\n      1: \"‚óè\",\n      2: \"‚ñ†\",\n      3: \"‚ñ≤\",\n      4: \"‚òÖ\",\n      5: \"‚óÜ\",\n      6: \"‚ñº\",\n      7: \"‚óâ\",\n      8: \"‚óà\",\n      9: \"‚ú¶\",\n      10: \"‚¨ü\",\n      11: \"‚óò\",\n      12: \"‚¨¢\"\n    };\n    return symbols[val] || \"‚óÜ\";\n  };\n\n  // PLACEMENT ANIMATION\n  const placementAnimation = 'tile-glow';\n\n  // CLEARING ANIMATION - Select based on match size\n  // 3-match: tile-clear-spin (standard spin animation)\n  // 4-match: tile-clear-power (bigger explosion effect)\n  // 5+ match: tile-clear-uber (huge explosive effect with burst)\n  const getClearingAnimation = () => {\n    if (!isClearing || !matchSize) return '';\n    \n    if (matchSize >= 5) {\n      return 'tile-clear-uber'; // Epic 5+ match animation\n    } else if (matchSize === 4) {\n      return 'tile-clear-power'; // Powerful 4-match animation\n    } else {\n      return 'tile-clear-spin'; // Standard 3-match animation\n    }\n  };\n\n  return (\n    <div className={`tile-content ${getColorClass(value)} ${colorBlindMode ? 'colorblind-mode' : ''} ${isNew ? placementAnimation : ''} ${getClearingAnimation()}`}>\n      <div className=\"tile-number\">{value}</div>\n      {colorBlindMode && (\n        <div className=\"tile-symbol\">{getTileSymbol(value)}</div>\n      )}\n    </div>\n  );\n};\n\nexport default Tile;\n","size_bytes":1769},"client/src/components/WelcomeScreen.tsx":{"content":"import { Sparkles, Trophy, Zap, Target } from 'lucide-react';\n\ninterface WelcomeScreenProps {\n  onClose: () => void;\n  onShowHelp: () => void;\n}\n\nexport default function WelcomeScreen({ onClose, onShowHelp }: WelcomeScreenProps) {\n  return (\n    <div className=\"fixed inset-0 bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-gradient-to-br from-white via-gray-50 to-purple-50/30 rounded-3xl max-w-md w-full shadow-2xl overflow-hidden animate-scale-in border border-white/20\">\n        {/* Header with premium gradient and glow effect */}\n        <div className=\"relative bg-gradient-to-br from-purple-600 via-blue-600 to-indigo-600 p-10 text-center overflow-hidden\">\n          {/* Animated background circles */}\n          <div className=\"absolute top-0 left-0 w-32 h-32 bg-white/10 rounded-full blur-2xl -translate-x-8 -translate-y-8\"></div>\n          <div className=\"absolute bottom-0 right-0 w-40 h-40 bg-white/10 rounded-full blur-3xl translate-x-12 translate-y-12\"></div>\n          \n          {/* Logo/Icon */}\n          <div className=\"relative inline-block mb-4\">\n            <div className=\"absolute inset-0 bg-white/30 rounded-2xl blur-xl\"></div>\n            <div className=\"relative p-5 bg-white/20 backdrop-blur-sm rounded-2xl border border-white/30 shadow-2xl\">\n              <Sparkles size={56} className=\"text-white\" strokeWidth={2.5} />\n            </div>\n          </div>\n          \n          {/* Title */}\n          <h1 className=\"relative text-5xl font-black text-white mb-3 tracking-tight drop-shadow-lg\">\n            TileDrop\n          </h1>\n          <p className=\"relative text-white/90 font-semibold text-xl tracking-wide\">\n            Match, Clear, Score!\n          </p>\n          \n          {/* Decorative shine effect */}\n          <div className=\"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-white/10 to-transparent pointer-events-none\"></div>\n        </div>\n\n        <div className=\"p-8 space-y-6\">\n          {/* Welcome Message */}\n          <div className=\"text-center space-y-3\">\n            <h2 className=\"text-3xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent\">\n              Welcome! üëã\n            </h2>\n            <p className=\"text-gray-600 leading-relaxed text-lg\">\n              Drop numbered tiles into columns and match 3 or more to clear them. \n              The game gets progressively harder as you score more points!\n            </p>\n          </div>\n\n          {/* Feature Highlights */}\n          <div className=\"grid grid-cols-3 gap-3\">\n            <div className=\"group hover:scale-105 transition-transform duration-200\">\n              <div className=\"text-center p-4 bg-gradient-to-br from-purple-500/10 to-pink-500/10 rounded-2xl border border-purple-300/30 shadow-sm hover:shadow-md transition-shadow\">\n                <div className=\"w-12 h-12 mx-auto mb-2 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-md\">\n                  <Trophy size={24} className=\"text-white\" />\n                </div>\n                <div className=\"text-xs font-bold text-gray-700\">High Scores</div>\n              </div>\n            </div>\n            <div className=\"group hover:scale-105 transition-transform duration-200\">\n              <div className=\"text-center p-4 bg-gradient-to-br from-blue-500/10 to-cyan-500/10 rounded-2xl border border-blue-300/30 shadow-sm hover:shadow-md transition-shadow\">\n                <div className=\"w-12 h-12 mx-auto mb-2 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl flex items-center justify-center shadow-md\">\n                  <Zap size={24} className=\"text-white\" />\n                </div>\n                <div className=\"text-xs font-bold text-gray-700\">Power-Ups</div>\n              </div>\n            </div>\n            <div className=\"group hover:scale-105 transition-transform duration-200\">\n              <div className=\"text-center p-4 bg-gradient-to-br from-orange-500/10 to-red-500/10 rounded-2xl border border-orange-300/30 shadow-sm hover:shadow-md transition-shadow\">\n                <div className=\"w-12 h-12 mx-auto mb-2 bg-gradient-to-br from-orange-500 to-red-500 rounded-xl flex items-center justify-center shadow-md\">\n                  <Target size={24} className=\"text-white\" />\n                </div>\n                <div className=\"text-xs font-bold text-gray-700\">Combos</div>\n              </div>\n            </div>\n          </div>\n\n          {/* Power-ups Preview */}\n          <div className=\"bg-white p-4 rounded-2xl border border-gray-200 shadow-sm\">\n            <p className=\"text-xs font-semibold text-gray-500 mb-3 text-center uppercase tracking-wider\">Available Power-Ups</p>\n            <div className=\"grid grid-cols-3 gap-2\">\n              <div className=\"text-center p-3 bg-gradient-to-br from-red-500/10 to-orange-500/10 rounded-xl border border-red-300/30 hover:shadow-md transition-shadow\">\n                <div className=\"text-3xl mb-1\">üí£</div>\n                <div className=\"text-xs font-semibold text-gray-700\">Bomb</div>\n              </div>\n              <div className=\"text-center p-3 bg-gradient-to-br from-blue-500/10 to-cyan-500/10 rounded-xl border border-blue-300/30 hover:shadow-md transition-shadow\">\n                <div className=\"text-3xl mb-1\">‚û°Ô∏è</div>\n                <div className=\"text-xs font-semibold text-gray-700\">Clear Row</div>\n              </div>\n              <div className=\"text-center p-3 bg-gradient-to-br from-purple-500/10 to-pink-500/10 rounded-xl border border-purple-300/30 hover:shadow-md transition-shadow\">\n                <div className=\"text-3xl mb-1\">üîÑ</div>\n                <div className=\"text-xs font-semibold text-gray-700\">Shuffle</div>\n              </div>\n            </div>\n          </div>\n\n          {/* Pro Tip with premium styling */}\n          <div className=\"relative bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 p-[2px] rounded-2xl\">\n            <div className=\"bg-white p-4 rounded-2xl\">\n              <p className=\"text-sm text-gray-700 text-center font-semibold\">\n                <span className=\"inline-block mr-2\">üí°</span>\n                <span className=\"bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent font-bold\">Pro Tip:</span>\n                <span className=\"ml-1\">Create chain reactions for combo multipliers and higher scores!</span>\n              </p>\n            </div>\n          </div>\n\n          {/* Action Buttons */}\n          <div className=\"space-y-3 pt-2\">\n            <button\n              onClick={onClose}\n              className=\"w-full bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 text-white font-bold py-4 px-6 rounded-xl hover:from-purple-700 hover:via-blue-700 hover:to-indigo-700 transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98] shadow-xl shadow-purple-500/30 text-lg\"\n            >\n              Start Playing! üéÆ\n            </button>\n            <button\n              onClick={onShowHelp}\n              className=\"w-full bg-white text-gray-700 font-semibold py-3 px-6 rounded-xl border-2 border-gray-300 hover:border-purple-500 hover:bg-gradient-to-r hover:from-purple-50 hover:to-blue-50 transition-all duration-200 shadow-sm hover:shadow-md\"\n            >\n              Learn More\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":7471},"client/src/hooks/use-is-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","size_bytes":565},"client/src/hooks/useGame.tsx":{"content":"import { useState, useEffect, useCallback, useRef } from \"react\";\nimport { useAudio } from \"../lib/stores/useAudio\";\n\nconst ROWS = 7;\nconst COLS = 6;\nconst INITIAL_POWERUPS = 1;\n\ninterface PowerUp {\n  type: \"bomb\" | \"row\" | \"swap\";\n  count: number;\n}\n\ninterface DailyChallenge {\n  goal: number;\n  progress: number;\n  description: string;\n  reward: string;\n  rewardCoins: number;\n  completed: boolean;\n  date: string;\n}\n\n// Helper: Get today's date as YYYY-MM-DD string\nconst getTodayString = (): string => {\n  const today = new Date();\n  return today.toISOString().split('T')[0];\n};\n\n// Helper: Generate a random daily challenge\nconst generateDailyChallenge = (): DailyChallenge => {\n  const challenges = [\n    { goal: 50, description: \"Clear 50 tiles today\", rewardCoins: 20 },\n    { goal: 75, description: \"Clear 75 tiles today\", rewardCoins: 30 },\n    { goal: 100, description: \"Clear 100 tiles today\", rewardCoins: 40 },\n    { goal: 30, description: \"Clear 30 tiles in one session\", rewardCoins: 25 },\n    { goal: 1000, description: \"Score 1000 points today\", rewardCoins: 35 },\n  ];\n  \n  const randomChallenge = challenges[Math.floor(Math.random() * challenges.length)];\n  \n  return {\n    ...randomChallenge,\n    progress: 0,\n    reward: `+${randomChallenge.rewardCoins} coins`,\n    completed: false,\n    date: getTodayString()\n  };\n};\n\n// Helper: Load or initialize daily challenge from localStorage\nconst loadDailyChallenge = (): DailyChallenge => {\n  try {\n    const saved = localStorage.getItem('dailyChallenge');\n    if (saved) {\n      const challenge: DailyChallenge = JSON.parse(saved);\n      const today = getTodayString();\n      \n      // If the challenge is from today, return it\n      if (challenge.date === today) {\n        return challenge;\n      }\n    }\n  } catch (err) {\n    console.warn('Failed to load daily challenge from localStorage:', err);\n  }\n  \n  // Generate new challenge if none exists or it's a new day\n  const newChallenge = generateDailyChallenge();\n  try {\n    localStorage.setItem('dailyChallenge', JSON.stringify(newChallenge));\n  } catch (err) {\n    console.warn('Failed to save daily challenge to localStorage:', err);\n  }\n  return newChallenge;\n};\n\nexport const useGame = (isPaused: boolean = false) => {\n  const { playHit, playSuccess, playCombo } = useAudio();\n  \n  // Initialize empty grid\n  const createEmptyGrid = (): (number | null)[][] => {\n    return Array(ROWS)\n      .fill(null)\n      .map(() => Array(COLS).fill(null));\n  };\n\n  const [grid, setGrid] = useState<(number | null)[][]>(createEmptyGrid());\n  const [score, setScore] = useState(0);\n  const [currentTile, setCurrentTile] = useState<number | null>(null);\n  const [nextTiles, setNextTiles] = useState<number[]>([]);\n  const [gameOver, setGameOver] = useState(false);\n  const [powerUps, setPowerUps] = useState<PowerUp[]>([\n    { type: \"bomb\", count: 0 },\n    { type: \"row\", count: 0 },\n    { type: \"swap\", count: 0 },\n  ]);\n  const [selectedPowerUp, setSelectedPowerUp] = useState<string | null>(null);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [clearingTiles, setClearingTiles] = useState<Map<string, number>>(new Map()); // Track tiles being cleared for animation with match size\n  \n  // New features: combo, difficulty, challenges\n  const [comboCount, setComboCount] = useState(0);\n  const [comboMultiplier, setComboMultiplier] = useState(1);\n  const [comboStreak, setComboStreak] = useState(0); // Consecutive turns with matches\n  const [maxTileNumber, setMaxTileNumber] = useState(10); // Start with tiles 1-10\n  const [tilesPlaced, setTilesPlaced] = useState(0);\n  const [dailyChallenge, setDailyChallenge] = useState<DailyChallenge>(() => loadDailyChallenge());\n  const [lastScoreGain, setLastScoreGain] = useState<{amount: number, multiplier: number} | null>(null);\n  \n  // Auto-drop timer state\n  const [dropMs, setDropMs] = useState(4000); // Start at 4 seconds\n  const [timeRemaining, setTimeRemaining] = useState(4000);\n  const [isTimerFrozen, setIsTimerFrozen] = useState(false); // Timer frozen when power-up is selected\n  const dropTimerRef = useRef<NodeJS.Timeout | null>(null);\n  const countdownIntervalRef = useRef<NodeJS.Timeout | null>(null);\n  const freezeTimerRef = useRef<NodeJS.Timeout | null>(null);\n  const MIN_DROP_MS = 1500;\n  \n  // High score and statistics with error handling\n  const [highScore, setHighScore] = useState(() => {\n    try {\n      const saved = localStorage.getItem('highScore');\n      return saved ? parseInt(saved, 10) : 0;\n    } catch (err) {\n      console.warn('Failed to load high score from localStorage:', err);\n      return 0;\n    }\n  });\n  const [bestCombo, setBestCombo] = useState(() => {\n    try {\n      const saved = localStorage.getItem('bestCombo');\n      return saved ? parseInt(saved, 10) : 0;\n    } catch (err) {\n      console.warn('Failed to load best combo from localStorage:', err);\n      return 0;\n    }\n  });\n  const [totalTilesCleared, setTotalTilesCleared] = useState(() => {\n    try {\n      const saved = localStorage.getItem('totalTilesCleared');\n      return saved ? parseInt(saved, 10) : 0;\n    } catch (err) {\n      console.warn('Failed to load total tiles cleared from localStorage:', err);\n      return 0;\n    }\n  });\n  \n  // Coins currency system\n  const [coins, setCoins] = useState(() => {\n    try {\n      const saved = localStorage.getItem('coins');\n      return saved ? parseInt(saved, 10) : 0;\n    } catch (err) {\n      console.warn('Failed to load coins from localStorage:', err);\n      return 0;\n    }\n  });\n  const [coinsEarned, setCoinsEarned] = useState(0); // Coins earned this game\n  const [purchasedPowerUps, setPurchasedPowerUps] = useState<string[]>([]); // Track what's been bought this game\n  const [hasUsedRevive, setHasUsedRevive] = useState(false); // Track if revive has been used this game\n  const challengeCompletedRef = useRef(false); // Track if we've already awarded coins for this challenge\n\n  // Generate a random tile value based on current difficulty\n  const generateTile = (): number => {\n    return Math.floor(Math.random() * maxTileNumber) + 1;\n  };\n\n  // Initialize game\n  useEffect(() => {\n    if (currentTile === null && nextTiles.length === 0) {\n      setCurrentTile(generateTile());\n      setNextTiles([generateTile()]);\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // Adaptive difficulty: gradually increase tile numbers based on score\n  useEffect(() => {\n    if (score >= 4000 && maxTileNumber < 12) {\n      setMaxTileNumber(12);\n    } else if (score >= 2000 && maxTileNumber < 11) {\n      setMaxTileNumber(11);\n    }\n  }, [score, maxTileNumber]);\n\n  // Update high score when game ends\n  useEffect(() => {\n    if (gameOver && score > highScore) {\n      setHighScore(score);\n      try {\n        localStorage.setItem('highScore', score.toString());\n      } catch (err) {\n        console.warn('Failed to save high score to localStorage:', err);\n      }\n    }\n  }, [gameOver, score, highScore]);\n  \n  // Award coins when game ends\n  useEffect(() => {\n    if (gameOver && coinsEarned === 0) { // Only award once per game\n      // Formula: 1 coin per 100 score + 5 base coins\n      const earnedCoins = Math.floor(score / 100) + 5;\n      setCoinsEarned(earnedCoins);\n      const newTotal = coins + earnedCoins;\n      setCoins(newTotal);\n      try {\n        localStorage.setItem('coins', newTotal.toString());\n      } catch (err) {\n        console.warn('Failed to save coins to localStorage:', err);\n      }\n      console.log(`Game over! Earned ${earnedCoins} coins. Total: ${newTotal}`);\n    }\n  }, [gameOver, score, coins, coinsEarned]);\n\n  // Daily challenge system: save state and award coins when completed\n  useEffect(() => {\n    // Save daily challenge state whenever it changes\n    try {\n      localStorage.setItem('dailyChallenge', JSON.stringify(dailyChallenge));\n    } catch (err) {\n      console.warn('Failed to save daily challenge to localStorage:', err);\n    }\n\n    // Check if challenge is newly completed and award coins (only once per challenge)\n    if (!dailyChallenge.completed && dailyChallenge.progress >= dailyChallenge.goal && !challengeCompletedRef.current) {\n      challengeCompletedRef.current = true;\n      \n      const updatedChallenge = { ...dailyChallenge, completed: true };\n      \n      // Award coins\n      const newCoinTotal = coins + dailyChallenge.rewardCoins;\n      setCoins(newCoinTotal);\n      setDailyChallenge(updatedChallenge);\n      \n      try {\n        localStorage.setItem('coins', newCoinTotal.toString());\n        localStorage.setItem('dailyChallenge', JSON.stringify(updatedChallenge));\n      } catch (err) {\n        console.warn('Failed to save after completing daily challenge:', err);\n      }\n      \n      console.log(`üéâ Daily challenge completed! Earned ${dailyChallenge.rewardCoins} coins. Total: ${newCoinTotal}`);\n    }\n    \n    // Reset the ref if it's a new day or challenge was reset\n    if (dailyChallenge.progress === 0 && challengeCompletedRef.current) {\n      challengeCompletedRef.current = false;\n    }\n  }, [dailyChallenge, coins]);\n\n  // Check for date change and reset challenge at midnight\n  useEffect(() => {\n    const checkDateChange = () => {\n      const today = getTodayString();\n      if (dailyChallenge.date !== today) {\n        console.log('New day detected! Resetting daily challenge...');\n        const newChallenge = generateDailyChallenge();\n        setDailyChallenge(newChallenge);\n        challengeCompletedRef.current = false;\n        try {\n          localStorage.setItem('dailyChallenge', JSON.stringify(newChallenge));\n        } catch (err) {\n          console.warn('Failed to save new daily challenge:', err);\n        }\n      }\n    };\n\n    // Check immediately on mount\n    checkDateChange();\n\n    // Check every minute for date changes (catches midnight rollover)\n    const intervalId = setInterval(checkDateChange, 60000);\n\n    // Also check when window regains focus (catches user leaving tab open overnight)\n    const handleFocus = () => {\n      checkDateChange();\n    };\n    window.addEventListener('focus', handleFocus);\n\n    return () => {\n      clearInterval(intervalId);\n      window.removeEventListener('focus', handleFocus);\n    };\n  }, [dailyChallenge.date]);\n\n  // Auto-drop timer: start countdown when tile is ready\n  useEffect(() => {\n    // Clear existing timers\n    if (dropTimerRef.current) clearTimeout(dropTimerRef.current);\n    if (countdownIntervalRef.current) clearInterval(countdownIntervalRef.current);\n    \n    // Don't start timer if game is over, paused, frozen, no tile, or haven't placed first tile yet\n    if (gameOver || isPaused || isTimerFrozen || currentTile === null || isProcessing || tilesPlaced === 0) {\n      return;\n    }\n    \n    // Reset time remaining\n    setTimeRemaining(dropMs);\n    \n    // Countdown interval (update every 100ms for smooth UI)\n    countdownIntervalRef.current = setInterval(() => {\n      setTimeRemaining(prev => {\n        const newTime = prev - 100;\n        if (newTime <= 0) {\n          if (countdownIntervalRef.current) clearInterval(countdownIntervalRef.current);\n          return 0;\n        }\n        return newTime;\n      });\n    }, 100);\n    \n    // Auto-drop timer\n    dropTimerRef.current = setTimeout(() => {\n      // Find worst column and place tile there\n      const worstCol = findWorstColumn(grid);\n      console.log('Auto-dropping tile in worst column:', worstCol);\n      \n      // Reset combo on auto-drop\n      setComboCount(0);\n      setComboMultiplier(1);\n      \n      // Trigger a column click programmatically\n      const clickEvent = new Event('auto-drop');\n      handleColumnClick(worstCol);\n    }, dropMs);\n    \n    // Cleanup\n    return () => {\n      if (dropTimerRef.current) clearTimeout(dropTimerRef.current);\n      if (countdownIntervalRef.current) clearInterval(countdownIntervalRef.current);\n    };\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentTile, gameOver, isPaused, isTimerFrozen, isProcessing, dropMs, grid, tilesPlaced]);\n\n  // Decrease drop time every 5 tiles placed (faster difficulty ramp)\n  useEffect(() => {\n    if (tilesPlaced > 0 && tilesPlaced % 5 === 0) {\n      setDropMs(prev => Math.max(MIN_DROP_MS, prev - 150));\n    }\n  }, [tilesPlaced, MIN_DROP_MS]);\n\n  // Check for matches and clear them\n  const checkAndClearMatches = useCallback((currentGrid: (number | null)[][]): { \n    newGrid: (number | null)[][], \n    clearedCount: number \n  } => {\n    const gridCopy = currentGrid.map(row => [...row]);\n    const toRemove = new Set<string>();\n\n    // Check horizontal matches\n    for (let row = 0; row < ROWS; row++) {\n      for (let col = 0; col < COLS - 2; col++) {\n        const value = gridCopy[row][col];\n        if (value === null) continue;\n\n        let matchLength = 1;\n        for (let k = col + 1; k < COLS && gridCopy[row][k] === value; k++) {\n          matchLength++;\n        }\n\n        if (matchLength >= 3) {\n          for (let k = 0; k < matchLength; k++) {\n            toRemove.add(`${row}-${col + k}`);\n          }\n        }\n      }\n    }\n\n    // Check vertical matches\n    for (let col = 0; col < COLS; col++) {\n      for (let row = 0; row < ROWS - 2; row++) {\n        const value = gridCopy[row][col];\n        if (value === null) continue;\n\n        let matchLength = 1;\n        for (let k = row + 1; k < ROWS && gridCopy[k][col] === value; k++) {\n          matchLength++;\n        }\n\n        if (matchLength >= 3) {\n          for (let k = 0; k < matchLength; k++) {\n            toRemove.add(`${row + k}-${col}`);\n          }\n        }\n      }\n    }\n\n    // Check cluster matches (adjacent same numbers)\n    const visited = new Set<string>();\n    const findCluster = (row: number, col: number, value: number, cluster: string[]) => {\n      const key = `${row}-${col}`;\n      if (visited.has(key)) return;\n      if (row < 0 || row >= ROWS || col < 0 || col >= COLS) return;\n      if (gridCopy[row][col] !== value) return;\n\n      visited.add(key);\n      cluster.push(key);\n\n      // Check all 4 directions\n      findCluster(row - 1, col, value, cluster);\n      findCluster(row + 1, col, value, cluster);\n      findCluster(row, col - 1, value, cluster);\n      findCluster(row, col + 1, value, cluster);\n    };\n\n    for (let row = 0; row < ROWS; row++) {\n      for (let col = 0; col < COLS; col++) {\n        const value = gridCopy[row][col];\n        if (value === null || visited.has(`${row}-${col}`)) continue;\n\n        const cluster: string[] = [];\n        findCluster(row, col, value, cluster);\n\n        if (cluster.length >= 3) {\n          cluster.forEach(key => toRemove.add(key));\n        }\n      }\n    }\n\n    // Remove matched tiles\n    toRemove.forEach(key => {\n      const [row, col] = key.split(\"-\").map(Number);\n      gridCopy[row][col] = null;\n    });\n\n    return { newGrid: gridCopy, clearedCount: toRemove.size };\n  }, []);\n\n  // Apply gravity to make tiles fall\n  const applyGravity = useCallback((currentGrid: (number | null)[][]): (number | null)[][] => {\n    const gridCopy = currentGrid.map(row => [...row]);\n\n    for (let col = 0; col < COLS; col++) {\n      // Collect all non-null values in this column\n      const values: number[] = [];\n      for (let row = ROWS - 1; row >= 0; row--) {\n        if (gridCopy[row][col] !== null) {\n          values.push(gridCopy[row][col]!);\n        }\n      }\n\n      // Fill column from bottom with values, rest with null\n      for (let row = ROWS - 1; row >= 0; row--) {\n        const valueIndex = ROWS - 1 - row;\n        gridCopy[row][col] = valueIndex < values.length ? values[valueIndex] : null;\n      }\n    }\n\n    return gridCopy;\n  }, []);\n\n  // Process matches recursively until no more matches\n  const processMatches = useCallback(async (currentGrid: (number | null)[][]): Promise<{\n    finalGrid: (number | null)[][],\n    totalScore: number,\n    matchCount: number,\n    totalCleared: number\n  }> => {\n    let workingGrid = currentGrid;\n    let totalCleared = 0;\n    let matchCount = 0;\n\n    while (true) {\n      // First, find matches without clearing\n      const gridCopy = workingGrid.map(row => [...row]);\n      const matchGroups: Array<{tiles: string[], size: number}> = [];\n      const processedTiles = new Set<string>();\n\n      // Check horizontal matches\n      for (let row = 0; row < ROWS; row++) {\n        for (let col = 0; col < COLS - 2; col++) {\n          const value = gridCopy[row][col];\n          if (value === null) continue;\n          let matchLength = 1;\n          for (let k = col + 1; k < COLS && gridCopy[row][k] === value; k++) {\n            matchLength++;\n          }\n          if (matchLength >= 3) {\n            const matchTiles: string[] = [];\n            for (let k = 0; k < matchLength; k++) {\n              const key = `${row}-${col + k}`;\n              if (!processedTiles.has(key)) {\n                matchTiles.push(key);\n                processedTiles.add(key);\n              }\n            }\n            if (matchTiles.length > 0) {\n              matchGroups.push({ tiles: matchTiles, size: matchLength });\n            }\n          }\n        }\n      }\n\n      // Check vertical matches\n      for (let col = 0; col < COLS; col++) {\n        for (let row = 0; row < ROWS - 2; row++) {\n          const value = gridCopy[row][col];\n          if (value === null) continue;\n          let matchLength = 1;\n          for (let k = row + 1; k < ROWS && gridCopy[k][col] === value; k++) {\n            matchLength++;\n          }\n          if (matchLength >= 3) {\n            const matchTiles: string[] = [];\n            for (let k = 0; k < matchLength; k++) {\n              const key = `${row + k}-${col}`;\n              if (!processedTiles.has(key)) {\n                matchTiles.push(key);\n                processedTiles.add(key);\n              }\n            }\n            if (matchTiles.length > 0) {\n              matchGroups.push({ tiles: matchTiles, size: matchLength });\n            }\n          }\n        }\n      }\n\n      // Check cluster matches\n      const visited = new Set<string>();\n      const findCluster = (row: number, col: number, value: number, cluster: string[]) => {\n        const key = `${row}-${col}`;\n        if (visited.has(key)) return;\n        if (row < 0 || row >= ROWS || col < 0 || col >= COLS) return;\n        if (gridCopy[row][col] !== value) return;\n        visited.add(key);\n        cluster.push(key);\n        findCluster(row - 1, col, value, cluster);\n        findCluster(row + 1, col, value, cluster);\n        findCluster(row, col - 1, value, cluster);\n        findCluster(row, col + 1, value, cluster);\n      };\n\n      for (let row = 0; row < ROWS; row++) {\n        for (let col = 0; col < COLS; col++) {\n          const value = gridCopy[row][col];\n          if (value === null || visited.has(`${row}-${col}`)) continue;\n          const cluster: string[] = [];\n          findCluster(row, col, value, cluster);\n          if (cluster.length >= 3) {\n            const matchTiles: string[] = [];\n            cluster.forEach(key => {\n              if (!processedTiles.has(key)) {\n                matchTiles.push(key);\n                processedTiles.add(key);\n              }\n            });\n            if (matchTiles.length > 0) {\n              matchGroups.push({ tiles: matchTiles, size: cluster.length });\n            }\n          }\n        }\n      }\n      \n      if (matchGroups.length === 0) break;\n\n      // Build clearing tiles map with match sizes\n      const clearingMap = new Map<string, number>();\n      matchGroups.forEach(group => {\n        group.tiles.forEach(tileKey => {\n          // If tile is in multiple matches, use the largest match size\n          const currentSize = clearingMap.get(tileKey) || 0;\n          clearingMap.set(tileKey, Math.max(currentSize, group.size));\n        });\n      });\n\n      // Show clearing animation\n      setClearingTiles(clearingMap);\n      await new Promise(resolve => setTimeout(resolve, 400)); // Wait for clear animation\n      \n      // Now actually remove the tiles\n      clearingMap.forEach((_, key) => {\n        const [row, col] = key.split(\"-\").map(Number);\n        gridCopy[row][col] = null;\n      });\n      \n      setClearingTiles(new Map()); // Clear animation state\n\n      matchCount++;\n      totalCleared += clearingMap.size;\n      workingGrid = applyGravity(gridCopy);\n      \n      // Small delay before checking for cascades\n      await new Promise(resolve => setTimeout(resolve, 200));\n    }\n\n    // Calculate combo multiplier (1x for 1 match, 2x for 2, 3x for 3, etc.)\n    const currentMultiplier = Math.max(1, matchCount);\n    const scoreGained = totalCleared * 100 * currentMultiplier;\n    \n    return { finalGrid: workingGrid, totalScore: scoreGained, matchCount, totalCleared };\n  }, [applyGravity]);\n\n  // Find the lowest empty row in a column\n  const findLowestEmptyRow = (grid: (number | null)[][], col: number): number => {\n    for (let row = ROWS - 1; row >= 0; row--) {\n      if (grid[row][col] === null) {\n        return row;\n      }\n    }\n    return -1; // Column is full\n  };\n\n  // Check if board is completely full (game over)\n  const isBoardFull = (grid: (number | null)[][]): boolean => {\n    for (let col = 0; col < COLS; col++) {\n      if (findLowestEmptyRow(grid, col) !== -1) {\n        return false; // Found an empty spot\n      }\n    }\n    return true; // No empty spots\n  };\n\n  // Find the worst column (highest fill) for auto-drop\n  const findWorstColumn = (grid: (number | null)[][]): number => {\n    let worstCol = 0;\n    let highestFill = -1;\n    \n    for (let col = 0; col < COLS; col++) {\n      const emptyRow = findLowestEmptyRow(grid, col);\n      if (emptyRow === -1) continue; // Skip full columns\n      \n      const fillHeight = ROWS - 1 - emptyRow;\n      if (fillHeight > highestFill) {\n        highestFill = fillHeight;\n        worstCol = col;\n      }\n    }\n    \n    return worstCol;\n  };\n\n  // Handle column click to place tile\n  const handleColumnClick = useCallback(async (col: number) => {\n    if (gameOver || currentTile === null || isProcessing) return;\n\n    setIsProcessing(true);\n\n    // Handle power-up usage\n    if (selectedPowerUp) {\n      handlePowerUpAction(col);\n      setIsProcessing(false);\n      return;\n    }\n\n    const row = findLowestEmptyRow(grid, col);\n\n    if (row === -1) {\n      // Column is full, game over\n      setGameOver(true);\n      setIsProcessing(false);\n      return;\n    }\n\n    // Place the tile\n    const newGrid = grid.map(r => [...r]);\n    newGrid[row][col] = currentTile;\n\n    setGrid(newGrid);\n    playHit(); // Play tile drop sound\n\n    // Small delay for drop animation\n    await new Promise(resolve => setTimeout(resolve, 200));\n\n    // Process matches\n    const { finalGrid, totalScore, matchCount, totalCleared} = await processMatches(newGrid);\n    \n    setGrid(finalGrid);\n    setScore(prev => prev + totalScore);\n    setTilesPlaced(prev => prev + 1);\n\n    // Update combo tracking\n    if (matchCount > 0) {\n      playSuccess(); // Play match success sound\n      setComboCount(prev => prev + matchCount);\n      setComboMultiplier(matchCount);\n      setComboStreak(prev => {\n        const newStreak = prev + 1;\n        // Play combo sound if streak is 2 or higher\n        if (newStreak >= 2) {\n          playCombo(newStreak);\n        }\n        return newStreak;\n      });\n      setLastScoreGain({ amount: totalScore, multiplier: matchCount });\n      \n      // Update best combo if current is better\n      if (matchCount > bestCombo) {\n        setBestCombo(matchCount);\n        try {\n          localStorage.setItem('bestCombo', matchCount.toString());\n        } catch (err) {\n          console.warn('Failed to save best combo to localStorage:', err);\n        }\n      }\n      \n      // Update total tiles cleared\n      setTotalTilesCleared(prev => {\n        const newTotal = prev + totalCleared;\n        try {\n          localStorage.setItem('totalTilesCleared', newTotal.toString());\n        } catch (err) {\n          console.warn('Failed to save total tiles cleared to localStorage:', err);\n        }\n        return newTotal;\n      });\n      \n      // Update daily challenge progress based on challenge type\n      setDailyChallenge(prev => {\n        // Check if this is a score-based challenge\n        const isScoreChallenge = prev.description.toLowerCase().includes('score') || prev.description.toLowerCase().includes('points');\n        const progressIncrement = isScoreChallenge ? totalScore : totalCleared;\n        \n        return {\n          ...prev,\n          progress: Math.min(prev.goal, prev.progress + progressIncrement)\n        };\n      });\n      \n      // Clear score popup after delay\n      setTimeout(() => setLastScoreGain(null), 2000);\n    } else {\n      setComboMultiplier(1);\n      setComboStreak(0); // Reset streak when no matches\n    }\n\n    // Check if board is completely full after processing matches\n    if (isBoardFull(finalGrid)) {\n      setGameOver(true);\n      setIsProcessing(false);\n      return;\n    }\n\n    // Move to next tile\n    setCurrentTile(nextTiles[0]);\n    setNextTiles([generateTile()]);\n\n    setIsProcessing(false);\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [gameOver, currentTile, grid, nextTiles, selectedPowerUp, isProcessing, processMatches]);\n\n  // Handle power-up actions\n  const handlePowerUpAction = (col: number) => {\n    if (!selectedPowerUp) return;\n\n    const newGrid = grid.map(row => [...row]);\n\n    switch (selectedPowerUp) {\n      case \"bomb\":\n        // Clear 3x3 area around clicked cell\n        const row = findLowestEmptyRow(grid, col);\n        if (row === -1) return;\n\n        for (let r = Math.max(0, row - 1); r <= Math.min(ROWS - 1, row + 1); r++) {\n          for (let c = Math.max(0, col - 1); c <= Math.min(COLS - 1, col + 1); c++) {\n            newGrid[r][c] = null;\n          }\n        }\n        break;\n\n      case \"row\":\n        // Clear entire row\n        const targetRow = findLowestEmptyRow(grid, col);\n        if (targetRow === -1) return;\n\n        for (let c = 0; c < COLS; c++) {\n          newGrid[targetRow][c] = null;\n        }\n        break;\n\n      case \"swap\":\n        // Swap current tile with a random one\n        setCurrentTile(generateTile());\n        setSelectedPowerUp(null);\n        return;\n    }\n\n    const finalGrid = applyGravity(newGrid);\n    setGrid(finalGrid);\n\n    // Deduct power-up\n    setPowerUps(prev =>\n      prev.map(p =>\n        p.type === selectedPowerUp\n          ? { ...p, count: Math.max(0, p.count - 1) }\n          : p\n      )\n    );\n\n    setSelectedPowerUp(null);\n  };\n\n  // Handle power-up selection\n  const handlePowerUpUse = useCallback((type: string) => {\n    if (gameOver) return;\n    \n    const powerUp = powerUps.find(p => p.type === type);\n    if (!powerUp || powerUp.count === 0) return;\n\n    // Freeze timer for 10 seconds when power-up is clicked\n    if (freezeTimerRef.current) clearTimeout(freezeTimerRef.current);\n    setIsTimerFrozen(true);\n    freezeTimerRef.current = setTimeout(() => {\n      setIsTimerFrozen(false);\n    }, 10000); // 10 seconds\n\n    if (type === \"swap\") {\n      setCurrentTile(generateTile());\n      setPowerUps(prev =>\n        prev.map(p =>\n          p.type === type\n            ? { ...p, count: Math.max(0, p.count - 1) }\n            : p\n        )\n      );\n    } else {\n      setSelectedPowerUp(selectedPowerUp === type ? null : type);\n    }\n  }, [gameOver, powerUps, selectedPowerUp]);\n\n  // Purchase power-up from shop\n  const purchasePowerUp = useCallback((type: string, cost: number) => {\n    // Check if already purchased this game\n    if (purchasedPowerUps.includes(type)) {\n      console.log(`${type} already purchased this game`);\n      return false;\n    }\n    \n    // Check if enough coins\n    if (coins < cost) {\n      console.log(`Not enough coins. Need ${cost}, have ${coins}`);\n      return false;\n    }\n    \n    // Deduct coins\n    const newCoins = coins - cost;\n    setCoins(newCoins);\n    try {\n      localStorage.setItem('coins', newCoins.toString());\n    } catch (err) {\n      console.warn('Failed to save coins to localStorage:', err);\n    }\n    \n    // Add power-up\n    setPowerUps(prev =>\n      prev.map(p =>\n        p.type === type ? { ...p, count: p.count + 1 } : p\n      )\n    );\n    \n    // Mark as purchased this game\n    setPurchasedPowerUps(prev => [...prev, type]);\n    \n    console.log(`Purchased ${type} for ${cost} coins. Remaining: ${newCoins}`);\n    return true;\n  }, [coins, purchasedPowerUps]);\n\n  // Clear top 3 rows\n  const clearTopRows = useCallback(() => {\n    setGrid(prevGrid => {\n      const newGrid = [...prevGrid];\n      // Clear the top 3 rows (indices 0, 1, 2)\n      for (let row = 0; row < 3; row++) {\n        newGrid[row] = Array(COLS).fill(null);\n      }\n      return newGrid;\n    });\n    playSuccess();\n  }, [playSuccess]);\n\n  // Revive game after watching ad\n  const reviveGame = useCallback(() => {\n    if (hasUsedRevive) return; // Can only revive once per game\n    \n    clearTopRows();\n    setGameOver(false);\n    setHasUsedRevive(true);\n    \n    // Reset the timer to give player breathing room (slightly more time after revive)\n    setDropMs(3500);\n    setTimeRemaining(3500);\n    \n    console.log('Game revived! Top 3 rows cleared.');\n  }, [hasUsedRevive, clearTopRows]);\n\n  // Restart game\n  const restartGame = useCallback(() => {\n    const INITIAL_MAX_TILE = 10;\n    const INITIAL_DROP_MS = 4000; // Start at 4 seconds\n    const genInitialTile = () => Math.floor(Math.random() * INITIAL_MAX_TILE) + 1;\n    \n    // Clear any active timers first\n    if (dropTimerRef.current) clearTimeout(dropTimerRef.current);\n    if (countdownIntervalRef.current) clearInterval(countdownIntervalRef.current);\n    if (freezeTimerRef.current) clearTimeout(freezeTimerRef.current);\n    \n    setGrid(createEmptyGrid());\n    setScore(0);\n    setCurrentTile(genInitialTile());\n    setNextTiles([genInitialTile()]);\n    setGameOver(false);\n    setPowerUps([\n      { type: \"bomb\", count: 0 },\n      { type: \"row\", count: 0 },\n      { type: \"swap\", count: 0 },\n    ]);\n    setSelectedPowerUp(null);\n    setComboCount(0);\n    setComboMultiplier(1);\n    setComboStreak(0);\n    setMaxTileNumber(INITIAL_MAX_TILE);\n    setTilesPlaced(0);\n    setLastScoreGain(null);\n    setDropMs(INITIAL_DROP_MS);\n    setTimeRemaining(INITIAL_DROP_MS);\n    setIsTimerFrozen(false); // Unfreeze timer for new game\n    setCoinsEarned(0); // Reset coins earned for new game\n    setPurchasedPowerUps([]); // Reset purchased power-ups tracking\n    setHasUsedRevive(false); // Reset revive for new game\n  }, []);\n\n  return {\n    grid,\n    score,\n    nextTiles,\n    currentTile,\n    gameOver,\n    powerUps,\n    selectedPowerUp,\n    handleColumnClick,\n    handlePowerUpUse,\n    restartGame,\n    reviveGame,\n    hasUsedRevive,\n    comboCount,\n    comboMultiplier,\n    comboStreak,\n    maxTileNumber,\n    dailyChallenge,\n    lastScoreGain,\n    tilesPlaced,\n    highScore,\n    bestCombo,\n    totalTilesCleared,\n    timeRemaining,\n    dropMs,\n    coins,\n    coinsEarned,\n    purchasedPowerUps,\n    purchasePowerUp,\n    clearingTiles,\n  };\n};\n","size_bytes":30978},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey[0] as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","size_bytes":1376},"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\nconst getLocalStorage = (key: string): any =>\n  JSON.parse(window.localStorage.getItem(key) || \"null\");\nconst setLocalStorage = (key: string, value: any): void =>\n  window.localStorage.setItem(key, JSON.stringify(value));\n\nexport { getLocalStorage, setLocalStorage };\n","size_bytes":438},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":711},"client/src/styles/game.css":{"content":"/* Container and layout */\n.app-container {\n  width: 100vw;\n  min-height: 100vh;\n  background: linear-gradient(135deg, #1e3a8a 0%, #0891b2 50%, #06b6d4 100%);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 16px;\n  box-sizing: border-box;\n  overflow-y: auto;\n  overflow-x: hidden;\n  position: relative;\n}\n\n.app-container::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: radial-gradient(circle at 30% 40%, rgba(255, 255, 255, 0.06) 0%, transparent 50%);\n  pointer-events: none;\n}\n\n@keyframes pulse {\n  0%, 100% {\n    opacity: 1;\n    transform: scale(1);\n  }\n  50% {\n    opacity: 0.8;\n    transform: scale(1.1);\n  }\n}\n\n.game-wrapper {\n  width: 100%;\n  min-height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  padding: 12px;\n  box-sizing: border-box;\n  position: relative;\n  z-index: 1;\n}\n\n/* HUD - Premium Design */\n.hud {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 16px;\n  gap: 14px;\n}\n\n.card {\n  background: rgba(255, 255, 255, 0.95);\n  border-radius: 16px;\n  border: 1px solid rgba(255, 255, 255, 0.9);\n  padding: 12px;\n  text-align: center;\n  box-shadow: 0 4px 20px rgba(31, 38, 135, 0.12);\n  backdrop-filter: blur(12px);\n  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n  position: relative;\n  overflow: hidden;\n}\n\n.card::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 40%;\n  background: linear-gradient(180deg, rgba(255, 255, 255, 0.4) 0%, rgba(255, 255, 255, 0) 100%);\n  pointer-events: none;\n  border-radius: 16px 16px 50% 50%;\n}\n\n.card:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 8px 32px rgba(31, 38, 135, 0.16);\n}\n\n.score-card {\n  flex: 1;\n  min-width: 0;\n}\n\n.score-label {\n  font-size: 11px;\n  color: #7c3aed;\n  font-weight: 800;\n  letter-spacing: 1.5px;\n  text-transform: uppercase;\n  position: relative;\n  z-index: 1;\n  opacity: 0.9;\n}\n\n.score-value {\n  font-size: 32px;\n  font-weight: 900;\n  margin-top: 8px;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n  position: relative;\n  z-index: 1;\n  letter-spacing: -1px;\n  filter: drop-shadow(0 2px 4px rgba(102, 126, 234, 0.15));\n}\n\n.next-card {\n  flex: 1;\n  min-width: 0;\n}\n\n.next-tile {\n  margin-top: 10px;\n  display: flex;\n  justify-content: center;\n}\n\n.upcoming-tiles {\n  margin-top: 10px;\n  display: flex;\n  justify-content: center;\n  gap: 10px;\n}\n\n/* Combo Indicator */\n.combo-indicator {\n  margin-top: 6px;\n  font-size: 12px;\n  font-weight: 800;\n  color: #f59e0b;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n  animation: pulse-glow 0.8s ease-in-out infinite;\n}\n\n@keyframes pulse-glow {\n  0%, 100% {\n    opacity: 1;\n    transform: scale(1);\n  }\n  50% {\n    opacity: 0.8;\n    transform: scale(1.05);\n  }\n}\n\n/* High Score Display in Score Card */\n.high-score-display {\n  margin-top: 8px;\n  font-size: 11px;\n  color: #64748b;\n  font-weight: 600;\n}\n\n.high-score-label {\n  color: #94a3b8;\n  font-size: 10px;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n/* Daily Challenge - Premium Design */\n.daily-challenge {\n  background: rgba(255, 255, 255, 0.95);\n  border: 1px solid rgba(255, 255, 255, 0.9);\n  border-radius: 16px;\n  padding: 12px 16px;\n  margin-bottom: 12px;\n  box-shadow: 0 4px 20px rgba(99, 102, 241, 0.12);\n  backdrop-filter: blur(12px);\n  position: relative;\n  overflow: hidden;\n}\n\n.daily-challenge::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 40%;\n  background: linear-gradient(180deg, rgba(255, 255, 255, 0.3) 0%, transparent 100%);\n  pointer-events: none;\n  border-radius: 16px 16px 0 0;\n}\n\n.challenge-text {\n  font-size: 12px;\n  font-weight: 800;\n  text-align: center;\n  margin-bottom: 10px;\n  letter-spacing: 0.3px;\n  position: relative;\n  z-index: 1;\n  background: linear-gradient(135deg, #6366f1 0%, #3b82f6 50%, #0ea5e9 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n  text-shadow: 0 2px 4px rgba(99, 102, 241, 0.1);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 6px;\n}\n\n.challenge-progress-bar {\n  height: 10px;\n  background: linear-gradient(135deg, rgba(99, 102, 241, 0.08) 0%, rgba(59, 130, 246, 0.08) 100%);\n  border: 1px solid rgba(99, 102, 241, 0.15);\n  border-radius: 12px;\n  overflow: hidden;\n  margin-bottom: 8px;\n  position: relative;\n  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.06);\n}\n\n.challenge-progress-bar::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 50%;\n  background: linear-gradient(180deg, rgba(255, 255, 255, 0.3) 0%, transparent 100%);\n  pointer-events: none;\n  border-radius: 12px 12px 0 0;\n}\n\n.challenge-progress-fill {\n  height: 100%;\n  background: linear-gradient(90deg, #6366f1 0%, #3b82f6 50%, #0ea5e9 100%);\n  border-radius: 12px;\n  transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);\n  position: relative;\n}\n\n.challenge-progress-fill::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 40%;\n  background: linear-gradient(180deg, rgba(255, 255, 255, 0.3) 0%, transparent 100%);\n  border-radius: 12px 12px 0 0;\n}\n\n.challenge-count {\n  font-size: 11px;\n  font-weight: 800;\n  text-align: center;\n  letter-spacing: 0.5px;\n  position: relative;\n  z-index: 1;\n  background: linear-gradient(135deg, #6366f1 0%, #3b82f6 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n}\n\n/* Auto-drop Timer */\n.timer-bar {\n  height: 8px;\n  background: rgba(0, 0, 0, 0.1);\n  border-radius: 10px;\n  overflow: hidden;\n  position: relative;\n}\n\n.timer-fill {\n  height: 100%;\n  border-radius: 10px;\n  transition: width 0.1s linear, background-color 0.3s ease;\n  box-shadow: 0 0 8px currentColor;\n}\n\n.timer-text {\n  font-family: 'Inter', system-ui, sans-serif;\n  font-weight: 700;\n  color: rgba(0, 0, 0, 0.6);\n}\n\n/* Score Popup */\n.score-popup {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);\n  color: white;\n  padding: 16px 24px;\n  border-radius: 16px;\n  font-size: 28px;\n  font-weight: 900;\n  box-shadow: 0 4px 20px rgba(251, 191, 36, 0.4);\n  animation: scorePopup 2s ease-out forwards;\n  z-index: 100;\n  text-align: center;\n  pointer-events: none;\n}\n\n.multiplier-text {\n  display: block;\n  font-size: 14px;\n  margin-top: 4px;\n  font-weight: 700;\n  letter-spacing: 0.5px;\n}\n\n@keyframes scorePopup {\n  0% {\n    opacity: 0;\n    transform: translate(-50%, -50%) scale(0.5);\n  }\n  20% {\n    opacity: 1;\n    transform: translate(-50%, -50%) scale(1.2);\n  }\n  40% {\n    transform: translate(-50%, -50%) scale(1);\n  }\n  80% {\n    opacity: 1;\n    transform: translate(-50%, -70%) scale(1);\n  }\n  100% {\n    opacity: 0;\n    transform: translate(-50%, -90%) scale(0.8);\n  }\n}\n\n/* Tiles - Premium Design */\n.tile {\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  font-weight: 900;\n  color: white;\n  border-radius: 14px;\n  border: none;\n  box-shadow: \n    0 6px 20px rgba(0, 0, 0, 0.2),\n    0 3px 8px rgba(0, 0, 0, 0.15),\n    inset 0 1px 2px rgba(255, 255, 255, 0.4);\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  position: relative;\n}\n\n.tile::after {\n  content: '';\n  position: absolute;\n  top: 3px;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 70%;\n  height: 35%;\n  background: rgba(255, 255, 255, 0.35);\n  border-radius: 50%;\n  filter: blur(6px);\n  pointer-events: none;\n}\n\n.tile:hover {\n  transform: scale(1.08) translateY(-2px);\n  box-shadow: \n    0 10px 28px rgba(0, 0, 0, 0.25),\n    0 6px 12px rgba(0, 0, 0, 0.18),\n    inset 0 1px 2px rgba(255, 255, 255, 0.5);\n}\n\n.tile.big {\n  width: 64px;\n  height: 64px;\n  font-size: 32px;\n  text-shadow: 0 3px 6px rgba(0, 0, 0, 0.35);\n}\n\n.tile.small {\n  width: 44px;\n  height: 44px;\n  font-size: 20px;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n}\n\n.tile-content {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-weight: 900;\n  color: white;\n  border-radius: 16px;\n  font-size: 22px;\n  border: 2px solid rgba(255, 255, 255, 0.25);\n  box-shadow: \n    0 10px 30px rgba(0, 0, 0, 0.3),\n    0 6px 16px rgba(0, 0, 0, 0.2),\n    0 2px 8px rgba(0, 0, 0, 0.15),\n    inset 0 2px 3px rgba(255, 255, 255, 0.45),\n    inset 0 -2px 3px rgba(0, 0, 0, 0.2);\n  animation: tileAppear 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);\n  position: relative;\n  text-shadow: 0 4px 8px rgba(0, 0, 0, 0.45);\n  overflow: hidden;\n  pointer-events: none;\n}\n\n.tile-content.colorblind-mode {\n  flex-direction: column;\n  gap: 2px;\n}\n\n.tile-number {\n  z-index: 3;\n  font-weight: 900;\n  letter-spacing: -0.5px;\n  pointer-events: none;\n}\n\n.tile-symbol {\n  font-size: 18px;\n  opacity: 0.95;\n  z-index: 3;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);\n  pointer-events: none;\n}\n\n/* Premium glossy highlight - Enhanced */\n.tile-content::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 55%;\n  background: linear-gradient(\n    180deg,\n    rgba(255, 255, 255, 0.5) 0%,\n    rgba(255, 255, 255, 0.2) 40%,\n    rgba(255, 255, 255, 0.05) 80%,\n    transparent 100%\n  );\n  border-radius: 14px 14px 50% 50%;\n  z-index: 1;\n  pointer-events: none;\n}\n\n/* Subtle shimmer effect */\n.tile-content::after {\n  content: '';\n  position: absolute;\n  top: -50%;\n  left: -50%;\n  width: 200%;\n  height: 200%;\n  background: linear-gradient(\n    45deg,\n    transparent 30%,\n    rgba(255, 255, 255, 0.1) 50%,\n    transparent 70%\n  );\n  transform: rotate(45deg);\n  z-index: 2;\n  pointer-events: none;\n}\n\n@keyframes tileAppear {\n  0% {\n    transform: scale(0) rotate(-180deg);\n    opacity: 0;\n  }\n  50% {\n    transform: scale(1.1) rotate(0deg);\n  }\n  100% {\n    transform: scale(1) rotate(0deg);\n    opacity: 1;\n  }\n}\n\n/* Animation Option 1: Drop with Bounce (Current) */\n@keyframes tileDrop {\n  0% {\n    transform: translateY(-300px) scale(0.8) rotate(-5deg);\n    opacity: 0;\n  }\n  60% {\n    transform: translateY(0) scale(1.1) rotate(2deg);\n    opacity: 1;\n  }\n  80% {\n    transform: translateY(-5px) scale(0.95) rotate(-1deg);\n  }\n  100% {\n    transform: translateY(0) scale(1) rotate(0deg);\n    opacity: 1;\n  }\n}\n\n/* Animation Option 2: Pop In (Scale + Fade) */\n@keyframes tilePopIn {\n  0% {\n    transform: scale(0);\n    opacity: 0;\n  }\n  50% {\n    transform: scale(1.2);\n  }\n  100% {\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n\n/* Animation Option 3: Slide from Side */\n@keyframes tileSlideIn {\n  0% {\n    transform: translateX(-100px) rotate(-20deg);\n    opacity: 0;\n  }\n  60% {\n    transform: translateX(5px) rotate(2deg);\n    opacity: 1;\n  }\n  100% {\n    transform: translateX(0) rotate(0deg);\n    opacity: 1;\n  }\n}\n\n/* Animation Option 4: Elastic Bounce */\n@keyframes tileElastic {\n  0% {\n    transform: scale(0) rotate(0deg);\n    opacity: 0;\n  }\n  50% {\n    transform: scale(1.3) rotate(5deg);\n    opacity: 1;\n  }\n  70% {\n    transform: scale(0.9) rotate(-3deg);\n  }\n  85% {\n    transform: scale(1.05) rotate(1deg);\n  }\n  100% {\n    transform: scale(1) rotate(0deg);\n    opacity: 1;\n  }\n}\n\n/* Animation Option 5: Glow Pulse */\n@keyframes tileGlowIn {\n  0% {\n    transform: scale(0.8);\n    opacity: 0;\n    box-shadow: 0 0 0 rgba(255, 255, 255, 0);\n  }\n  50% {\n    transform: scale(1.1);\n    box-shadow: 0 0 20px rgba(255, 255, 255, 0.8);\n  }\n  100% {\n    transform: scale(1);\n    opacity: 1;\n    box-shadow: 0 0 0 rgba(255, 255, 255, 0);\n  }\n}\n\n/* Animation Option 6: Flip In */\n@keyframes tileFlipIn {\n  0% {\n    transform: rotateY(-90deg) scale(0.8);\n    opacity: 0;\n  }\n  50% {\n    transform: rotateY(0deg) scale(1.1);\n    opacity: 1;\n  }\n  100% {\n    transform: rotateY(0deg) scale(1);\n    opacity: 1;\n  }\n}\n\n/* Default animation class - you can change which animation is used here */\n.tile-drop {\n  animation: tileDrop 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);\n}\n\n/* Alternative animation classes for testing */\n.tile-pop {\n  animation: tilePopIn 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);\n}\n\n.tile-slide {\n  animation: tileSlideIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);\n}\n\n.tile-elastic {\n  animation: tileElastic 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);\n}\n\n.tile-glow {\n  animation: tileGlowIn 0.5s ease-out;\n}\n\n.tile-flip {\n  animation: tileFlipIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);\n  transform-style: preserve-3d;\n}\n\n/* Clearing Animation Option 1: Explosion with Glow */\n@keyframes clearExplosion {\n  0% {\n    transform: scale(1) rotate(0deg);\n    opacity: 1;\n  }\n  50% {\n    transform: scale(1.3) rotate(10deg);\n    opacity: 0.7;\n    box-shadow: 0 0 30px rgba(255, 255, 255, 0.9);\n  }\n  100% {\n    transform: scale(0) rotate(45deg);\n    opacity: 0;\n  }\n}\n\n/* Clearing Animation Option 2: Simple Fade Out */\n@keyframes clearFade {\n  0% {\n    opacity: 1;\n    transform: scale(1);\n  }\n  100% {\n    opacity: 0;\n    transform: scale(0.8);\n  }\n}\n\n/* Clearing Animation Option 3: Shrink and Spin */\n@keyframes clearSpin {\n  0% {\n    transform: scale(1) rotate(0deg);\n    opacity: 1;\n  }\n  100% {\n    transform: scale(0) rotate(360deg);\n    opacity: 0;\n  }\n}\n\n/* Clearing Animation Option 4: Dissolve (Scale and Fade) */\n@keyframes clearDissolve {\n  0% {\n    transform: scale(1);\n    opacity: 1;\n    filter: blur(0px);\n  }\n  100% {\n    transform: scale(1.5);\n    opacity: 0;\n    filter: blur(10px);\n  }\n}\n\n/* Clearing Animation Option 5: Pop and Disappear */\n@keyframes clearPop {\n  0% {\n    transform: scale(1);\n    opacity: 1;\n  }\n  50% {\n    transform: scale(1.4);\n    opacity: 1;\n  }\n  100% {\n    transform: scale(0);\n    opacity: 0;\n  }\n}\n\n/* Clearing Animation Option 6: Slide Down */\n@keyframes clearSlide {\n  0% {\n    transform: translateY(0) scale(1);\n    opacity: 1;\n  }\n  100% {\n    transform: translateY(50px) scale(0.5);\n    opacity: 0;\n  }\n}\n\n/* Default clearing animation - change which animation is used here */\n.tile-clearing {\n  animation: clearExplosion 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;\n  z-index: 10;\n}\n\n/* Alternative clearing animation classes for testing */\n.tile-clear-fade {\n  animation: clearFade 0.3s ease-out forwards;\n  z-index: 10;\n}\n\n.tile-clear-spin {\n  animation: clearSpin 0.4s ease-out forwards;\n  z-index: 10;\n  will-change: transform, opacity;\n}\n\n.tile-clear-dissolve {\n  animation: clearDissolve 0.5s ease-out forwards;\n  z-index: 10;\n}\n\n.tile-clear-pop {\n  animation: clearPop 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;\n  z-index: 10;\n}\n\n.tile-clear-slide {\n  animation: clearSlide 0.4s ease-in forwards;\n  z-index: 10;\n}\n\n/* NEW: 4-Match Power Animation - Optimized with pseudo-element glow */\n@keyframes clearPower {\n  0% {\n    transform: scale(1) rotate(0deg);\n    opacity: 1;\n  }\n  30% {\n    transform: scale(1.4) rotate(15deg);\n    opacity: 1;\n  }\n  70% {\n    transform: scale(1.6) rotate(-10deg);\n    opacity: 0.5;\n  }\n  100% {\n    transform: scale(0) rotate(180deg);\n    opacity: 0;\n  }\n}\n\n@keyframes clearPowerGlow {\n  0% {\n    transform: scale(1);\n    opacity: 0;\n  }\n  30% {\n    transform: scale(1.5);\n    opacity: 0.8;\n  }\n  70% {\n    transform: scale(2);\n    opacity: 0.4;\n  }\n  100% {\n    transform: scale(2.5);\n    opacity: 0;\n  }\n}\n\n.tile-clear-power {\n  animation: clearPower 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;\n  z-index: 15;\n  will-change: transform, opacity;\n  position: relative;\n}\n\n.tile-clear-power::before {\n  content: '';\n  position: absolute;\n  inset: -20px;\n  background: radial-gradient(circle, rgba(255, 215, 0, 0.6) 0%, transparent 70%);\n  border-radius: 50%;\n  animation: clearPowerGlow 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;\n  pointer-events: none;\n  z-index: -1;\n}\n\n/* NEW: 5+ Match Uber Animation - Optimized with layered pseudo-elements */\n@keyframes clearUber {\n  0% {\n    transform: scale(1) rotate(0deg);\n    opacity: 1;\n  }\n  25% {\n    transform: scale(1.6) rotate(20deg);\n    opacity: 1;\n  }\n  50% {\n    transform: scale(2) rotate(-15deg);\n    opacity: 0.8;\n  }\n  75% {\n    transform: scale(2.2) rotate(30deg);\n    opacity: 0.4;\n  }\n  100% {\n    transform: scale(0) rotate(360deg);\n    opacity: 0;\n  }\n}\n\n@keyframes clearUberGlow {\n  0% {\n    transform: scale(1);\n    opacity: 0;\n  }\n  25% {\n    transform: scale(1.8);\n    opacity: 0.9;\n  }\n  50% {\n    transform: scale(2.5);\n    opacity: 0.7;\n  }\n  75% {\n    transform: scale(3);\n    opacity: 0.3;\n  }\n  100% {\n    transform: scale(3.5);\n    opacity: 0;\n  }\n}\n\n@keyframes clearUberBurst {\n  0% {\n    transform: scale(0.8) rotate(-45deg);\n    opacity: 0;\n  }\n  30% {\n    transform: scale(2) rotate(0deg);\n    opacity: 0.8;\n  }\n  60% {\n    transform: scale(3) rotate(45deg);\n    opacity: 0.4;\n  }\n  100% {\n    transform: scale(4) rotate(90deg);\n    opacity: 0;\n  }\n}\n\n.tile-clear-uber {\n  animation: clearUber 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;\n  z-index: 20;\n  will-change: transform, opacity;\n  position: relative;\n}\n\n.tile-clear-uber::before {\n  content: '';\n  position: absolute;\n  inset: -30px;\n  background: radial-gradient(circle, rgba(255, 20, 147, 0.7) 0%, rgba(255, 100, 200, 0.3) 50%, transparent 70%);\n  border-radius: 50%;\n  animation: clearUberGlow 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;\n  pointer-events: none;\n  z-index: -1;\n}\n\n.tile-clear-uber::after {\n  content: '';\n  position: absolute;\n  inset: -20px;\n  background: radial-gradient(circle, rgba(255, 255, 255, 0.8) 0%, transparent 60%);\n  border-radius: 50%;\n  animation: clearUberBurst 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;\n  pointer-events: none;\n  z-index: -1;\n}\n\n/* Respect reduced motion preference */\n.app-container.reduced-motion .tile-drop,\n.app-container.reduced-motion .tile-pop,\n.app-container.reduced-motion .tile-slide,\n.app-container.reduced-motion .tile-elastic,\n.app-container.reduced-motion .tile-glow,\n.app-container.reduced-motion .tile-flip,\n.app-container.reduced-motion .tile-clearing,\n.app-container.reduced-motion .tile-clear-fade,\n.app-container.reduced-motion .tile-clear-spin,\n.app-container.reduced-motion .tile-clear-dissolve,\n.app-container.reduced-motion .tile-clear-pop,\n.app-container.reduced-motion .tile-clear-slide,\n.app-container.reduced-motion .tile-clear-power,\n.app-container.reduced-motion .tile-clear-uber {\n  animation: none;\n}\n\n/* Premium color gradients - rich and vibrant */\n.c1 { \n  background: linear-gradient(135deg, #FF6B6B 0%, #EE3A6F 50%, #C73866 100%);\n}\n.c2 { \n  background: linear-gradient(135deg, #FFB84D 0%, #FF9500 50%, #E67E00 100%);\n}\n.c3 { \n  background: linear-gradient(135deg, #FFE56D 0%, #FFD700 50%, #FFC800 100%); \n  color: #2C3E50; \n  text-shadow: 0 2px 4px rgba(255, 255, 255, 0.6);\n}\n.c4 { \n  background: linear-gradient(135deg, #4ADE80 0%, #22C55E 50%, #16A34A 100%);\n}\n.c5 { \n  background: linear-gradient(135deg, #22D3EE 0%, #06B6D4 50%, #0891B2 100%);\n}\n.c6 { \n  background: linear-gradient(135deg, #60A5FA 0%, #3B82F6 50%, #2563EB 100%);\n}\n.c7 { \n  background: linear-gradient(135deg, #A78BFA 0%, #8B5CF6 50%, #7C3AED 100%);\n}\n.c8 { \n  background: linear-gradient(135deg, #F472B6 0%, #EC4899 50%, #DB2777 100%);\n}\n.c9 { \n  background: linear-gradient(135deg, #A16207 0%, #854D0E 50%, #713F12 100%);\n}\n.c10 { \n  background: linear-gradient(135deg, #475569 0%, #334155 50%, #1E293B 100%);\n}\n.c11 { \n  background: linear-gradient(135deg, #FB7185 0%, #F43F5E 50%, #E11D48 100%);\n}\n.c12 { \n  background: linear-gradient(135deg, #34D399 0%, #10B981 50%, #059669 100%);\n}\n\n/* Grid - Premium Design */\n.grid-container {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  min-height: 0;\n  padding: 0 4px;\n}\n\n.grid {\n  background: rgba(255, 255, 255, 0.95);\n  border: 1px solid rgba(255, 255, 255, 0.9);\n  border-radius: 16px;\n  padding: 12px;\n  display: grid;\n  grid-template-columns: repeat(6, 1fr);\n  gap: 8px;\n  margin-bottom: 12px;\n  box-shadow: 0 4px 24px rgba(99, 102, 241, 0.14);\n  backdrop-filter: blur(12px);\n  position: relative;\n  overflow: hidden;\n}\n\n.grid::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 30%;\n  background: linear-gradient(180deg, rgba(255, 255, 255, 0.3) 0%, transparent 100%);\n  pointer-events: none;\n  border-radius: 16px 16px 0 0;\n}\n\n.grid::after {\n  content: '';\n  position: absolute;\n  inset: -1px;\n  background: linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(59, 130, 246, 0.1) 50%, rgba(99, 102, 241, 0.1) 100%);\n  border-radius: 24px;\n  z-index: -1;\n  pointer-events: none;\n}\n\n.cell {\n  background: linear-gradient(145deg, #ffffff 0%, #f8fafc 50%, #f1f5f9 100%);\n  border: 2px solid rgba(203, 213, 225, 0.4);\n  border-radius: 14px;\n  aspect-ratio: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-weight: bold;\n  font-size: 18px;\n  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);\n  position: relative;\n  min-height: 0;\n  box-shadow: \n    0 2px 8px rgba(0, 0, 0, 0.06),\n    0 1px 4px rgba(0, 0, 0, 0.04),\n    inset 0 1px 0 rgba(255, 255, 255, 0.8),\n    inset 0 -1px 0 rgba(203, 213, 225, 0.3);\n  cursor: pointer;\n  overflow: hidden;\n}\n\n.cell::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 50%;\n  background: linear-gradient(180deg, rgba(255, 255, 255, 0.5) 0%, transparent 100%);\n  pointer-events: none;\n  border-radius: 14px 14px 50% 50%;\n}\n\n.cell:hover {\n  background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);\n  transform: scale(1.05);\n  box-shadow: \n    0 6px 20px rgba(99, 102, 241, 0.12),\n    0 4px 12px rgba(59, 130, 246, 0.08),\n    0 2px 6px rgba(0, 0, 0, 0.04),\n    inset 0 1px 0 rgba(255, 255, 255, 1);\n  border-color: rgba(139, 92, 246, 0.4);\n}\n\n.cell:active {\n  transform: scale(0.97);\n  box-shadow: \n    0 2px 8px rgba(0, 0, 0, 0.08),\n    inset 0 2px 8px rgba(0, 0, 0, 0.08);\n}\n\n.column-indicators {\n  display: flex;\n  justify-content: space-around;\n  padding: 0 16px;\n  margin-bottom: 12px;\n  gap: 4px;\n}\n\n.column-indicator {\n  font-size: 28px;\n  color: rgba(255, 255, 255, 0.98);\n  cursor: pointer;\n  padding: 8px 12px;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  user-select: none;\n  filter: drop-shadow(0 3px 6px rgba(0, 0, 0, 0.35)) drop-shadow(0 1px 2px rgba(0, 0, 0, 0.25));\n  animation: bounce 2s ease-in-out infinite;\n  background: linear-gradient(135deg, rgba(139, 92, 246, 0.15) 0%, rgba(59, 130, 246, 0.15) 100%);\n  border: none;\n  outline: none;\n  border-radius: 12px;\n  backdrop-filter: blur(8px);\n}\n\n.column-indicator:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n@keyframes bounce {\n  0%, 100% {\n    transform: translateY(0);\n  }\n  50% {\n    transform: translateY(-4px);\n  }\n}\n\n.column-indicator:hover {\n  transform: scale(1.2) translateY(-2px);\n  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.4));\n}\n\n.column-indicator:active {\n  transform: scale(1.4) translateY(2px);\n  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.3));\n}\n\n/* Power-ups - Premium Design Enhanced */\n.powerups {\n  margin-top: auto;\n  background: rgba(255, 255, 255, 0.98);\n  border-radius: 24px;\n  border: 1px solid rgba(255, 255, 255, 0.8);\n  padding: 18px 14px;\n  display: flex;\n  justify-content: space-around;\n  text-align: center;\n  box-shadow: \n    0 12px 48px rgba(31, 38, 135, 0.15),\n    0 6px 24px rgba(31, 38, 135, 0.10),\n    0 2px 12px rgba(0, 0, 0, 0.08),\n    inset 0 1px 2px rgba(255, 255, 255, 1);\n  backdrop-filter: blur(10px);\n}\n\n.powerup-container {\n  cursor: pointer;\n  padding: 12px 16px;\n  border-radius: 16px;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  user-select: none;\n  position: relative;\n  background: linear-gradient(145deg, rgba(255, 255, 255, 0.8) 0%, rgba(248, 250, 252, 0.8) 100%);\n  border: 2px solid rgba(226, 232, 240, 0.6);\n  outline: none;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  box-shadow: \n    0 4px 12px rgba(0, 0, 0, 0.08),\n    inset 0 1px 0 rgba(255, 255, 255, 0.8);\n  overflow: hidden;\n}\n\n.powerup-container::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 50%;\n  background: linear-gradient(\n    180deg,\n    rgba(255, 255, 255, 0.5) 0%,\n    rgba(255, 255, 255, 0.1) 50%,\n    transparent 100%\n  );\n  border-radius: 14px 14px 50% 50%;\n  pointer-events: none;\n  z-index: 1;\n}\n\n.powerup-container:active {\n  transform: scale(0.96);\n  box-shadow: \n    0 2px 6px rgba(0, 0, 0, 0.1),\n    inset 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.powerup-container:hover {\n  background: linear-gradient(145deg, rgba(103, 126, 234, 0.15) 0%, rgba(118, 75, 162, 0.15) 100%);\n  transform: translateY(-4px);\n  box-shadow: \n    0 8px 24px rgba(103, 126, 234, 0.25),\n    0 4px 12px rgba(103, 126, 234, 0.2),\n    inset 0 1px 0 rgba(255, 255, 255, 0.9);\n  border-color: rgba(103, 126, 234, 0.4);\n}\n\n.powerup-container.disabled {\n  opacity: 0.35;\n  cursor: not-allowed;\n  filter: grayscale(100%);\n}\n\n.powerup-container.disabled:hover {\n  background: linear-gradient(145deg, rgba(255, 255, 255, 0.8) 0%, rgba(248, 250, 252, 0.8) 100%);\n  transform: none;\n  box-shadow: \n    0 4px 12px rgba(0, 0, 0, 0.08),\n    inset 0 1px 0 rgba(255, 255, 255, 0.8);\n  border-color: rgba(226, 232, 240, 0.6);\n}\n\n.powerup-container.selected {\n  background: linear-gradient(145deg, rgba(103, 126, 234, 0.3) 0%, rgba(118, 75, 162, 0.3) 100%);\n  border: 3px solid #667eea;\n  box-shadow: \n    0 0 30px rgba(103, 126, 234, 0.6), \n    0 8px 24px rgba(103, 126, 234, 0.4),\n    inset 0 1px 0 rgba(255, 255, 255, 0.6);\n  transform: translateY(-4px) scale(1.08);\n  animation: pulse-selected 1.5s ease-in-out infinite;\n}\n\n@keyframes pulse-selected {\n  0%, 100% {\n    box-shadow: \n      0 0 30px rgba(103, 126, 234, 0.6), \n      0 8px 24px rgba(103, 126, 234, 0.4),\n      inset 0 1px 0 rgba(255, 255, 255, 0.6);\n  }\n  50% {\n    box-shadow: \n      0 0 40px rgba(103, 126, 234, 0.8), \n      0 10px 32px rgba(103, 126, 234, 0.6),\n      inset 0 1px 0 rgba(255, 255, 255, 0.8);\n  }\n}\n\n.powerup {\n  font-size: 36px;\n  margin-bottom: 6px;\n  filter: drop-shadow(0 3px 6px rgba(0, 0, 0, 0.25));\n  position: relative;\n  z-index: 2;\n}\n\n.powerup-label {\n  font-size: 10px;\n  margin-top: 4px;\n  color: #7c3aed;\n  font-weight: 800;\n  letter-spacing: 0.8px;\n  text-transform: uppercase;\n  text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);\n  position: relative;\n  z-index: 2;\n}\n\n.powerup-count {\n  font-size: 12px;\n  color: #667eea;\n  margin-top: 4px;\n  font-weight: 800;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n  position: relative;\n  z-index: 2;\n  text-shadow: 0 1px 2px rgba(255, 255, 255, 0.5);\n}\n\n/* Game Over Modal */\n.game-over-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.75);\n  backdrop-filter: blur(8px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n  animation: fadeIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    backdrop-filter: blur(0);\n  }\n  to {\n    opacity: 1;\n    backdrop-filter: blur(8px);\n  }\n}\n\n.game-over-modal {\n  background: linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%);\n  border: 2px solid rgba(255, 255, 255, 0.8);\n  border-radius: 32px;\n  padding: 44px 32px;\n  text-align: center;\n  max-width: 360px;\n  width: 90%;\n  box-shadow: \n    0 24px 72px rgba(0, 0, 0, 0.4),\n    0 12px 36px rgba(0, 0, 0, 0.2),\n    0 6px 18px rgba(0, 0, 0, 0.1),\n    inset 0 1px 2px rgba(255, 255, 255, 1);\n  animation: slideUp 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);\n  position: relative;\n  overflow: hidden;\n}\n\n.game-over-modal::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 6px;\n  background: linear-gradient(90deg, #667eea 0%, #764ba2 50%, #f093fb 100%);\n  box-shadow: 0 2px 8px rgba(102, 126, 234, 0.4);\n}\n\n.game-over-modal::after {\n  content: '';\n  position: absolute;\n  top: 6px;\n  left: 0;\n  right: 0;\n  height: 60%;\n  background: linear-gradient(180deg, rgba(255, 255, 255, 0.6) 0%, transparent 100%);\n  pointer-events: none;\n  border-radius: 32px 32px 50% 50%;\n}\n\n@keyframes slideUp {\n  0% {\n    transform: translateY(100px) scale(0.8);\n    opacity: 0;\n  }\n  100% {\n    transform: translateY(0) scale(1);\n    opacity: 1;\n  }\n}\n\n.game-over-title {\n  font-size: 40px;\n  font-weight: 900;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n  margin: 0 0 32px 0;\n  letter-spacing: -1.5px;\n  position: relative;\n  z-index: 1;\n  filter: drop-shadow(0 3px 8px rgba(102, 126, 234, 0.2));\n}\n\n.final-score {\n  margin-bottom: 24px;\n  padding: 24px;\n  background: linear-gradient(135deg, rgba(103, 126, 234, 0.08) 0%, rgba(118, 75, 162, 0.08) 100%);\n  border-radius: 20px;\n  border: 2px solid rgba(103, 126, 234, 0.15);\n  box-shadow: \n    0 8px 24px rgba(0, 0, 0, 0.08),\n    0 4px 12px rgba(0, 0, 0, 0.05),\n    inset 0 1px 2px rgba(255, 255, 255, 1);\n  position: relative;\n  overflow: hidden;\n}\n\n.final-score::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 50%;\n  background: linear-gradient(180deg, rgba(255, 255, 255, 0.6) 0%, transparent 100%);\n  pointer-events: none;\n  border-radius: 20px 20px 50% 50%;\n}\n\n.coins-earned {\n  margin-bottom: 32px;\n  padding: 16px;\n  background: linear-gradient(135deg, rgba(245, 158, 11, 0.1) 0%, rgba(217, 119, 6, 0.1) 100%);\n  border-radius: 12px;\n  border: 2px solid rgba(245, 158, 11, 0.3);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  animation: coinBounce 0.6s ease-out;\n}\n\n@keyframes coinBounce {\n  0% {\n    transform: scale(0.8);\n    opacity: 0;\n  }\n  50% {\n    transform: scale(1.1);\n  }\n  100% {\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n\n.coins-earned .coins-icon {\n  font-size: 28px;\n  animation: coinWiggle 0.5s ease-in-out infinite;\n}\n\n@keyframes coinWiggle {\n  0%, 100% {\n    transform: rotate(-10deg);\n  }\n  50% {\n    transform: rotate(10deg);\n  }\n}\n\n.coins-earned .coins-text {\n  font-size: 20px;\n  font-weight: 800;\n  background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n}\n\n.final-score-label {\n  font-size: 13px;\n  color: #7c3aed;\n  margin-bottom: 12px;\n  font-weight: 800;\n  letter-spacing: 1.5px;\n  text-transform: uppercase;\n  position: relative;\n  z-index: 1;\n  opacity: 0.95;\n}\n\n.final-score-value {\n  font-size: 56px;\n  font-weight: 900;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n  letter-spacing: -2.5px;\n  position: relative;\n  z-index: 1;\n  filter: drop-shadow(0 3px 8px rgba(102, 126, 234, 0.15));\n}\n\n/* Game Over Actions */\n.game-over-actions {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  width: 100%;\n}\n\n.share-button {\n  background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);\n  color: white;\n  border: 1px solid rgba(6, 182, 212, 0.3);\n  border-radius: 16px;\n  padding: 16px 36px;\n  font-size: 17px;\n  font-weight: 800;\n  cursor: pointer;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  box-shadow: \n    0 8px 28px rgba(6, 182, 212, 0.3),\n    0 4px 14px rgba(6, 182, 212, 0.2),\n    inset 0 1px 2px rgba(255, 255, 255, 0.3);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 10px;\n  width: 100%;\n  position: relative;\n  overflow: hidden;\n  letter-spacing: 0.3px;\n}\n\n.share-button::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 50%;\n  background: linear-gradient(180deg, rgba(255, 255, 255, 0.25) 0%, transparent 100%);\n  pointer-events: none;\n  border-radius: 16px 16px 50% 50%;\n}\n\n.share-button:hover {\n  transform: translateY(-3px) scale(1.03);\n  box-shadow: \n    0 12px 36px rgba(6, 182, 212, 0.4),\n    0 6px 18px rgba(6, 182, 212, 0.25),\n    inset 0 1px 2px rgba(255, 255, 255, 0.4);\n  background: linear-gradient(135deg, #0891b2 0%, #06b6d4 100%);\n}\n\n.share-button:active {\n  transform: translateY(-1px) scale(1.01);\n  box-shadow: \n    0 6px 18px rgba(6, 182, 212, 0.35),\n    0 3px 9px rgba(6, 182, 212, 0.2);\n}\n\n.restart-button {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  border: 1px solid rgba(102, 126, 234, 0.3);\n  border-radius: 18px;\n  padding: 20px 56px;\n  font-size: 19px;\n  font-weight: 900;\n  cursor: pointer;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  box-shadow: \n    0 10px 32px rgba(103, 126, 234, 0.35),\n    0 6px 16px rgba(103, 126, 234, 0.25),\n    inset 0 2px 3px rgba(255, 255, 255, 0.35);\n  text-transform: uppercase;\n  letter-spacing: 1.2px;\n  position: relative;\n  overflow: hidden;\n  width: 100%;\n}\n\n.restart-button::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);\n  transition: left 0.5s cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n.restart-button::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 50%;\n  background: linear-gradient(180deg, rgba(255, 255, 255, 0.25) 0%, transparent 100%);\n  pointer-events: none;\n  border-radius: 18px 18px 50% 50%;\n}\n\n.restart-button:hover::before {\n  left: 100%;\n}\n\n.restart-button:hover {\n  transform: translateY(-4px) scale(1.03);\n  box-shadow: \n    0 16px 48px rgba(103, 126, 234, 0.45),\n    0 8px 24px rgba(103, 126, 234, 0.35),\n    inset 0 2px 3px rgba(255, 255, 255, 0.4);\n}\n\n.restart-button:active {\n  transform: translateY(-2px) scale(1.01);\n  box-shadow: \n    0 8px 24px rgba(103, 126, 234, 0.4),\n    0 4px 12px rgba(103, 126, 234, 0.3);\n}\n\n/* High Contrast Mode */\n.app-container.high-contrast {\n  background: linear-gradient(135deg, #000000 0%, #1a1a1a 100%);\n}\n\n.app-container.high-contrast .card {\n  background: rgba(255, 255, 255, 0.98);\n  border: 3px solid #000000;\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.6);\n}\n\n.app-container.high-contrast .score-value,\n.app-container.high-contrast .score-label {\n  color: #000000;\n}\n\n.app-container.high-contrast .grid {\n  background: rgba(0, 0, 0, 0.9);\n  border: 3px solid #ffffff;\n}\n\n.app-container.high-contrast .cell {\n  background: rgba(255, 255, 255, 0.15);\n  border: 2px solid rgba(255, 255, 255, 0.3);\n}\n\n.app-container.high-contrast .tile-content {\n  border: 3px solid #000000;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.8),\n              inset 0 1px 0 rgba(255, 255, 255, 0.5);\n}\n\n.app-container.high-contrast .powerup-container {\n  border: 2px solid #000000;\n  background: rgba(255, 255, 255, 0.95);\n}\n\n.app-container.high-contrast .powerup-label,\n.app-container.high-contrast .powerup-count {\n  color: #000000;\n}\n\n.app-container.high-contrast .button-bar {\n  background: rgba(0, 0, 0, 0.95);\n  border: 2px solid #ffffff;\n}\n\n.app-container.high-contrast .game-title {\n  background: linear-gradient(135deg, #ffffff 0%, #cccccc 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n  filter: drop-shadow(0 2px 4px rgba(255, 255, 255, 0.8));\n}\n\n.app-container.reduced-motion .game-title {\n  animation: none;\n}\n\n.app-container.reduced-motion .coin-icon {\n  animation: none;\n}\n\n.app-container.reduced-motion .coins-earned {\n  animation: none;\n}\n\n.app-container.reduced-motion .coins-earned .coins-icon {\n  animation: none;\n}\n\n.app-container.high-contrast .icon-button {\n  background: rgba(255, 255, 255, 0.2);\n  border: 2px solid rgba(255, 255, 255, 0.5);\n}\n\n.app-container.high-contrast .icon-button:hover {\n  background: rgba(255, 255, 255, 0.3);\n  border: 2px solid rgba(255, 255, 255, 0.8);\n}\n\n/* Reduced Motion Mode */\n.app-container.reduced-motion *,\n.app-container.reduced-motion *::before,\n.app-container.reduced-motion *::after {\n  animation-duration: 0.01ms !important;\n  animation-iteration-count: 1 !important;\n  transition-duration: 0.01ms !important;\n}\n\n.app-container.reduced-motion .tile-content {\n  animation: none;\n}\n\n.app-container.reduced-motion .score-popup {\n  animation: none;\n  opacity: 1;\n}\n\n/* Respect OS-level reduced motion preference */\n@media (prefers-reduced-motion: reduce) {\n  *,\n  *::before,\n  *::after {\n    animation-duration: 0.01ms !important;\n    animation-iteration-count: 1 !important;\n    transition-duration: 0.01ms !important;\n    scroll-behavior: auto !important;\n  }\n  \n  .tile-content {\n    animation: none !important;\n  }\n  \n  .score-popup {\n    animation: none !important;\n    opacity: 1;\n  }\n  \n  .column-indicator {\n    animation: none !important;\n  }\n  \n  .powerup-container.selected {\n    animation: none !important;\n  }\n}\n\n/* Mobile optimizations */\n@media (max-width: 480px) {\n  .app-container {\n    padding: 2px;\n    align-items: flex-start;\n    overflow-y: auto;\n  }\n\n  .game-wrapper {\n    padding: 48px 3px 3px 3px;\n    min-height: auto;\n  }\n\n  .hud {\n    margin-bottom: 4px;\n    gap: 4px;\n  }\n\n  .card {\n    padding: 6px 4px;\n    border-radius: 10px;\n  }\n\n  .score-label {\n    font-size: 8px;\n  }\n\n  .score-value {\n    font-size: 18px;\n    margin-top: 3px;\n  }\n\n  .high-score-display {\n    margin-top: 3px;\n    font-size: 9px;\n  }\n\n  .combo-indicator {\n    font-size: 9px;\n    margin-top: 3px;\n  }\n\n  .tile.big {\n    width: 44px;\n    height: 44px;\n    font-size: 22px;\n  }\n\n  .tile.small {\n    width: 32px;\n    height: 32px;\n    font-size: 14px;\n  }\n\n  .grid {\n    padding: 4px;\n    gap: 3px;\n    margin-bottom: 4px;\n  }\n\n  .tile-content {\n    font-size: 14px;\n    border-radius: 6px;\n  }\n\n  .column-indicators {\n    padding: 0 4px;\n    margin-bottom: 4px;\n  }\n\n  .column-indicator {\n    font-size: 18px;\n    padding: 3px 4px;\n  }\n\n  .powerups {\n    padding: 6px 4px;\n    border-radius: 10px;\n  }\n\n  .powerup-container {\n    padding: 4px 6px;\n  }\n\n  .powerup {\n    font-size: 20px;\n    margin-bottom: 2px;\n  }\n\n  .powerup-label {\n    font-size: 8px;\n    margin-top: 1px;\n  }\n\n  .powerup-count {\n    font-size: 9px;\n    margin-top: 1px;\n  }\n\n  .game-over-title {\n    font-size: 32px;\n  }\n\n  .final-score-value {\n    font-size: 44px;\n  }\n\n  .restart-button {\n    padding: 16px 42px;\n    font-size: 16px;\n  }\n\n  .button-bar {\n    top: 4px;\n    left: 4px;\n    right: 4px;\n    padding: 0 4px;\n  }\n\n  .game-title {\n    font-size: 20px;\n  }\n\n  .icon-button {\n    width: 32px;\n    height: 32px;\n  }\n\n  .coin-display {\n    padding: 4px 6px;\n    height: 32px;\n  }\n\n  .coin-icon {\n    font-size: 14px;\n  }\n\n  .coin-amount {\n    font-size: 13px;\n  }\n\n  .daily-challenge {\n    margin-bottom: 4px;\n    padding: 5px 8px;\n    border-radius: 8px;\n  }\n\n  .challenge-text {\n    font-size: 9px;\n    margin-bottom: 3px;\n  }\n\n  .challenge-progress-bar {\n    height: 5px;\n    margin-bottom: 2px;\n  }\n\n  .challenge-count {\n    font-size: 8px;\n  }\n\n  .timer-container {\n    margin-top: 6px !important;\n  }\n\n  .timer-bar {\n    height: 5px;\n  }\n\n  .timer-text {\n    font-size: 9px !important;\n  }\n}\n\n/* Landscape mode adjustments */\n@media (max-height: 600px) and (orientation: landscape) {\n  .game-wrapper {\n    flex-direction: row;\n    max-width: 100%;\n    gap: 10px;\n  }\n\n  .hud {\n    flex-direction: column;\n    width: 140px;\n    margin-bottom: 0;\n  }\n\n  .grid-container {\n    flex: 1;\n  }\n\n  .powerups {\n    width: 140px;\n    flex-direction: column;\n    margin-top: 0;\n  }\n}\n\n/* Disable text selection on game elements */\n.game-wrapper {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: transparent;\n}\n\n/* Keyboard Navigation Focus Styles */\nbutton:focus-visible,\n.icon-button:focus-visible,\n.column-indicator:focus-visible,\n.powerup-container:focus-visible {\n  outline: 3px solid #667eea;\n  outline-offset: 2px;\n}\n\n.app-container.high-contrast button:focus-visible,\n.app-container.high-contrast .icon-button:focus-visible,\n.app-container.high-contrast .column-indicator:focus-visible,\n.app-container.high-contrast .powerup-container:focus-visible {\n  outline: 3px solid #ffffff;\n  outline-offset: 3px;\n}\n\n/* Prevent overscroll on mobile */\nbody {\n  overscroll-behavior: none;\n}\n\n/* Mute Button */\n.mute-button {\n  position: absolute;\n  top: 20px;\n  right: 20px;\n  width: 48px;\n  height: 48px;\n  border-radius: 50%;\n  background: rgba(255, 255, 255, 0.95);\n  border: none;\n  font-size: 24px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);\n  transition: all 0.3s ease;\n  z-index: 100;\n}\n\n.mute-button:hover {\n  transform: scale(1.1);\n  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);\n  background: rgba(255, 255, 255, 1);\n}\n\n.mute-button:active {\n  transform: scale(0.95);\n}\n\n/* Statistics Container */\n.stats-container {\n  display: flex;\n  justify-content: space-around;\n  gap: 16px;\n  margin: 24px 0;\n  padding: 20px;\n  background: rgba(255, 255, 255, 0.05);\n  border-radius: 16px;\n  backdrop-filter: blur(10px);\n}\n\n.stat-item {\n  text-align: center;\n  flex: 1;\n}\n\n.stat-label {\n  font-size: 11px;\n  color: rgba(255, 255, 255, 0.7);\n  font-weight: 600;\n  text-transform: uppercase;\n  letter-spacing: 1px;\n  margin-bottom: 8px;\n}\n\n.stat-value {\n  font-size: 24px;\n  font-weight: 800;\n  background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n}\n\n.new-record {\n  font-size: 14px;\n  font-weight: 700;\n  color: #fbbf24;\n  margin-top: 12px;\n  animation: celebrate 0.6s ease-out;\n  text-shadow: 0 2px 8px rgba(251, 191, 36, 0.5);\n}\n\n@keyframes celebrate {\n  0% {\n    transform: scale(0.8);\n    opacity: 0;\n  }\n  50% {\n    transform: scale(1.1);\n  }\n  100% {\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n\n/* Screen shake for combos */\n@keyframes screen-shake {\n  0%, 100% { transform: translate(0, 0); }\n  10% { transform: translate(-2px, -2px); }\n  20% { transform: translate(2px, 2px); }\n  30% { transform: translate(-2px, 2px); }\n  40% { transform: translate(2px, -2px); }\n  50% { transform: translate(-2px, -2px); }\n  60% { transform: translate(2px, 2px); }\n  70% { transform: translate(-2px, 2px); }\n  80% { transform: translate(2px, -2px); }\n  90% { transform: translate(-2px, -2px); }\n}\n\n.game-wrapper.shake {\n  animation: screen-shake 0.5s ease;\n}\n\n/* Tile glow effect for matches */\n.tile.matched {\n  animation: tile-glow 0.4s ease-out;\n  box-shadow: 0 0 20px currentColor, 0 0 40px currentColor;\n}\n\n@keyframes tile-glow {\n  0%, 100% {\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  }\n  50% {\n    box-shadow: 0 0 20px currentColor, 0 0 40px currentColor;\n    transform: scale(1.1);\n  }\n}\n\n/* Enhanced score popup */\n.score-popup {\n  animation: score-float 2s ease-out forwards;\n}\n\n@keyframes score-float {\n  0% {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n  }\n  20% {\n    transform: translateY(-20px) scale(1.2);\n  }\n  100% {\n    opacity: 0;\n    transform: translateY(-60px) scale(0.8);\n  }\n}\n\n/* Special tile types */\n.tile.wild {\n  background: linear-gradient(135deg, #ff006e 0%, #8338ec 33%, #3a86ff 66%, #06ffa5 100%);\n  background-size: 200% 200%;\n  animation: rainbow-shift 3s ease infinite;\n  box-shadow: 0 4px 20px rgba(131, 56, 236, 0.6);\n}\n\n@keyframes rainbow-shift {\n  0%, 100% { background-position: 0% 50%; }\n  50% { background-position: 100% 50%; }\n}\n\n.tile.multiplier {\n  background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);\n  box-shadow: 0 4px 20px rgba(251, 191, 36, 0.6);\n  position: relative;\n  overflow: visible;\n}\n\n.tile.multiplier::after {\n  content: '‚òÖ';\n  position: absolute;\n  top: 2px;\n  right: 2px;\n  font-size: 12px;\n  color: #fff;\n}\n\n.tile.blocker {\n  background: linear-gradient(135deg, #64748b 0%, #475569 100%);\n  opacity: 0.9;\n  position: relative;\n}\n\n.tile.blocker::after {\n  content: 'üîí';\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-size: 14px;\n}\n\n/* Button Bar */\n.mobile-scale-wrapper {\n  position: relative;\n}\n\n.button-bar {\n  position: relative;\n  top: 0;\n  left: 0;\n  right: 0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  z-index: 10;\n  padding: 14px 18px;\n  margin-bottom: -50px;\n  gap: 12px;\n}\n\n.game-title {\n  font-size: 32px;\n  font-weight: 900;\n  background: linear-gradient(90deg, \n    #FF6B6B 0%, \n    #FFA34D 16.67%, \n    #FFE66D 33.33%, \n    #4ECDC4 50%, \n    #5B9EFF 66.67%, \n    #C471ED 83.33%, \n    #FF6B6B 100%);\n  background-size: 200% 100%;\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n  filter: drop-shadow(0 2px 6px rgba(255, 107, 107, 0.4)) \n          drop-shadow(0 0 20px rgba(78, 205, 196, 0.3))\n          drop-shadow(0 0 30px rgba(91, 158, 255, 0.2));\n  letter-spacing: 0.5px;\n  margin: 0;\n  animation: rainbow-shift 4s linear infinite;\n  text-transform: uppercase;\n  font-family: 'Inter', system-ui, sans-serif;\n}\n\n@keyframes rainbow-shift {\n  0% {\n    background-position: 0% 50%;\n  }\n  100% {\n    background-position: 200% 50%;\n  }\n}\n\n.button-group {\n  display: flex;\n  gap: 8px;\n}\n\n.coin-display {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  background: rgba(255, 255, 255, 0.95);\n  padding: 6px 12px;\n  height: 40px;\n  border-radius: 12px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.12);\n  transition: all 0.2s ease;\n  border: 1px solid rgba(255, 255, 255, 0.9);\n  cursor: pointer;\n  box-sizing: border-box;\n}\n\n.coin-display:hover {\n  background: rgba(255, 255, 255, 1);\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.16);\n}\n\n.coin-icon {\n  font-size: 18px;\n  animation: coinSpin 3s ease-in-out infinite;\n  line-height: 1;\n}\n\n@keyframes coinSpin {\n  0%, 100% {\n    transform: rotateY(0deg);\n  }\n  50% {\n    transform: rotateY(180deg);\n  }\n}\n\n.coin-amount {\n  font-size: 16px;\n  font-weight: 800;\n  background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n  line-height: 1;\n}\n\n.icon-button {\n  width: 40px;\n  height: 40px;\n  border-radius: 12px;\n  border: 1px solid rgba(255, 255, 255, 0.9);\n  background: rgba(255, 255, 255, 0.95);\n  color: #6366f1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.12);\n  backdrop-filter: blur(12px);\n  position: relative;\n  overflow: hidden;\n}\n\n.icon-button::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 40%;\n  background: linear-gradient(180deg, rgba(255, 255, 255, 0.3) 0%, transparent 100%);\n  pointer-events: none;\n  border-radius: 14px 14px 50% 50%;\n}\n\n.icon-button:hover {\n  background: rgba(255, 255, 255, 1);\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.16);\n}\n\n.icon-button:active {\n  transform: translateY(0);\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.12);\n}\n\n/* Pause Overlay */\n.pause-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.7);\n  backdrop-filter: blur(8px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 100;\n  animation: fade-in 0.3s ease;\n  pointer-events: auto;\n}\n\n.pause-content {\n  background: white;\n  padding: 40px 32px;\n  border-radius: 24px;\n  text-align: center;\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n  animation: scale-in 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);\n}\n\n.pause-title {\n  font-size: 32px;\n  font-weight: 900;\n  margin: 0 0 24px 0;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n}\n\n.pause-buttons {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  width: 100%;\n}\n\n.resume-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 12px;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  font-size: 18px;\n  font-weight: 700;\n  padding: 16px 32px;\n  border: none;\n  border-radius: 16px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);\n  width: 100%;\n}\n\n.resume-button:hover {\n  transform: translateY(-2px) scale(1.05);\n  box-shadow: 0 6px 20px rgba(102, 126, 234, 0.5);\n}\n\n.resume-button:active {\n  transform: translateY(0) scale(0.95);\n}\n\n.restart-button-pause {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 12px;\n  background: rgba(239, 68, 68, 0.1);\n  color: #dc2626;\n  font-size: 16px;\n  font-weight: 600;\n  padding: 14px 32px;\n  border: 2px solid #dc2626;\n  border-radius: 16px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  width: 100%;\n}\n\n.restart-button-pause:hover {\n  background: #dc2626;\n  color: white;\n  transform: translateY(-2px) scale(1.05);\n  box-shadow: 0 4px 12px rgba(220, 38, 38, 0.4);\n}\n\n.restart-button-pause:active {\n  transform: translateY(0) scale(0.95);\n}\n\n.help-button-pause {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 12px;\n  background: rgba(16, 185, 129, 0.1);\n  color: #059669;\n  font-size: 16px;\n  font-weight: 600;\n  padding: 14px 32px;\n  border: 2px solid #10b981;\n  border-radius: 16px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  width: 100%;\n}\n\n.help-button-pause:hover {\n  background: #10b981;\n  color: white;\n  transform: translateY(-2px) scale(1.05);\n  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);\n}\n\n.help-button-pause:active {\n  transform: translateY(0) scale(0.95);\n}\n\n.settings-button-pause {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 12px;\n  background: rgba(107, 114, 128, 0.1);\n  color: #4b5563;\n  font-size: 16px;\n  font-weight: 600;\n  padding: 14px 32px;\n  border: 2px solid #6b7280;\n  border-radius: 16px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  width: 100%;\n}\n\n.settings-button-pause:hover {\n  background: #6b7280;\n  color: white;\n  transform: translateY(-2px) scale(1.05);\n  box-shadow: 0 4px 12px rgba(107, 114, 128, 0.4);\n}\n\n.settings-button-pause:active {\n  transform: translateY(0) scale(0.95);\n}\n\n/* Paused State */\n.game-wrapper.paused {\n  filter: grayscale(0.3);\n}\n\n/* Animations */\n@keyframes fade-in {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n@keyframes scale-in {\n  from {\n    transform: scale(0.8);\n    opacity: 0;\n  }\n  to {\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n\n@keyframes slide-up {\n  from {\n    transform: translateY(20px);\n    opacity: 0;\n  }\n  to {\n    transform: translateY(0);\n    opacity: 1;\n  }\n}\n\n.animate-scale-in {\n  animation: scale-in 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);\n}\n\n/* Adjust game wrapper to account for button bar */\n.app-container {\n  flex-direction: column;\n}\n\n.game-wrapper {\n  margin-top: 60px;\n}\n\n/* Particles */\n.particles-container {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  pointer-events: none;\n  z-index: 1000;\n  overflow: hidden;\n}\n\n.particle {\n  position: absolute;\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  pointer-events: none;\n  box-shadow: 0 0 10px currentColor;\n}\n\n/* Drag and Drop Styles */\n.tile.big.dragging {\n  opacity: 0.6;\n  transform: scale(0.95);\n  transition: opacity 0.2s ease, transform 0.2s ease;\n}\n\n.drag-ghost {\n  opacity: 0.95;\n  filter: drop-shadow(0 12px 32px rgba(0, 0, 0, 0.4)) drop-shadow(0 0 0 2px rgba(255, 255, 255, 0.3));\n  animation: drag-float 0.2s ease-out;\n  pointer-events: none;\n  will-change: transform;\n}\n\n@keyframes drag-float {\n  from {\n    transform: translate(-50%, -50%) scale(0.9);\n    opacity: 0.5;\n  }\n  to {\n    transform: translate(-50%, -50%) scale(1.1);\n    opacity: 0.95;\n  }\n}\n\n.drag-ghost .tile {\n  transform: rotate(3deg) scale(1.1);\n  transition: none;\n}\n\n.drag-ghost .tile-content {\n  box-shadow: \n    0 0 0 3px rgba(255, 255, 255, 0.5),\n    0 0 20px rgba(255, 255, 255, 0.3),\n    0 8px 32px rgba(0, 0, 0, 0.3);\n}\n\n/* Column Hover Highlight */\n.cell.column-hovered {\n  background: linear-gradient(145deg, \n    rgba(103, 126, 234, 0.15) 0%, \n    rgba(118, 75, 162, 0.15) 100%);\n  border-color: rgba(103, 126, 234, 0.4);\n  box-shadow: \n    0 0 0 2px rgba(103, 126, 234, 0.3),\n    inset 0 0 20px rgba(103, 126, 234, 0.1);\n  transition: all 0.15s ease;\n}\n\n/* Touch action for drag-enabled tiles */\n.tile.big {\n  touch-action: none;\n}\n","size_bytes":52203},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline text-left [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","size_bytes":2001},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","size_bytes":4419},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","size_bytes":1598},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","size_bytes":140},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","size_bytes":1419},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n","size_bytes":1140},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","size_bytes":2712},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2\",\n        sm: \"h-8 rounded-md px-3 text-xs\",\n        lg: \"h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","size_bytes":1902},"client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: cn(\n          \"relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected].day-range-end)]:rounded-r-md\",\n          props.mode === \"range\"\n            ? \"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md\"\n            : \"[&:has([aria-selected])]:rounded-md\"\n        ),\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-8 w-8 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_start: \"day-range-start\",\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","size_bytes":2935},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-xl border bg-card text-card-foreground shadow\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n","size_bytes":1828},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","size_bytes":6210},"client/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","size_bytes":10481},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","size_bytes":1012},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","size_bytes":329},"client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","size_bytes":4873},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-4 w-4 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","size_bytes":7224},"client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogTrigger,\n  DialogClose,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","size_bytes":3849},"client/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","size_bytes":3021},"client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md\",\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","size_bytes":7480},"client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-[0.8rem] text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-[0.8rem] font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","size_bytes":4132},"client/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","size_bytes":1198},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Minus } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-9 w-9 items-center justify-center border-y border-r border-input text-sm shadow-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-1 ring-ring\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Minus />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","size_bytes":2143},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","size_bytes":768},"client/src/components/ui/interface.tsx":{"content":"import { useEffect } from \"react\";\nimport { useGame } from \"@/lib/stores/useGame\";\nimport { useAudio } from \"@/lib/stores/useAudio\";\nimport { Button } from \"./button\";\nimport { Card, CardContent, CardFooter, CardHeader, CardTitle } from \"./card\";\nimport { VolumeX, Volume2, RotateCw, Trophy } from \"lucide-react\";\n\nexport function Interface() {\n  const restart = useGame((state) => state.restart);\n  const phase = useGame((state) => state.phase);\n  const { isMuted, toggleMute } = useAudio();\n\n  // Handle clicks on the interface in the ready phase to start the game\n  useEffect(() => {\n    if (phase === \"ready\") {\n      const handleClick = () => {\n        const activeElement = document.activeElement;\n        if (activeElement && 'blur' in activeElement) {\n          (activeElement as HTMLElement).blur();\n        }\n        const event = new KeyboardEvent(\"keydown\", { code: \"Space\" });\n        window.dispatchEvent(event);\n      };\n\n      window.addEventListener(\"click\", handleClick);\n      return () => window.removeEventListener(\"click\", handleClick);\n    }\n  }, [phase]);\n\n  return (\n    <>\n      {/* Top-right corner UI controls */}\n      <div className=\"fixed top-4 right-4 flex gap-2 z-10\">\n        <Button\n          variant=\"outline\"\n          size=\"icon\"\n          onClick={toggleMute}\n          title={isMuted ? \"Unmute\" : \"Mute\"}\n        >\n          {isMuted ? <VolumeX size={18} /> : <Volume2 size={18} />}\n        </Button>\n        \n        <Button\n          variant=\"outline\"\n          size=\"icon\"\n          onClick={restart}\n          title=\"Restart Game\"\n        >\n          <RotateCw size={18} />\n        </Button>\n      </div>\n      \n      {/* Game completion overlay */}\n      {phase === \"ended\" && (\n        <div className=\"fixed inset-0 flex items-center justify-center z-20 bg-black/30\">\n          <Card className=\"w-full max-w-md mx-4 shadow-lg\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center justify-center gap-2\">\n                <Trophy className=\"text-yellow-500\" />\n                Level Complete!\n              </CardTitle>\n            </CardHeader>\n            \n            <CardContent>\n              <p className=\"text-center text-muted-foreground\">\n                Congratulations! You successfully navigated the course.\n              </p>\n            </CardContent>\n            \n            <CardFooter className=\"flex justify-center\">\n              <Button onClick={restart} className=\"w-full\">\n                Play Again\n              </Button>\n            </CardFooter>\n          </Card>\n        </div>\n      )}\n      \n      {/* Instructions panel */}\n      <div className=\"fixed bottom-4 left-4 z-10\">\n        <Card className=\"w-auto max-w-xs bg-background/80 backdrop-blur-sm\">\n          <CardContent className=\"p-4\">\n            <h3 className=\"font-medium mb-2\">Controls:</h3>\n            <ul className=\"text-sm space-y-1 text-muted-foreground\">\n              <li>WASD or Arrow Keys: Move the ball</li>\n              <li>Space: Jump</li>\n              <li>R: Restart game</li>\n              <li>M: Toggle sound</li>\n            </ul>\n          </CardContent>\n        </Card>\n      </div>\n    </>\n  );\n}\n","size_bytes":3180},"client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","size_bytes":710},"client/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-9 items-center space-x-1 rounded-md border bg-background p-1 shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-4 w-4 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","size_bytes":8522},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-9 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-300 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","size_bytes":5124},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationLink,\n  PaginationItem,\n  PaginationPrevious,\n  PaginationNext,\n  PaginationEllipsis,\n}\n","size_bytes":2751},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverAnchor = PopoverPrimitive.Anchor\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent, PopoverAnchor }\n","size_bytes":1292},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-2 w-full overflow-hidden rounded-full bg-primary/20\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","size_bytes":792},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-3.5 w-3.5 fill-primary\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","size_bytes":1410},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","size_bytes":1723},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","size_bytes":1642},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"px-2 py-1.5 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute right-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","size_bytes":5639},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","size_bytes":756},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n      {children}\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","size_bytes":4280},"client/src/components/ui/sidebar.tsx":{"content":"import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { VariantProps, cva } from \"class-variance-authority\";\nimport { PanelLeft } from \"lucide-react\";\n\nimport { useIsMobile } from \"@/hooks/use-is-mobile\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Separator } from \"@/components/ui/separator\";\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\";\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\";\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7;\nconst SIDEBAR_WIDTH = \"16rem\";\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\";\nconst SIDEBAR_WIDTH_ICON = \"3rem\";\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\";\n\ntype SidebarContext = {\n  state: \"expanded\" | \"collapsed\";\n  open: boolean;\n  setOpen: (open: boolean) => void;\n  openMobile: boolean;\n  setOpenMobile: (open: boolean) => void;\n  isMobile: boolean;\n  toggleSidebar: () => void;\n};\n\nconst SidebarContext = React.createContext<SidebarContext | null>(null);\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext);\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\");\n  }\n\n  return context;\n}\n\nconst SidebarProvider = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    defaultOpen?: boolean;\n    open?: boolean;\n    onOpenChange?: (open: boolean) => void;\n  }\n>(\n  (\n    {\n      defaultOpen = true,\n      open: openProp,\n      onOpenChange: setOpenProp,\n      className,\n      style,\n      children,\n      ...props\n    },\n    ref,\n  ) => {\n    const isMobile = useIsMobile();\n    const [openMobile, setOpenMobile] = React.useState(false);\n\n    // This is the internal state of the sidebar.\n    // We use openProp and setOpenProp for control from outside the component.\n    const [_open, _setOpen] = React.useState(defaultOpen);\n    const open = openProp ?? _open;\n    const setOpen = React.useCallback(\n      (value: boolean | ((value: boolean) => boolean)) => {\n        const openState = typeof value === \"function\" ? value(open) : value;\n        if (setOpenProp) {\n          setOpenProp(openState);\n        } else {\n          _setOpen(openState);\n        }\n\n        // This sets the cookie to keep the sidebar state.\n        document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`;\n      },\n      [setOpenProp, open],\n    );\n\n    // Helper to toggle the sidebar.\n    const toggleSidebar = React.useCallback(() => {\n      return isMobile\n        ? setOpenMobile((open) => !open)\n        : setOpen((open) => !open);\n    }, [isMobile, setOpen, setOpenMobile]);\n\n    // Adds a keyboard shortcut to toggle the sidebar.\n    React.useEffect(() => {\n      const handleKeyDown = (event: KeyboardEvent) => {\n        if (\n          event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n          (event.metaKey || event.ctrlKey)\n        ) {\n          event.preventDefault();\n          toggleSidebar();\n        }\n      };\n\n      window.addEventListener(\"keydown\", handleKeyDown);\n      return () => window.removeEventListener(\"keydown\", handleKeyDown);\n    }, [toggleSidebar]);\n\n    // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n    // This makes it easier to style the sidebar with Tailwind classes.\n    const state = open ? \"expanded\" : \"collapsed\";\n\n    const contextValue = React.useMemo<SidebarContext>(\n      () => ({\n        state,\n        open,\n        setOpen,\n        isMobile,\n        openMobile,\n        setOpenMobile,\n        toggleSidebar,\n      }),\n      [\n        state,\n        open,\n        setOpen,\n        isMobile,\n        openMobile,\n        setOpenMobile,\n        toggleSidebar,\n      ],\n    );\n\n    return (\n      <SidebarContext.Provider value={contextValue}>\n        <TooltipProvider delayDuration={0}>\n          <div\n            style={\n              {\n                \"--sidebar-width\": SIDEBAR_WIDTH,\n                \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n                ...style,\n              } as React.CSSProperties\n            }\n            className={cn(\n              \"group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar\",\n              className,\n            )}\n            ref={ref}\n            {...props}\n          >\n            {children}\n          </div>\n        </TooltipProvider>\n      </SidebarContext.Provider>\n    );\n  },\n);\nSidebarProvider.displayName = \"SidebarProvider\";\n\nconst Sidebar = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    side?: \"left\" | \"right\";\n    variant?: \"sidebar\" | \"floating\" | \"inset\";\n    collapsible?: \"offcanvas\" | \"icon\" | \"none\";\n  }\n>(\n  (\n    {\n      side = \"left\",\n      variant = \"sidebar\",\n      collapsible = \"offcanvas\",\n      className,\n      children,\n      ...props\n    },\n    ref,\n  ) => {\n    const { isMobile, state, openMobile, setOpenMobile } = useSidebar();\n\n    if (collapsible === \"none\") {\n      return (\n        <div\n          className={cn(\n            \"flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground\",\n            className,\n          )}\n          ref={ref}\n          {...props}\n        >\n          {children}\n        </div>\n      );\n    }\n\n    if (isMobile) {\n      return (\n        <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n          <SheetContent\n            data-sidebar=\"sidebar\"\n            data-mobile=\"true\"\n            className=\"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden\"\n            style={\n              {\n                \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n              } as React.CSSProperties\n            }\n            side={side}\n          >\n            <SheetHeader className=\"sr-only\">\n              <SheetTitle>Sidebar</SheetTitle>\n              <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n            </SheetHeader>\n            <div className=\"flex h-full w-full flex-col\">{children}</div>\n          </SheetContent>\n        </Sheet>\n      );\n    }\n\n    return (\n      <div\n        ref={ref}\n        className=\"group peer hidden text-sidebar-foreground md:block\"\n        data-state={state}\n        data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n        data-variant={variant}\n        data-side={side}\n      >\n        {/* This is what handles the sidebar gap on desktop */}\n        <div\n          className={cn(\n            \"relative w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear\",\n            \"group-data-[collapsible=offcanvas]:w-0\",\n            \"group-data-[side=right]:rotate-180\",\n            variant === \"floating\" || variant === \"inset\"\n              ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]\"\n              : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon]\",\n          )}\n        />\n        <div\n          className={cn(\n            \"fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex\",\n            side === \"left\"\n              ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n              : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n            // Adjust the padding for floating and inset variants.\n            variant === \"floating\" || variant === \"inset\"\n              ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]\"\n              : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n            className,\n          )}\n          {...props}\n        >\n          <div\n            data-sidebar=\"sidebar\"\n            className=\"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow\"\n          >\n            {children}\n          </div>\n        </div>\n      </div>\n    );\n  },\n);\nSidebar.displayName = \"Sidebar\";\n\nconst SidebarTrigger = React.forwardRef<\n  React.ElementRef<typeof Button>,\n  React.ComponentProps<typeof Button>\n>(({ className, onClick, ...props }, ref) => {\n  const { toggleSidebar } = useSidebar();\n\n  return (\n    <Button\n      ref={ref}\n      data-sidebar=\"trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event);\n        toggleSidebar();\n      }}\n      {...props}\n    >\n      <PanelLeft />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  );\n});\nSidebarTrigger.displayName = \"SidebarTrigger\";\n\nconst SidebarRail = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\">\n>(({ className, ...props }, ref) => {\n  const { toggleSidebar } = useSidebar();\n\n  return (\n    <button\n      ref={ref}\n      data-sidebar=\"rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex\",\n        \"[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarRail.displayName = \"SidebarRail\";\n\nconst SidebarInset = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"main\">\n>(({ className, ...props }, ref) => {\n  return (\n    <main\n      ref={ref}\n      className={cn(\n        \"relative flex w-full flex-1 flex-col bg-background\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarInset.displayName = \"SidebarInset\";\n\nconst SidebarInput = React.forwardRef<\n  React.ElementRef<typeof Input>,\n  React.ComponentProps<typeof Input>\n>(({ className, ...props }, ref) => {\n  return (\n    <Input\n      ref={ref}\n      data-sidebar=\"input\"\n      className={cn(\n        \"h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarInput.displayName = \"SidebarInput\";\n\nconst SidebarHeader = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  );\n});\nSidebarHeader.displayName = \"SidebarHeader\";\n\nconst SidebarFooter = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  );\n});\nSidebarFooter.displayName = \"SidebarFooter\";\n\nconst SidebarSeparator = React.forwardRef<\n  React.ElementRef<typeof Separator>,\n  React.ComponentProps<typeof Separator>\n>(({ className, ...props }, ref) => {\n  return (\n    <Separator\n      ref={ref}\n      data-sidebar=\"separator\"\n      className={cn(\"mx-2 w-auto bg-sidebar-border\", className)}\n      {...props}\n    />\n  );\n});\nSidebarSeparator.displayName = \"SidebarSeparator\";\n\nconst SidebarContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarContent.displayName = \"SidebarContent\";\n\nconst SidebarGroup = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  );\n});\nSidebarGroup.displayName = \"SidebarGroup\";\n\nconst SidebarGroupLabel = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & { asChild?: boolean }\n>(({ className, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"div\";\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarGroupLabel.displayName = \"SidebarGroupLabel\";\n\nconst SidebarGroupAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & { asChild?: boolean }\n>(({ className, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\";\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarGroupAction.displayName = \"SidebarGroupAction\";\n\nconst SidebarGroupContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    data-sidebar=\"group-content\"\n    className={cn(\"w-full text-sm\", className)}\n    {...props}\n  />\n));\nSidebarGroupContent.displayName = \"SidebarGroupContent\";\n\nconst SidebarMenu = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    data-sidebar=\"menu\"\n    className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n    {...props}\n  />\n));\nSidebarMenu.displayName = \"SidebarMenu\";\n\nconst SidebarMenuItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    data-sidebar=\"menu-item\"\n    className={cn(\"group/menu-item relative\", className)}\n    {...props}\n  />\n));\nSidebarMenuItem.displayName = \"SidebarMenuItem\";\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:!p-0\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nconst SidebarMenuButton = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean;\n    isActive?: boolean;\n    tooltip?: string | React.ComponentProps<typeof TooltipContent>;\n  } & VariantProps<typeof sidebarMenuButtonVariants>\n>(\n  (\n    {\n      asChild = false,\n      isActive = false,\n      variant = \"default\",\n      size = \"default\",\n      tooltip,\n      className,\n      ...props\n    },\n    ref,\n  ) => {\n    const Comp = asChild ? Slot : \"button\";\n    const { isMobile, state } = useSidebar();\n\n    const button = (\n      <Comp\n        ref={ref}\n        data-sidebar=\"menu-button\"\n        data-size={size}\n        data-active={isActive}\n        className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n        {...props}\n      />\n    );\n\n    if (!tooltip) {\n      return button;\n    }\n\n    if (typeof tooltip === \"string\") {\n      tooltip = {\n        children: tooltip,\n      };\n    }\n\n    return (\n      <Tooltip>\n        <TooltipTrigger asChild>{button}</TooltipTrigger>\n        <TooltipContent\n          side=\"right\"\n          align=\"center\"\n          hidden={state !== \"collapsed\" || isMobile}\n          {...tooltip}\n        />\n      </Tooltip>\n    );\n  },\n);\nSidebarMenuButton.displayName = \"SidebarMenuButton\";\n\nconst SidebarMenuAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean;\n    showOnHover?: boolean;\n  }\n>(({ className, asChild = false, showOnHover = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\";\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarMenuAction.displayName = \"SidebarMenuAction\";\n\nconst SidebarMenuBadge = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    data-sidebar=\"menu-badge\"\n    className={cn(\n      \"pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground\",\n      \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n      \"peer-data-[size=sm]/menu-button:top-1\",\n      \"peer-data-[size=default]/menu-button:top-1.5\",\n      \"peer-data-[size=lg]/menu-button:top-2.5\",\n      \"group-data-[collapsible=icon]:hidden\",\n      className,\n    )}\n    {...props}\n  />\n));\nSidebarMenuBadge.displayName = \"SidebarMenuBadge\";\n\nconst SidebarMenuSkeleton = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    showIcon?: boolean;\n  }\n>(({ className, showIcon = false, ...props }, ref) => {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`;\n  }, []);\n\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[--skeleton-width] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  );\n});\nSidebarMenuSkeleton.displayName = \"SidebarMenuSkeleton\";\n\nconst SidebarMenuSub = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    data-sidebar=\"menu-sub\"\n    className={cn(\n      \"mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5\",\n      \"group-data-[collapsible=icon]:hidden\",\n      className,\n    )}\n    {...props}\n  />\n));\nSidebarMenuSub.displayName = \"SidebarMenuSub\";\n\nconst SidebarMenuSubItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ ...props }, ref) => <li ref={ref} {...props} />);\nSidebarMenuSubItem.displayName = \"SidebarMenuSubItem\";\n\nconst SidebarMenuSubButton = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentProps<\"a\"> & {\n    asChild?: boolean;\n    size?: \"sm\" | \"md\";\n    isActive?: boolean;\n  }\n>(({ asChild = false, size = \"md\", isActive, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\";\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarMenuSubButton.displayName = \"SidebarMenuSubButton\";\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n};\n","size_bytes":23790},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-primary/10\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","size_bytes":266},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","size_bytes":1037},"client/src/components/ui/sonner.tsx":{"content":"\"use client\"\n\nimport { useTheme } from \"next-themes\"\nimport { Toaster as Sonner } from \"sonner\"\n\ntype ToasterProps = React.ComponentProps<typeof Sonner>\n\nconst Toaster = ({ ...props }: ToasterProps) => {\n  const { theme = \"system\" } = useTheme()\n\n  return (\n    <Sonner\n      theme={theme as ToasterProps[\"theme\"]}\n      className=\"toaster group\"\n      toastOptions={{\n        classNames: {\n          toast:\n            \"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg\",\n          description: \"group-[.toast]:text-muted-foreground\",\n          actionButton:\n            \"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground\",\n          cancelButton:\n            \"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground\",\n        },\n      }}\n      {...props}\n    />\n  )\n}\n\nexport { Toaster }\n","size_bytes":894},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","size_bytes":1148},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\n      \"p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n      className\n    )}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","size_bytes":2859},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","size_bytes":1877},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","size_bytes":649},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","size_bytes":1753},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-9 px-2 min-w-9\",\n        sm: \"h-8 px-1.5 min-w-8\",\n        lg: \"h-10 px-2.5 min-w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","size_bytes":1486},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Portal>\n    <TooltipPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </TooltipPrimitive.Portal>\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","size_bytes":1217},"client/src/lib/stores/useAccessibility.tsx":{"content":"import { create } from \"zustand\";\n\ninterface AccessibilityState {\n  colorBlindMode: boolean;\n  highContrastMode: boolean;\n  reducedMotion: boolean;\n  \n  toggleColorBlindMode: () => void;\n  toggleHighContrastMode: () => void;\n  toggleReducedMotion: () => void;\n}\n\nconst loadAccessibilitySetting = (key: string, defaultValue: boolean): boolean => {\n  try {\n    const saved = localStorage.getItem(key);\n    return saved !== null ? JSON.parse(saved) : defaultValue;\n  } catch (err) {\n    console.warn(`Failed to load ${key} setting:`, err);\n    return defaultValue;\n  }\n};\n\nconst saveAccessibilitySetting = (key: string, value: boolean) => {\n  try {\n    localStorage.setItem(key, JSON.stringify(value));\n  } catch (err) {\n    console.warn(`Failed to save ${key} setting:`, err);\n  }\n};\n\nexport const useAccessibility = create<AccessibilityState>((set, get) => ({\n  colorBlindMode: loadAccessibilitySetting('colorBlindMode', false),\n  highContrastMode: loadAccessibilitySetting('highContrastMode', false),\n  reducedMotion: loadAccessibilitySetting('reducedMotion', false),\n  \n  toggleColorBlindMode: () => {\n    const newValue = !get().colorBlindMode;\n    set({ colorBlindMode: newValue });\n    saveAccessibilitySetting('colorBlindMode', newValue);\n    console.log('Color-blind mode:', newValue ? 'enabled' : 'disabled');\n  },\n  \n  toggleHighContrastMode: () => {\n    const newValue = !get().highContrastMode;\n    set({ highContrastMode: newValue });\n    saveAccessibilitySetting('highContrastMode', newValue);\n    console.log('High contrast mode:', newValue ? 'enabled' : 'disabled');\n  },\n  \n  toggleReducedMotion: () => {\n    const newValue = !get().reducedMotion;\n    set({ reducedMotion: newValue });\n    saveAccessibilitySetting('reducedMotion', newValue);\n    console.log('Reduced motion:', newValue ? 'enabled' : 'disabled');\n  }\n}));\n","size_bytes":1838},"client/src/lib/stores/useAudio.tsx":{"content":"import { create } from \"zustand\";\n\ninterface AudioState {\n  backgroundMusic: HTMLAudioElement | null;\n  hitSound: HTMLAudioElement | null;\n  successSound: HTMLAudioElement | null;\n  isMuted: boolean;\n  \n  // Individual volume controls (0-1)\n  musicVolume: number;\n  hitVolume: number;\n  successVolume: number;\n  comboVolume: number;\n  \n  // Setter functions\n  setBackgroundMusic: (music: HTMLAudioElement) => void;\n  setHitSound: (sound: HTMLAudioElement) => void;\n  setSuccessSound: (sound: HTMLAudioElement) => void;\n  \n  // Volume control functions\n  setMusicVolume: (volume: number) => void;\n  setHitVolume: (volume: number) => void;\n  setSuccessVolume: (volume: number) => void;\n  setComboVolume: (volume: number) => void;\n  \n  // Control functions\n  toggleMute: () => void;\n  playHit: () => void;\n  playSuccess: () => void;\n  playCombo: (comboStreak: number) => void;\n}\n\nconst loadVolume = (key: string, defaultValue: number): number => {\n  try {\n    const saved = localStorage.getItem(key);\n    return saved ? parseFloat(saved) : defaultValue;\n  } catch {\n    return defaultValue;\n  }\n};\n\nconst saveVolume = (key: string, value: number) => {\n  try {\n    localStorage.setItem(key, value.toString());\n  } catch (err) {\n    console.warn('Failed to save volume:', err);\n  }\n};\n\nexport const useAudio = create<AudioState>((set, get) => ({\n  backgroundMusic: null,\n  hitSound: null,\n  successSound: null,\n  isMuted: true, // Start muted by default\n  \n  // Load volumes from localStorage or use defaults\n  musicVolume: loadVolume('musicVolume', 0.3),\n  hitVolume: loadVolume('hitVolume', 0.3),\n  successVolume: loadVolume('successVolume', 0.5),\n  comboVolume: loadVolume('comboVolume', 0.6),\n  \n  setBackgroundMusic: (music) => {\n    const { musicVolume } = get();\n    music.volume = musicVolume;\n    set({ backgroundMusic: music });\n  },\n  setHitSound: (sound) => set({ hitSound: sound }),\n  setSuccessSound: (sound) => set({ successSound: sound }),\n  \n  setMusicVolume: (volume) => {\n    const { backgroundMusic } = get();\n    if (backgroundMusic) {\n      backgroundMusic.volume = volume;\n    }\n    saveVolume('musicVolume', volume);\n    set({ musicVolume: volume });\n  },\n  \n  setHitVolume: (volume) => {\n    saveVolume('hitVolume', volume);\n    set({ hitVolume: volume });\n  },\n  \n  setSuccessVolume: (volume) => {\n    saveVolume('successVolume', volume);\n    set({ successVolume: volume });\n  },\n  \n  setComboVolume: (volume) => {\n    saveVolume('comboVolume', volume);\n    set({ comboVolume: volume });\n  },\n  \n  toggleMute: () => {\n    const { isMuted, backgroundMusic } = get();\n    const newMutedState = !isMuted;\n    \n    // Control background music playback\n    if (backgroundMusic) {\n      if (newMutedState) {\n        // Muting - pause background music\n        backgroundMusic.pause();\n      } else {\n        // Unmuting - play background music\n        backgroundMusic.play().catch(error => {\n          console.log(\"Background music play prevented:\", error);\n        });\n      }\n    }\n    \n    // Update the muted state\n    set({ isMuted: newMutedState });\n    \n    // Log the change\n    console.log(`Sound ${newMutedState ? 'muted' : 'unmuted'}`);\n  },\n  \n  playHit: () => {\n    const { hitSound, isMuted, hitVolume } = get();\n    if (hitSound) {\n      // If sound is muted, don't play anything\n      if (isMuted) {\n        console.log(\"Hit sound skipped (muted)\");\n        return;\n      }\n      \n      // Clone the sound to allow overlapping playback\n      const soundClone = hitSound.cloneNode() as HTMLAudioElement;\n      soundClone.volume = hitVolume;\n      soundClone.play().catch(error => {\n        console.log(\"Hit sound play prevented:\", error);\n      });\n    }\n  },\n  \n  playSuccess: () => {\n    const { successSound, isMuted, successVolume } = get();\n    if (successSound) {\n      // If sound is muted, don't play anything\n      if (isMuted) {\n        console.log(\"Success sound skipped (muted)\");\n        return;\n      }\n      \n      successSound.volume = successVolume;\n      successSound.currentTime = 0;\n      successSound.play().catch(error => {\n        console.log(\"Success sound play prevented:\", error);\n      });\n    }\n  },\n  \n  playCombo: (comboStreak: number) => {\n    const { successSound, isMuted, comboVolume } = get();\n    if (successSound) {\n      // If sound is muted, don't play anything\n      if (isMuted) {\n        console.log(\"Combo sound skipped (muted)\");\n        return;\n      }\n      \n      // Clone the sound to allow overlapping playback\n      const soundClone = successSound.cloneNode() as HTMLAudioElement;\n      // Increase pitch based on combo streak (1.0 to 2.0)\n      const pitchRate = Math.min(1.0 + (comboStreak * 0.15), 2.0);\n      soundClone.playbackRate = pitchRate;\n      soundClone.volume = comboVolume;\n      soundClone.currentTime = 0;\n      soundClone.play().catch(error => {\n        console.log(\"Combo sound play prevented:\", error);\n      });\n    }\n  }\n}));\n","size_bytes":4927},"client/src/lib/stores/useGame.tsx":{"content":"import { create } from \"zustand\";\nimport { subscribeWithSelector } from \"zustand/middleware\";\n\nexport type GamePhase = \"ready\" | \"playing\" | \"ended\";\n\ninterface GameState {\n  phase: GamePhase;\n  \n  // Actions\n  start: () => void;\n  restart: () => void;\n  end: () => void;\n}\n\nexport const useGame = create<GameState>()(\n  subscribeWithSelector((set) => ({\n    phase: \"ready\",\n    \n    start: () => {\n      set((state) => {\n        // Only transition from ready to playing\n        if (state.phase === \"ready\") {\n          return { phase: \"playing\" };\n        }\n        return {};\n      });\n    },\n    \n    restart: () => {\n      set(() => ({ phase: \"ready\" }));\n    },\n    \n    end: () => {\n      set((state) => {\n        // Only transition from playing to ended\n        if (state.phase === \"playing\") {\n          return { phase: \"ended\" };\n        }\n        return {};\n      });\n    }\n  }))\n);\n","size_bytes":893},"client/src/components/SplashScreen.tsx":{"content":"import { useEffect, useState } from 'react';\n\ninterface SplashScreenProps {\n  onComplete: () => void;\n}\n\nexport default function SplashScreen({ onComplete }: SplashScreenProps) {\n  const [fadeOut, setFadeOut] = useState(false);\n\n  useEffect(() => {\n    const fadeTimer = setTimeout(() => {\n      setFadeOut(true);\n    }, 2000);\n\n    const completeTimer = setTimeout(() => {\n      onComplete();\n    }, 2500);\n\n    return () => {\n      clearTimeout(fadeTimer);\n      clearTimeout(completeTimer);\n    };\n  }, [onComplete]);\n\n  return (\n    <div\n      className={`fixed inset-0 z-[9999] flex items-center justify-center bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 transition-opacity duration-500 ${\n        fadeOut ? 'opacity-0' : 'opacity-100'\n      }`}\n    >\n      <div className=\"text-center animate-pulse-slow\">\n        <h1 className=\"text-7xl font-black bg-gradient-to-r from-yellow-400 via-orange-500 to-pink-500 bg-clip-text text-transparent mb-4 tracking-tight\">\n          TP GAMES\n        </h1>\n        <div className=\"flex justify-center gap-2 mt-8\">\n          <div className=\"w-3 h-3 bg-yellow-400 rounded-full animate-bounce\" style={{ animationDelay: '0ms' }}></div>\n          <div className=\"w-3 h-3 bg-orange-500 rounded-full animate-bounce\" style={{ animationDelay: '150ms' }}></div>\n          <div className=\"w-3 h-3 bg-pink-500 rounded-full animate-bounce\" style={{ animationDelay: '300ms' }}></div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":1476},"client/src/hooks/useGameScale.ts":{"content":"import { useState, useEffect, useRef } from 'react';\nimport { useDisplay } from '../lib/stores/useDisplay';\n\n// Device detection helper with hysteresis to prevent oscillation\nfunction detectDeviceType() {\n  const width = window.innerWidth;\n  const hasTouch = 'ontouchstart' in window || navigator.maxTouchPoints > 0;\n  \n  // Add hysteresis: once classified, need significant width change to reclassify\n  if (width > 1050) return 'desktop';\n  if (width > 790) return hasTouch ? 'tablet' : 'desktop';\n  if (width > 500) return 'tablet';\n  return 'mobile';\n}\n\n// Detect actual browser UI height by comparing innerHeight vs visualViewport\nfunction detectBrowserUIHeight() {\n  const visualViewport = window.visualViewport;\n  if (!visualViewport) return 0;\n  \n  // The difference tells us how much browser UI is currently visible\n  const uiHeight = window.innerHeight - visualViewport.height;\n  return Math.max(0, uiHeight);\n}\n\nexport function useGameScale() {\n  const [scale, setScale] = useState(1);\n  const { zoomLevel } = useDisplay();\n  const scrollTimeoutRef = useRef<number>();\n\n  useEffect(() => {\n    const calculateScale = () => {\n      // Detect device type\n      const deviceType = detectDeviceType();\n      \n      // Get actual visible viewport height\n      const visualViewport = window.visualViewport;\n      const hasVisualViewport = !!visualViewport;\n      const viewportHeight = visualViewport?.height || window.innerHeight;\n      \n      // Game's natural height\n      const estimatedHeight = 800;\n      \n      // Calculate available height with safety margins\n      // Visual Viewport API accounts for browser UI, so no margin needed when available\n      // When unavailable (fallback to innerHeight), add margins for mobile/tablet\n      let availableHeight = viewportHeight;\n      \n      if (!hasVisualViewport) {\n        // Fallback mode: innerHeight doesn't account for dynamic mobile browser UI\n        if (deviceType === 'mobile') {\n          // Mobile browsers have dynamic address bars\n          availableHeight = viewportHeight - 100;\n        } else if (deviceType === 'tablet') {\n          // Tablets may have browser UI\n          availableHeight = viewportHeight - 60;\n        }\n      }\n      \n      // Calculate scale based on device type\n      let autoScale = availableHeight / estimatedHeight;\n      let minScale = 0.7;\n      \n      if (deviceType === 'tablet') {\n        minScale = 0.6;\n      } else if (deviceType === 'mobile') {\n        minScale = 0.5;\n      }\n      \n      // Clamp and apply user's zoom preference\n      const finalScale = Math.max(minScale, Math.min(1, autoScale)) * zoomLevel;\n      setScale(finalScale);\n    };\n\n    calculateScale();\n    \n    // Recalculate on resize\n    const handleResize = () => {\n      calculateScale();\n    };\n    \n    // Debounced scroll handler (for mobile/tablet where address bar can hide)\n    const handleScroll = () => {\n      if (scrollTimeoutRef.current) {\n        clearTimeout(scrollTimeoutRef.current);\n      }\n      scrollTimeoutRef.current = window.setTimeout(() => {\n        calculateScale();\n      }, 100);\n    };\n\n    // Listen to resize and scroll events\n    window.addEventListener('resize', handleResize);\n    window.addEventListener('scroll', handleScroll, { passive: true });\n    window.visualViewport?.addEventListener('resize', handleResize);\n    window.visualViewport?.addEventListener('scroll', handleScroll);\n    \n    // Recalculate after delays to catch any late changes\n    const timer1 = setTimeout(calculateScale, 100);\n    const timer2 = setTimeout(calculateScale, 300);\n\n    return () => {\n      window.removeEventListener('resize', handleResize);\n      window.removeEventListener('scroll', handleScroll);\n      window.visualViewport?.removeEventListener('resize', handleResize);\n      window.visualViewport?.removeEventListener('scroll', handleScroll);\n      if (scrollTimeoutRef.current) {\n        clearTimeout(scrollTimeoutRef.current);\n      }\n      clearTimeout(timer1);\n      clearTimeout(timer2);\n    };\n  }, [zoomLevel]);\n\n  return scale;\n}\n","size_bytes":4051},"ADS_INTEGRATION_GUIDE.md":{"content":"# TileDrop - Ads Integration Guide\n\n## üéØ Overview\n\nThis guide will help you add ads to TileDrop for monetization. The best ad network for mobile games is **Google AdMob**, which works seamlessly with React Native/Expo apps.\n\n---\n\n## üìä Recommended Ad Strategy for TileDrop\n\n### **1. Rewarded Video Ads** (Highest Priority) ‚ú®\n- **Where to use**: Game Over screen - \"Watch ad to revive\"\n- **Benefit**: Players get a second chance, you get revenue\n- **Revenue**: $5-15 CPM (per 1000 views)\n- **User experience**: Positive - players choose to watch\n\n### **2. Interstitial Ads** (Medium Priority)\n- **Where to use**: Between games (after game over, before new game)\n- **Benefit**: High visibility, good revenue\n- **Revenue**: $3-10 CPM\n- **User experience**: Slightly intrusive but acceptable if not too frequent\n- **Frequency**: Every 3-5 games maximum\n\n### **3. Banner Ads** (Low Priority)\n- **Where to use**: Bottom of gameplay screen (non-intrusive)\n- **Benefit**: Constant passive revenue\n- **Revenue**: $0.50-2 CPM\n- **User experience**: Low impact but always visible\n\n---\n\n## üöÄ Step-by-Step Integration\n\n### Step 1: Create AdMob Account (15 minutes)\n\n1. Go to https://admob.google.com\n2. Sign in with Google account\n3. Click \"Get Started\"\n4. Create your app:\n   - **App name**: TileDrop\n   - **Platform**: iOS and Android (create both)\n   - **App Store URL**: Will add later after publishing\n\n5. Create Ad Units for each ad type:\n\n**For iOS App:**\n- Rewarded Ad Unit: \"TileDrop iOS Rewarded\"\n- Interstitial Ad Unit: \"TileDrop iOS Interstitial\"\n- Banner Ad Unit: \"TileDrop iOS Banner\"\n\n**For Android App:**\n- Rewarded Ad Unit: \"TileDrop Android Rewarded\"\n- Interstitial Ad Unit: \"TileDrop Android Interstitial\"\n- Banner Ad Unit: \"TileDrop Android Banner\"\n\n6. Copy all Ad Unit IDs (you'll need these later)\n\n---\n\n### Step 2: Install AdMob Package (5 minutes)\n\nIn your Expo project, install the AdMob package:\n\n```bash\nnpx expo install expo-ads-admob\n```\n\nOr if using newer Expo SDK (48+):\n\n```bash\nnpx expo install react-native-google-mobile-ads\n```\n\n---\n\n### Step 3: Configure AdMob IDs (10 minutes)\n\n**Update `app.json`:**\n\n```json\n{\n  \"expo\": {\n    \"name\": \"TileDrop\",\n    \"plugins\": [\n      [\n        \"react-native-google-mobile-ads\",\n        {\n          \"androidAppId\": \"ca-app-pub-XXXXXXXXXXXXXXXX~XXXXXXXXXX\",\n          \"iosAppId\": \"ca-app-pub-XXXXXXXXXXXXXXXX~XXXXXXXXXX\"\n        }\n      ]\n    ]\n  }\n}\n```\n\nReplace the app IDs with your AdMob App IDs from Step 1.\n\n---\n\n### Step 4: Create Ad Hook (20 minutes)\n\nCreate `client/src/hooks/useAds.tsx`:\n\n```tsx\nimport { useEffect, useState } from 'react';\nimport {\n  RewardedAd,\n  RewardedAdEventType,\n  InterstitialAd,\n  AdEventType,\n  BannerAd,\n  BannerAdSize,\n  TestIds,\n} from 'react-native-google-mobile-ads';\n\n// REPLACE WITH YOUR ACTUAL AD UNIT IDs BEFORE PUBLISHING\nconst REWARDED_AD_UNIT_ID = __DEV__ \n  ? TestIds.REWARDED \n  : Platform.OS === 'ios' \n    ? 'ca-app-pub-XXXXX/YYYYY' // Your iOS rewarded ad unit\n    : 'ca-app-pub-XXXXX/YYYYY'; // Your Android rewarded ad unit\n\nconst INTERSTITIAL_AD_UNIT_ID = __DEV__\n  ? TestIds.INTERSTITIAL\n  : Platform.OS === 'ios'\n    ? 'ca-app-pub-XXXXX/YYYYY' // Your iOS interstitial ad unit\n    : 'ca-app-pub-XXXXX/YYYYY'; // Your Android interstitial ad unit\n\nexport function useAds() {\n  const [rewardedAdLoaded, setRewardedAdLoaded] = useState(false);\n  const [interstitialAdLoaded, setInterstitialAdLoaded] = useState(false);\n  \n  const rewardedAd = RewardedAd.createForAdRequest(REWARDED_AD_UNIT_ID);\n  const interstitialAd = InterstitialAd.createForAdRequest(INTERSTITIAL_AD_UNIT_ID);\n\n  useEffect(() => {\n    // Load rewarded ad\n    const unsubscribeRewardedLoaded = rewardedAd.addAdEventListener(\n      RewardedAdEventType.LOADED,\n      () => setRewardedAdLoaded(true)\n    );\n\n    const unsubscribeRewardedEarned = rewardedAd.addAdEventListener(\n      RewardedAdEventType.EARNED_REWARD,\n      (reward) => {\n        console.log('User earned reward:', reward);\n      }\n    );\n\n    // Load interstitial ad\n    const unsubscribeInterstitialLoaded = interstitialAd.addAdEventListener(\n      AdEventType.LOADED,\n      () => setInterstitialAdLoaded(true)\n    );\n\n    // Start loading ads\n    rewardedAd.load();\n    interstitialAd.load();\n\n    return () => {\n      unsubscribeRewardedLoaded();\n      unsubscribeRewardedEarned();\n      unsubscribeInterstitialLoaded();\n    };\n  }, []);\n\n  const showRewardedAd = async (onRewarded: () => void) => {\n    if (rewardedAdLoaded) {\n      rewardedAd.show();\n      \n      const unsubscribe = rewardedAd.addAdEventListener(\n        RewardedAdEventType.EARNED_REWARD,\n        () => {\n          onRewarded();\n          unsubscribe();\n          // Load next ad\n          rewardedAd.load();\n        }\n      );\n    } else {\n      console.log('Rewarded ad not loaded yet');\n    }\n  };\n\n  const showInterstitialAd = async () => {\n    if (interstitialAdLoaded) {\n      interstitialAd.show();\n      // Load next ad after showing\n      interstitialAd.addAdEventListener(AdEventType.CLOSED, () => {\n        interstitialAd.load();\n      });\n    } else {\n      console.log('Interstitial ad not loaded yet');\n    }\n  };\n\n  return {\n    showRewardedAd,\n    showInterstitialAd,\n    rewardedAdLoaded,\n    interstitialAdLoaded,\n  };\n}\n```\n\n---\n\n### Step 5: Integrate Into Game (30 minutes)\n\n**A. Add Rewarded Ad for Revival**\n\nUpdate your `GameOver.tsx` component:\n\n```tsx\nimport { useAds } from '../hooks/useAds';\n\nexport function GameOver({ onRevive, hasUsedRevive, ...otherProps }) {\n  const { showRewardedAd, rewardedAdLoaded } = useAds();\n  \n  const handleWatchAdToRevive = () => {\n    showRewardedAd(() => {\n      // Ad watched successfully - revive the player\n      onRevive();\n    });\n  };\n\n  return (\n    <div className=\"game-over-modal\">\n      {/* ... existing code ... */}\n      \n      {!hasUsedRevive && rewardedAdLoaded && (\n        <button \n          className=\"watch-ad-button\"\n          onClick={handleWatchAdToRevive}\n        >\n          <PlayCircle size={20} />\n          Watch Ad to Revive\n        </button>\n      )}\n      \n      {/* ... rest of component ... */}\n    </div>\n  );\n}\n```\n\n**B. Add Interstitial Ad Between Games**\n\nUpdate your `App.tsx`:\n\n```tsx\nconst { showInterstitialAd } = useAds();\nconst [gamesPlayed, setGamesPlayed] = useState(0);\n\nconst handleRestartWithAd = () => {\n  const newGamesCount = gamesPlayed + 1;\n  setGamesPlayed(newGamesCount);\n  \n  // Show interstitial ad every 3 games\n  if (newGamesCount % 3 === 0) {\n    showInterstitialAd();\n  }\n  \n  restartGame();\n};\n```\n\n**C. Add Banner Ad (Optional)**\n\nAdd to bottom of your game screen:\n\n```tsx\nimport { BannerAd, BannerAdSize, TestIds } from 'react-native-google-mobile-ads';\n\n// In your render\n<BannerAd\n  unitId={__DEV__ ? TestIds.BANNER : 'ca-app-pub-XXXXX/YYYYY'}\n  size={BannerAdSize.BANNER}\n  requestOptions={{\n    requestNonPersonalizedAdsOnly: true,\n  }}\n/>\n```\n\n---\n\n### Step 6: Update Privacy Policy (15 minutes)\n\n**IMPORTANT:** AdMob collects user data. You MUST update your privacy policy.\n\nAdd to `PRIVACY_POLICY.md`:\n\n```markdown\n## Advertising\n\nWe use Google AdMob to display advertisements in TileDrop. AdMob may collect \nand use the following data:\n\n- Device information (model, OS version)\n- IP address\n- Ad interaction data\n- App usage data\n\nFor more information about how Google uses data, visit:\nhttps://policies.google.com/technologies/partner-sites\n\nYou can opt-out of personalized advertising by visiting:\nhttps://adssettings.google.com\n```\n\n---\n\n### Step 7: Configure App Store Listings (10 minutes)\n\n**Apple App Store:**\n- In App Store Connect, check \"Uses Advertising Identifier\"\n- Select \"Serve advertisements within the app\"\n\n**Google Play Store:**\n- In the Data Safety section, declare that you collect advertising data\n- Indicate data is shared with AdMob\n\n---\n\n### Step 8: Test Ads (30 minutes)\n\n**Important Testing Steps:**\n\n1. **Use Test Ads in Development:**\n   - Test ads are automatically used when `__DEV__` is true\n   - Never use real ad unit IDs during testing (can get banned)\n\n2. **Test Each Ad Type:**\n   - Rewarded ad: Trigger game over, click \"Watch Ad to Revive\"\n   - Interstitial ad: Play 3 games in a row\n   - Banner ad: Should appear at bottom of screen\n\n3. **Test on Real Devices:**\n   - Android: Install APK, test all ad types\n   - iOS: Install via TestFlight, test all ad types\n\n4. **Switch to Production Ads:**\n   - Update ad unit IDs in `useAds.tsx`\n   - Build production versions\n   - Test once more to ensure ads show\n\n---\n\n## üí∞ Expected Revenue\n\nBased on typical mobile game metrics:\n\n**With 1,000 Daily Active Users:**\n- Rewarded Ads (50% watch rate): $25-75/day\n- Interstitial Ads (every 3 games): $15-50/day\n- Banner Ads (constant display): $5-20/day\n\n**Total: $45-145/day = $1,350-$4,350/month**\n\n**With 10,000 Daily Active Users:**\n- **$13,500-$43,500/month** üöÄ\n\n---\n\n## üé® Design Recommendations\n\n### Rewarded Ad Button Styling\n```css\n.watch-ad-button {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  padding: 16px 24px;\n  border-radius: 12px;\n  font-weight: 600;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  border: none;\n  cursor: pointer;\n  transition: transform 0.2s;\n}\n\n.watch-ad-button:hover {\n  transform: scale(1.05);\n}\n\n.watch-ad-button:active {\n  transform: scale(0.95);\n}\n```\n\n---\n\n## ‚ö†Ô∏è Important Guidelines\n\n### DO:\n‚úÖ Use test ads during development  \n‚úÖ Show rewarded ads as optional (player choice)  \n‚úÖ Limit interstitial ad frequency (max every 3 games)  \n‚úÖ Update privacy policy  \n‚úÖ Declare ad usage in app store listings  \n\n### DON'T:\n‚ùå Click your own ads (can get banned)  \n‚ùå Use real ad IDs during testing  \n‚ùå Show interstitial ads too frequently (annoys users)  \n‚ùå Force ads without player benefit  \n‚ùå Hide that ads collect data  \n\n---\n\n## üêõ Troubleshooting\n\n**Ads not showing:**\n- Check internet connection\n- Verify ad unit IDs are correct\n- Ensure AdMob account is approved (can take 24 hours)\n- Check console for error messages\n\n**\"AdMob account under review\":**\n- Normal for new accounts\n- Can take 24-48 hours\n- Test ads still work during review\n\n**Low fill rate (ads not always available):**\n- Normal when starting out\n- Improves as app gets more users\n- AdMob needs data to optimize\n\n---\n\n## üìã Quick Checklist\n\n- [ ] Create AdMob account\n- [ ] Create iOS and Android apps in AdMob\n- [ ] Create ad units (Rewarded, Interstitial, Banner)\n- [ ] Install `react-native-google-mobile-ads` package\n- [ ] Configure `app.json` with AdMob app IDs\n- [ ] Create `useAds.tsx` hook\n- [ ] Replace test ad unit IDs with real ones\n- [ ] Integrate rewarded ad into GameOver screen\n- [ ] Add interstitial ad between games (every 3 games)\n- [ ] (Optional) Add banner ad to game screen\n- [ ] Update Privacy Policy with AdMob disclosure\n- [ ] Update App Store data collection declarations\n- [ ] Test all ad types on real devices\n- [ ] Switch to production ad unit IDs\n- [ ] Submit updated app to stores\n\n---\n\n## üéØ Next Steps After This Guide\n\n1. **Complete Steps 1-3** (30 min) - Set up AdMob account and install package\n2. **Complete Steps 4-5** (50 min) - Create hook and integrate into game\n3. **Complete Steps 6-7** (25 min) - Update legal docs and app listings\n4. **Complete Step 8** (30 min) - Test thoroughly\n\n**Total Time: ~2.5 hours** to add full ad monetization! üí∞\n\n---\n\nGood luck monetizing TileDrop! Ads are the easiest way to generate revenue from free games. üöÄ\n","size_bytes":11469},"APP_STORE_DESCRIPTIONS.md":{"content":"# TileDrop - App Store Descriptions\n\n## App Name\n**TileDrop**\n\n## Subtitle (Apple - 30 chars)\nColor Matching Puzzle Challenge\n\n## Short Description (Google Play - 80 chars max)\nMatch numbered tiles, trigger explosive combos, master the ultimate puzzle game!\n\n---\n\n## Full Description (4000 chars max)\n\n### Main Description\n\nüéÆ **TileDrop - The Ultimate Color Matching Puzzle Game**\n\nDrop, match, and explode your way to the top! TileDrop is an addictive color-matching puzzle game that combines strategy, skill, and satisfying visual effects in one polished mobile experience.\n\n**üåü WHAT MAKES TILEDROP SPECIAL**\n\n‚Ä¢ **Premium Visual Design** - Gorgeous gradients, glossy tile effects, and smooth animations make every match satisfying\n‚Ä¢ **Match-Length Combos** - Different explosion effects for 3-match spins, 4-match golden power blasts, and massive 5+ match uber explosions\n‚Ä¢ **Progressive Difficulty** - The challenge increases as you play, keeping you engaged for hours\n‚Ä¢ **Strategic Power-Ups** - Undo mistakes, clear rows, or remove specific tiles with three powerful abilities\n‚Ä¢ **Accessibility First** - Color-blind mode, high contrast, reduced motion, and full screen reader support\n\n**üéØ HOW TO PLAY**\n\n1. Tap a column to drop your numbered tile\n2. Match 3 or more tiles of the same number in a row or column\n3. Matches clear and award points based on combo length\n4. Use power-ups strategically to extend your game\n5. Beat your high score and challenge yourself!\n\n**üíé KEY FEATURES**\n\n‚ú® **Premium Polish** - Every detail crafted for a premium mobile experience\nüé® **Stunning Visuals** - Rich color gradients and satisfying particle effects\nüèÜ **High Score Tracking** - Compete against your personal best\nüéµ **Immersive Audio** - Professional sound effects and background music\n‚ôø **Accessibility Options** - Inclusive design for all players\nüìà **Progressive Difficulty** - Continuously evolving challenge\nüéÅ **Power-Up System** - Undo, Row Clear, and Number Clear abilities\nüåà **Color-Blind Friendly** - Unique symbols for each tile number\n‚ö° **Combo Multipliers** - Bigger matches = bigger rewards\nüéØ **Daily Challenges** - New goals every day (coming soon)\n\n**üé® VISUAL EXCELLENCE**\n\n‚Ä¢ Glossy, gradient tiles with premium depth effects\n‚Ä¢ Match-specific animations (spin, golden explosion, uber blast)\n‚Ä¢ Smooth 60fps gameplay optimized for mobile\n‚Ä¢ Professional UI with polished buttons and menus\n‚Ä¢ Eye-catching particle effects\n\n**‚ôø ACCESSIBILITY FEATURES**\n\nWe believe gaming should be for everyone:\n‚Ä¢ **Color-Blind Mode** - Unique symbols on each tile\n‚Ä¢ **High Contrast** - Black and white color scheme\n‚Ä¢ **Reduced Motion** - Disable animations\n‚Ä¢ **Screen Reader Support** - Full ARIA labels\n‚Ä¢ **Large Touch Targets** - Easy to tap controls\n\n**üéÆ PERFECT FOR**\n\n‚Ä¢ Puzzle game enthusiasts\n‚Ä¢ Casual gamers looking for quick sessions\n‚Ä¢ Strategy lovers who enjoy planning moves\n‚Ä¢ Anyone who loves satisfying match-3 mechanics\n‚Ä¢ Players seeking accessible, inclusive games\n\n**üì± OPTIMIZED FOR MOBILE**\n\n‚Ä¢ Designed specifically for iPhone and Android\n‚Ä¢ Portrait mode perfect for one-handed play\n‚Ä¢ Responsive design adapts to all screen sizes\n‚Ä¢ Smooth performance on all devices\n‚Ä¢ Small download size\n\n**üèÖ WHY PLAYERS LOVE TILEDROP**\n\n\"The animations when you get a big match are so satisfying!\" - Beta Tester\n\n\"Finally, a puzzle game with proper accessibility features!\" - Beta Tester\n\n\"Simple to learn, impossible to master. Perfect!\" - Beta Tester\n\n**üéØ GAME MODES**\n\n‚Ä¢ **Classic Mode** - Endless gameplay, beat your high score\n‚Ä¢ **Daily Challenges** - New puzzles every day (coming soon)\n‚Ä¢ **Timed Mode** - Race against the clock (coming soon)\n\n**üÜì FREE TO PLAY**\n\nTileDrop is completely free with no ads or mandatory purchases. Optional power-ups are available but not required to enjoy the full game.\n\n**üìû SUPPORT & FEEDBACK**\n\nWe love hearing from our players! Contact us with suggestions, bug reports, or just to say hi:\n‚Ä¢ Email: [YOUR_EMAIL]\n‚Ä¢ Website: [YOUR_WEBSITE]\n\n**üéä FROM TP GAMES**\n\nTileDrop is crafted with love by TP GAMES, dedicated to creating premium mobile gaming experiences that are accessible, beautiful, and endlessly fun.\n\n**Download TileDrop today and experience the most polished color-matching puzzle game on mobile!** üöÄ\n\n---\n\n## Keywords (Apple App Store - 100 chars max)\npuzzle,match,tile,color,strategy,brain,casual,game,challenging,addictive,premium,accessible,combo\n\n## Keywords (Google Play - Comma separated)\npuzzle game, match 3, color matching, tile drop, strategy puzzle, brain teaser, casual game, addictive game, premium mobile game, accessible game, combo multiplier, power ups, high score challenge, progressive difficulty, satisfying gameplay\n\n---\n\n## App Preview Text (Optional - 170 chars)\nDrop tiles, match colors, and trigger explosive combos in this beautifully crafted puzzle game. Premium visuals, strategic depth, and accessibility for all players.\n\n---\n\n## Promotional Text (Apple - 170 chars, can be updated anytime)\nüéâ NEW: Premium visual upgrade! Glossy tiles, stunning gradients, and explosive combo animations. Experience the most polished version of TileDrop yet!\n\n---\n\n## What's New (Update Notes Template)\n**Version 1.0**\n‚Ä¢ Initial release\n‚Ä¢ Premium tile design with glossy effects\n‚Ä¢ Match-length specific animations\n‚Ä¢ Three strategic power-ups\n‚Ä¢ Comprehensive accessibility features\n‚Ä¢ Progressive difficulty system\n‚Ä¢ High score tracking\n‚Ä¢ Professional audio and music\n\n---\n\n## Category Suggestions\n\n**Primary Category:**\n- Apple: Games > Puzzle\n- Google: Puzzle\n\n**Secondary Category:**\n- Apple: Games > Strategy\n- Google: Casual\n\n---\n\n## Age Rating\n\n**Content Rating:** 4+ (Everyone)\n- No objectionable content\n- No violence or mature themes\n- Suitable for all ages\n- No in-app purchases required\n\n---\n\n## Support Information\n\n**Support URL:** [YOUR_WEBSITE_HERE]\n**Marketing URL:** [YOUR_WEBSITE_HERE]\n**Privacy Policy URL:** [Required - upload privacy policy to your website]\n","size_bytes":6079},"PRIVACY_POLICY.md":{"content":"# Privacy Policy for TileDrop\n\n**Last Updated: October 2, 2025**\n\n## Introduction\n\nTP GAMES (\"we,\" \"our,\" or \"us\") operates the TileDrop mobile game application. This Privacy Policy explains how we collect, use, and protect your information when you use our game.\n\n## Information We Collect\n\n### Automatically Collected Information\n- **Game Progress Data**: Your scores, level progress, power-ups, and achievements are stored locally on your device\n- **Settings Preferences**: Audio settings, accessibility preferences (color-blind mode, high contrast, reduced motion)\n- **Anonymous Usage Data**: Game sessions, feature usage, and app crashes (if analytics is enabled)\n\n### Information We DO NOT Collect\n- We do not collect personal information (name, email, phone number)\n- We do not track your location\n- We do not access your contacts, photos, or other personal data\n- We do not share data with third parties\n\n## How We Use Your Information\n\nWe use the collected information to:\n- Save your game progress locally on your device\n- Remember your settings and preferences\n- Improve game performance and fix bugs\n- Enhance your gaming experience\n\n## Data Storage\n\n- All game data is stored **locally on your device** using browser localStorage\n- No data is transmitted to external servers\n- Your data remains on your device and is not accessible to us or third parties\n\n## Children's Privacy\n\nTileDrop is suitable for all ages. We do not knowingly collect personal information from children. Since all data is stored locally, no personal information is transmitted or stored on our servers.\n\n## Third-Party Services\n\nWe do not currently use third-party analytics or advertising services. If we add such services in the future, we will update this policy and notify users.\n\n## Data Deletion\n\nYou can delete all your game data at any time by:\n1. Opening Settings in the game\n2. Using the \"Reset All Data\" option\n3. Or uninstalling the app from your device\n\n## Changes to This Policy\n\nWe may update this Privacy Policy from time to time. We will notify you of any changes by posting the new policy in the app and updating the \"Last Updated\" date.\n\n## Contact Us\n\nIf you have questions about this Privacy Policy, please contact us at:\n- Email: [YOUR_EMAIL_HERE]\n- Website: [YOUR_WEBSITE_HERE]\n\n## Your Rights\n\nDepending on your location, you may have rights under GDPR, CCPA, or other privacy laws. Since we do not collect or store personal data on servers, most data rights are automatically satisfied through local storage.\n\n## Consent\n\nBy using TileDrop, you consent to this Privacy Policy and agree to its terms.\n","size_bytes":2612},"TERMS_OF_SERVICE.md":{"content":"# Terms of Service for TileDrop\n\n**Last Updated: October 2, 2025**\n\n## 1. Acceptance of Terms\n\nBy downloading, installing, or using TileDrop (\"the Game\"), you agree to be bound by these Terms of Service (\"Terms\"). If you do not agree to these Terms, do not use the Game.\n\n## 2. License to Use\n\nTP GAMES grants you a limited, non-exclusive, non-transferable, revocable license to use TileDrop for personal, non-commercial entertainment purposes.\n\n## 3. Game Rules\n\n### Fair Play\n- The Game is intended for legitimate gameplay only\n- Cheating, hacking, or exploiting bugs is prohibited\n- We reserve the right to reset progress if unfair advantages are detected\n\n### User Conduct\n- Use the Game responsibly and respectfully\n- Do not attempt to reverse engineer, decompile, or modify the Game\n- Do not use the Game for any illegal purposes\n\n## 4. In-App Purchases (If Applicable)\n\n- Virtual currency (coins) and power-ups may be available for purchase\n- All purchases are final and non-refundable except as required by law\n- Virtual items have no real-world value and cannot be exchanged for cash\n\n## 5. Intellectual Property\n\n### Our Rights\n- TileDrop, including all graphics, code, design, and content, is owned by TP GAMES\n- \"TileDrop\" and \"TP GAMES\" are trademarks of TP GAMES\n- All rights not expressly granted are reserved\n\n### Your Rights\n- You retain ownership of any user-generated content\n- We do not claim ownership of your gameplay data or achievements\n\n## 6. Disclaimers\n\n### Game Availability\n- The Game is provided \"as is\" without warranties of any kind\n- We do not guarantee the Game will be error-free or uninterrupted\n- We reserve the right to modify, suspend, or discontinue the Game at any time\n\n### No Liability\n- We are not liable for any damages arising from your use of the Game\n- We are not responsible for loss of data, progress, or virtual items\n- Your use of the Game is at your own risk\n\n## 7. Updates and Modifications\n\n- We may update the Game with new features, bug fixes, or improvements\n- We may modify these Terms at any time\n- Continued use of the Game after changes constitutes acceptance of new Terms\n\n## 8. Termination\n\nWe may terminate or suspend your access to the Game:\n- For violation of these Terms\n- For abusive, fraudulent, or illegal behavior\n- At our discretion without prior notice\n\n## 9. Data and Privacy\n\n- Your use of the Game is also governed by our Privacy Policy\n- Game data is stored locally on your device\n- We do not sell or share your personal information\n\n## 10. Dispute Resolution\n\n### Governing Law\n- These Terms are governed by the laws of [YOUR_JURISDICTION]\n- Any disputes shall be resolved in the courts of [YOUR_JURISDICTION]\n\n### Informal Resolution\n- We encourage you to contact us first to resolve any issues\n- Email: [YOUR_EMAIL_HERE]\n\n## 11. Severability\n\nIf any provision of these Terms is found to be unenforceable, the remaining provisions will remain in full effect.\n\n## 12. Entire Agreement\n\nThese Terms, together with our Privacy Policy, constitute the entire agreement between you and TP GAMES regarding the Game.\n\n## 13. Contact Information\n\nFor questions about these Terms, contact us at:\n- Email: [YOUR_EMAIL_HERE]\n- Website: [YOUR_WEBSITE_HERE]\n\n## 14. Acknowledgment\n\nBy using TileDrop, you acknowledge that you have read, understood, and agree to be bound by these Terms of Service.\n\n---\n\n**TP GAMES**  \nTileDrop - Color Matching Puzzle Game  \n¬© 2025 TP GAMES. All rights reserved.\n","size_bytes":3464},"USER_CHECKLIST.md":{"content":"# TileDrop - App Store Submission Checklist\n\n## ‚úÖ What's Already Done\n\nThe following are complete and ready to use:\n\n- ‚úÖ **Privacy Policy** - See `PRIVACY_POLICY.md`\n- ‚úÖ **Terms of Service** - See `TERMS_OF_SERVICE.md`\n- ‚úÖ **App Store Descriptions** - See `APP_STORE_DESCRIPTIONS.md`\n- ‚úÖ **Analytics Tracking** - Built-in event tracking system\n- ‚úÖ **Error Logging** - Crash reporting with error boundary\n- ‚úÖ **Rate Prompts** - Automatic rating requests after achievements\n- ‚úÖ **Premium UI** - Polished tiles, power-ups, and animations\n- ‚úÖ **Accessibility Features** - Color-blind mode, high contrast, reduced motion\n- ‚úÖ **Game Mechanics** - Progressive difficulty, power-ups, combos\n\n---\n\n## üìã What You Need To Do\n\n### 1. **Update Legal Documents** (15 minutes)\n\n**Files to Edit:**\n- `PRIVACY_POLICY.md`\n- `TERMS_OF_SERVICE.md`\n\n**Replace These Placeholders:**\n- `[YOUR_EMAIL_HERE]` ‚Üí Your support email\n- `[YOUR_WEBSITE_HERE]` ‚Üí Your website URL\n- `[YOUR_JURISDICTION]` ‚Üí Your country/state (e.g., \"California, USA\")\n\n**Upload Privacy Policy:**\n- Host `PRIVACY_POLICY.md` on your website\n- Get the public URL (required for app stores)\n\n---\n\n### 2. **Update App Store Descriptions** (10 minutes)\n\n**File to Edit:**\n- `APP_STORE_DESCRIPTIONS.md`\n\n**Replace These Placeholders:**\n- `[YOUR_EMAIL]` ‚Üí Your support email\n- `[YOUR_WEBSITE]` ‚Üí Your website\n- `[YOUR_APP_ID]` ‚Üí Apple App ID (get this after creating app in App Store Connect)\n\n**Optional Customizations:**\n- Adjust keywords based on your target audience\n- Translate descriptions for other languages\n- Update \"What's New\" section for future updates\n\n---\n\n### 3. **Update Rate Prompt URLs** (5 minutes)\n\n**File to Edit:**\n- `client/src/components/RatePrompt.tsx`\n\n**Lines to Update:**\n```typescript\n// Line 21 - Apple App Store URL\nwindow.open('https://apps.apple.com/app/tiledrop/id[YOUR_APP_ID]?action=write-review', '_blank');\n\n// Line 23 - Google Play Store URL  \nwindow.open('https://play.google.com/store/apps/details?id=com.tpgames.tiledrop&reviewId=0', '_blank');\n```\n\n**Replace:**\n- `[YOUR_APP_ID]` ‚Üí Your Apple App ID\n- `com.tpgames.tiledrop` ‚Üí Your Android package name\n\n---\n\n### 4. **Create App Icon** (1-2 hours)\n\n**Requirements:**\n\n**For Apple App Store:**\n- Size: 1024x1024px\n- Format: PNG\n- DPI: 72\n- Color: RGB (no transparency)\n- Content: No text, badges, or rounded corners\n\n**For Google Play:**\n- Size: 512x512px\n- Format: PNG, 32-bit with alpha\n- Max size: 1 MB\n\n**Design Tips:**\n- Use \"TileDrop\" branding\n- Make it recognizable at small sizes (29x29px)\n- Use vibrant colors from your gradient theme\n- Consider a simple tile or drop icon\n- Test at different sizes\n\n**Tools:**\n- Canva (free templates)\n- Figma (professional design)\n- Adobe Illustrator\n- Or hire on Fiverr ($5-50)\n\n---\n\n### 5. **Take Screenshots** (30 minutes)\n\n**Required Sizes:**\n\n**iPhone (iOS):**\n- 6.7\" (1290x2796) - iPhone 15 Pro Max\n- 6.5\" (1284x2778) - iPhone 14 Plus\n- 5.5\" (1242x2208) - Older iPhones\n\n**iPad (iOS):**\n- 12.9\" (2048x2732) - iPad Pro\n- Optional but recommended\n\n**Android:**\n- Phone: 1080x1920 minimum\n- 7\" Tablet: 1024x600 minimum\n- 10\" Tablet: 1280x800 minimum\n\n**What to Capture:**\n- Main gameplay screen showing tiles\n- High score achievement\n- Power-ups in action\n- Settings/accessibility features\n- Combo animations (4 or 5 match)\n\n**Tips:**\n- Use browser dev tools to simulate devices\n- Capture exciting moments (big scores, combos)\n- Keep UI elements visible\n- Show the game's best features\n- No personal info in screenshots\n\n---\n\n### 6. **Register Developer Accounts** (30 minutes)\n\n**Apple Developer Account:**\n- Cost: $99/year\n- Website: https://developer.apple.com\n- Requirements: Apple ID with 2FA enabled\n- Processing: Instant to 48 hours\n- EU traders: D-U-N-S number required\n\n**Google Play Developer:**\n- Cost: $25 one-time\n- Website: https://play.google.com/console\n- Requirements: Google account\n- Processing: Instant to 24 hours\n- Organization: May need verification\n\n---\n\n### 7. **Set Up Expo/React Native** (2-4 hours)\n\n**Option A: Use Replit's Expo Template**\n- Remix the Expo template on Replit\n- Copy your game code into the template\n- Configure `app.json` with your app details\n\n**Option B: Manual Setup**\n```bash\nnpx create-expo-app tiledrop-mobile\ncd tiledrop-mobile\n# Copy your client/src files\n# Configure app.json\n```\n\n**Configure app.json:**\n```json\n{\n  \"expo\": {\n    \"name\": \"TileDrop\",\n    \"slug\": \"tiledrop\",\n    \"version\": \"1.0.0\",\n    \"platforms\": [\"ios\", \"android\"],\n    \"ios\": {\n      \"bundleIdentifier\": \"com.tpgames.tiledrop\",\n      \"buildNumber\": \"1\"\n    },\n    \"android\": {\n      \"package\": \"com.tpgames.tiledrop\",\n      \"versionCode\": 1\n    }\n  }\n}\n```\n\n---\n\n### 8. **Build Mobile Apps** (1-2 hours)\n\n**Install EAS CLI:**\n```bash\nnpm install -g eas-cli\neas login\n```\n\n**Configure Build:**\n```bash\neas build:configure\n```\n\n**Build for iOS:**\n```bash\neas build --platform ios\n```\n\n**Build for Android:**\n```bash\neas build --platform android\n```\n\n**Note:** First build can take 20-30 minutes\n\n---\n\n### 9. **Test on Physical Devices** (1-2 hours)\n\n**iOS Testing:**\n- Install TestFlight app\n- Submit build to TestFlight\n- Share with yourself/testers\n- Test all features thoroughly\n\n**Android Testing:**\n- Download APK from EAS\n- Install on Android device\n- Test all features thoroughly\n\n**Test Checklist:**\n- ‚úÖ Game loads correctly\n- ‚úÖ Touch controls work\n- ‚úÖ Power-ups function\n- ‚úÖ Sound toggles\n- ‚úÖ Settings save\n- ‚úÖ Rate prompt appears\n- ‚úÖ Share functionality\n- ‚úÖ Accessibility features\n- ‚úÖ No crashes or freezes\n\n---\n\n### 10. **Submit to App Stores** (1-2 hours)\n\n**Apple App Store:**\n1. Go to https://appstoreconnect.apple.com\n2. Create new app\n3. Fill in app information\n4. Upload icon and screenshots\n5. Add description and keywords\n6. Set pricing (free)\n7. Upload build from EAS\n8. Submit for review\n\n**Google Play Store:**\n1. Go to https://play.google.com/console\n2. Create new app\n3. Fill in store listing\n4. Upload graphics\n5. Complete content rating questionnaire\n6. Upload APK/AAB from EAS\n7. Submit for review\n\n**Review Times:**\n- Apple: 24-48 hours\n- Google: Few hours to 2 days\n\n---\n\n## üéØ Quick Start Guide (In Order)\n\n1. **Day 1 - Prep Work (2-3 hours)**\n   - Update legal documents\n   - Update app descriptions\n   - Create app icon design\n\n2. **Day 2 - Assets (2-3 hours)**\n   - Finalize app icon\n   - Take all screenshots\n   - Register developer accounts\n\n3. **Day 3 - Development (3-4 hours)**\n   - Set up Expo project\n   - Build iOS app\n   - Build Android app\n   - (Optional) Add ads for monetization - See `ADS_INTEGRATION_GUIDE.md` (+2.5 hours)\n\n4. **Day 4 - Testing (2-3 hours)**\n   - Test on iPhone\n   - Test on Android\n   - Fix any issues\n\n5. **Day 5 - Launch (2-3 hours)**\n   - Submit to Apple\n   - Submit to Google\n   - Wait for approval\n\n**Total Time Estimate: 11-16 hours spread over 5 days**\n\n---\n\n## üìû Support Resources\n\n**If You Need Help:**\n\n**Expo Documentation:**\n- https://docs.expo.dev\n\n**App Store Connect:**\n- https://developer.apple.com/help/app-store-connect/\n\n**Google Play Console:**\n- https://support.google.com/googleplay/android-developer\n\n**Community Support:**\n- Expo Discord: https://chat.expo.dev\n- Stack Overflow: Tag with `expo`, `react-native`\n\n---\n\n## üí° Pro Tips\n\n1. **Start with Android** - Approval is faster, gives you practice\n2. **Use EAS Build** - No need for Mac to build iOS apps\n3. **Test thoroughly** - One rejection adds 1-7 days\n4. **Prepare screenshots early** - Most time-consuming part\n5. **Read rejection reasons** - Apple/Google provide specific feedback\n6. **Update regularly** - Monthly updates keep users engaged\n7. **Monitor analytics** - Built-in tracking helps improve game\n\n---\n\n## üöÄ After Launch\n\n**Day 1:**\n- Share on social media\n- Ask friends/family to download\n- Respond to first reviews\n\n**Week 1:**\n- Monitor crash reports (error logs)\n- Check analytics data\n- Plan first update based on feedback\n\n**Month 1:**\n- Release update with improvements\n- Add new features\n- Optimize based on user data\n\n---\n\n## ‚ú® Optional Enhancements\n\n**Before Launch:**\n- Add more tile colors/themes\n- Create daily challenges system\n- Add leaderboards (global)\n- **Add monetization with ads** - See `ADS_INTEGRATION_GUIDE.md` for complete setup (~2.5 hours)\n\n**After Launch:**\n- Add more power-ups\n- Create seasonal events\n- Add achievements/badges\n- Implement multiplayer mode\n\n---\n\n## üìä Current App Features\n\nYour app already includes:\n\n‚úÖ Core puzzle mechanics  \n‚úÖ Progressive difficulty  \n‚úÖ Power-up system (Undo, Row Clear, Number Clear)  \n‚úÖ Combo multipliers  \n‚úÖ Coin economy  \n‚úÖ Shop system  \n‚úÖ High score tracking  \n‚úÖ Professional UI/UX  \n‚úÖ Accessibility features  \n‚úÖ Sound effects & music  \n‚úÖ Analytics tracking  \n‚úÖ Error logging  \n‚úÖ Rate prompts  \n‚úÖ Share functionality  \n‚úÖ Settings menu  \n‚úÖ How to play tutorial  \n‚úÖ Welcome screen  \n‚úÖ TP GAMES branding  \n\n**You're 90% ready for launch!** üéâ\n\n---\n\n## üé¨ Final Checklist Before Submission\n\n- [ ] Privacy Policy uploaded to website\n- [ ] All placeholder text replaced\n- [ ] App icon created (1024x1024)\n- [ ] Screenshots taken (all required sizes)\n- [ ] Developer accounts registered\n- [ ] Expo project set up\n- [ ] iOS build successful\n- [ ] Android build successful\n- [ ] Tested on iPhone\n- [ ] Tested on Android\n- [ ] No crashes or major bugs\n- [ ] App Store Connect listing complete\n- [ ] Google Play Console listing complete\n- [ ] Submitted for review\n\n**Once all checked, you're ready to launch! üöÄ**\n\n---\n\nGood luck with your launch! Your game is polished and ready. The hard technical work is done - now it's just paperwork and assets! üí™\n","size_bytes":9692},"client/src/components/ErrorBoundary.tsx":{"content":"import React, { Component, ErrorInfo, ReactNode } from 'react';\nimport { RefreshCw } from 'lucide-react';\n\ninterface Props {\n  children: ReactNode;\n}\n\ninterface State {\n  hasError: boolean;\n  error: Error | null;\n  errorInfo: ErrorInfo | null;\n}\n\nexport class ErrorBoundary extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      hasError: false,\n      error: null,\n      errorInfo: null\n    };\n  }\n\n  static getDerivedStateFromError(error: Error): State {\n    return {\n      hasError: true,\n      error,\n      errorInfo: null\n    };\n  }\n\n  componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n    this.setState({\n      error,\n      errorInfo\n    });\n\n    this.logError(error, errorInfo);\n  }\n\n  logError(error: Error, errorInfo: ErrorInfo) {\n    try {\n      const errorLog = {\n        timestamp: new Date().toISOString(),\n        message: error.message,\n        stack: error.stack,\n        componentStack: errorInfo.componentStack,\n        userAgent: navigator.userAgent\n      };\n\n      console.error('[Error Boundary]', errorLog);\n\n      if (typeof window !== 'undefined' && window.localStorage) {\n        const errors = localStorage.getItem('error_logs');\n        const errorList = errors ? JSON.parse(errors) : [];\n        \n        errorList.push(errorLog);\n        \n        if (errorList.length > 50) {\n          errorList.shift();\n        }\n        \n        localStorage.setItem('error_logs', JSON.stringify(errorList));\n      }\n    } catch (logError) {\n      console.error('Failed to log error:', logError);\n    }\n  }\n\n  handleReset = () => {\n    this.setState({\n      hasError: false,\n      error: null,\n      errorInfo: null\n    });\n  };\n\n  render() {\n    if (this.state.hasError) {\n      return (\n        <div style={{\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          justifyContent: 'center',\n          minHeight: '100vh',\n          background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n          color: 'white',\n          padding: '20px',\n          textAlign: 'center'\n        }}>\n          <div style={{\n            background: 'rgba(255, 255, 255, 0.1)',\n            backdropFilter: 'blur(10px)',\n            borderRadius: '20px',\n            padding: '40px',\n            maxWidth: '500px',\n            boxShadow: '0 20px 60px rgba(0, 0, 0, 0.3)'\n          }}>\n            <h1 style={{ fontSize: '48px', marginBottom: '20px' }}>üòî</h1>\n            <h2 style={{ fontSize: '24px', marginBottom: '16px', fontWeight: '700' }}>\n              Oops! Something went wrong\n            </h2>\n            <p style={{ fontSize: '16px', marginBottom: '30px', opacity: 0.9 }}>\n              TileDrop encountered an unexpected error. Don't worry, your game progress is saved!\n            </p>\n            \n            {this.state.error && (\n              <details style={{\n                textAlign: 'left',\n                background: 'rgba(0, 0, 0, 0.2)',\n                padding: '16px',\n                borderRadius: '12px',\n                marginBottom: '20px',\n                fontSize: '12px',\n                fontFamily: 'monospace'\n              }}>\n                <summary style={{ cursor: 'pointer', marginBottom: '10px', fontWeight: '600' }}>\n                  Error Details\n                </summary>\n                <p style={{ margin: '5px 0' }}>{this.state.error.message}</p>\n                {this.state.error.stack && (\n                  <pre style={{ \n                    fontSize: '10px', \n                    overflow: 'auto', \n                    maxHeight: '200px',\n                    whiteSpace: 'pre-wrap',\n                    wordBreak: 'break-word'\n                  }}>\n                    {this.state.error.stack}\n                  </pre>\n                )}\n              </details>\n            )}\n\n            <button\n              onClick={this.handleReset}\n              style={{\n                background: 'white',\n                color: '#667eea',\n                border: 'none',\n                borderRadius: '14px',\n                padding: '14px 32px',\n                fontSize: '16px',\n                fontWeight: '700',\n                cursor: 'pointer',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '10px',\n                margin: '0 auto',\n                transition: 'all 0.3s ease',\n                boxShadow: '0 4px 14px rgba(0, 0, 0, 0.2)'\n              }}\n              onMouseOver={(e) => {\n                e.currentTarget.style.transform = 'translateY(-2px)';\n                e.currentTarget.style.boxShadow = '0 6px 20px rgba(0, 0, 0, 0.3)';\n              }}\n              onMouseOut={(e) => {\n                e.currentTarget.style.transform = 'translateY(0)';\n                e.currentTarget.style.boxShadow = '0 4px 14px rgba(0, 0, 0, 0.2)';\n              }}\n            >\n              <RefreshCw size={20} />\n              Try Again\n            </button>\n          </div>\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n\nexport function getErrorLogs(): any[] {\n  try {\n    if (typeof window !== 'undefined' && window.localStorage) {\n      const errors = localStorage.getItem('error_logs');\n      return errors ? JSON.parse(errors) : [];\n    }\n    return [];\n  } catch (error) {\n    console.error('Failed to get error logs:', error);\n    return [];\n  }\n}\n\nexport function clearErrorLogs(): void {\n  try {\n    if (typeof window !== 'undefined' && window.localStorage) {\n      localStorage.removeItem('error_logs');\n    }\n  } catch (error) {\n    console.error('Failed to clear error logs:', error);\n  }\n}\n","size_bytes":5646},"client/src/components/RatePrompt.tsx":{"content":"import { useState, useEffect } from 'react';\nimport { Star, X } from 'lucide-react';\n\ninterface RatePromptProps {\n  score: number;\n  highScore: number;\n  onClose: () => void;\n}\n\nexport function RatePrompt({ score, highScore, onClose }: RatePromptProps) {\n  const [show, setShow] = useState(false);\n\n  useEffect(() => {\n    const shouldShow = checkShouldShowRating(score, highScore);\n    setShow(shouldShow);\n  }, [score, highScore]);\n\n  const handleRate = () => {\n    markRatingShown();\n    \n    const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);\n    const isAndroid = /Android/.test(navigator.userAgent);\n    \n    if (isIOS) {\n      window.open('https://apps.apple.com/app/tiledrop/id[YOUR_APP_ID]?action=write-review', '_blank');\n    } else if (isAndroid) {\n      window.open('https://play.google.com/store/apps/details?id=com.tpgames.tiledrop&reviewId=0', '_blank');\n    } else {\n      alert('Please rate us on the App Store or Google Play!');\n    }\n    \n    setShow(false);\n    onClose();\n  };\n\n  const handleLater = () => {\n    markRatingPrompted();\n    setShow(false);\n    onClose();\n  };\n\n  const handleNever = () => {\n    markRatingDeclined();\n    setShow(false);\n    onClose();\n  };\n\n  if (!show) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-[2000] flex items-center justify-center p-4\">\n      <div \n        className=\"absolute inset-0 bg-black/60 backdrop-blur-sm\"\n        onClick={handleLater}\n      />\n      \n      <div className=\"relative bg-white rounded-3xl p-8 max-w-sm w-full shadow-2xl animate-in zoom-in-95 duration-300\">\n        <button\n          onClick={handleLater}\n          className=\"absolute top-4 right-4 p-2 rounded-full hover:bg-gray-100 transition-colors\"\n          aria-label=\"Close\"\n        >\n          <X size={20} className=\"text-gray-500\" />\n        </button>\n\n        <div className=\"text-center mb-6\">\n          <div className=\"flex justify-center mb-4\">\n            {[1, 2, 3, 4, 5].map((star) => (\n              <Star\n                key={star}\n                size={32}\n                className=\"text-yellow-400 fill-yellow-400 mx-1\"\n              />\n            ))}\n          </div>\n          \n          <h3 className=\"text-2xl font-bold text-gray-900 mb-2\">\n            Enjoying TileDrop?\n          </h3>\n          \n          <p className=\"text-gray-600\">\n            Your feedback helps us improve and reach more puzzle enthusiasts!\n          </p>\n        </div>\n\n        <div className=\"space-y-3\">\n          <button\n            onClick={handleRate}\n            className=\"w-full bg-gradient-to-r from-[#667eea] to-[#764ba2] text-white py-3 px-6 rounded-xl font-semibold hover:shadow-lg transition-all hover:-translate-y-0.5\"\n          >\n            ‚≠ê Rate 5 Stars\n          </button>\n          \n          <button\n            onClick={handleLater}\n            className=\"w-full bg-gray-100 text-gray-700 py-3 px-6 rounded-xl font-semibold hover:bg-gray-200 transition-colors\"\n          >\n            Maybe Later\n          </button>\n          \n          <button\n            onClick={handleNever}\n            className=\"w-full text-gray-500 text-sm py-2 hover:text-gray-700 transition-colors\"\n          >\n            Don't ask again\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction checkShouldShowRating(score: number, highScore: number): boolean {\n  try {\n    const ratingStatus = localStorage.getItem('rating_status');\n    \n    if (ratingStatus === 'declined' || ratingStatus === 'completed') {\n      return false;\n    }\n    \n    const gamesPlayed = parseInt(localStorage.getItem('games_played') || '0');\n    const lastPrompt = localStorage.getItem('last_rating_prompt');\n    \n    if (lastPrompt) {\n      const daysSincePrompt = (Date.now() - parseInt(lastPrompt)) / (1000 * 60 * 60 * 24);\n      if (daysSincePrompt < 7) {\n        return false;\n      }\n    }\n    \n    if (score > 1000 && gamesPlayed >= 5) {\n      return true;\n    }\n    \n    if (score >= highScore && highScore > 500 && gamesPlayed >= 3) {\n      return true;\n    }\n    \n    if (gamesPlayed >= 10 && !lastPrompt) {\n      return true;\n    }\n    \n    return false;\n  } catch (error) {\n    console.error('Error checking rating status:', error);\n    return false;\n  }\n}\n\nfunction markRatingPrompted() {\n  try {\n    localStorage.setItem('last_rating_prompt', Date.now().toString());\n  } catch (error) {\n    console.error('Error marking rating prompted:', error);\n  }\n}\n\nfunction markRatingShown() {\n  try {\n    localStorage.setItem('rating_status', 'completed');\n    localStorage.setItem('last_rating_prompt', Date.now().toString());\n  } catch (error) {\n    console.error('Error marking rating shown:', error);\n  }\n}\n\nfunction markRatingDeclined() {\n  try {\n    localStorage.setItem('rating_status', 'declined');\n  } catch (error) {\n    console.error('Error marking rating declined:', error);\n  }\n}\n\nexport function incrementGamesPlayed() {\n  try {\n    const current = parseInt(localStorage.getItem('games_played') || '0');\n    localStorage.setItem('games_played', (current + 1).toString());\n  } catch (error) {\n    console.error('Error incrementing games played:', error);\n  }\n}\n","size_bytes":5141},"client/src/hooks/useAnalytics.tsx":{"content":"import { useCallback } from 'react';\n\nexport type AnalyticsEvent = \n  | 'game_start'\n  | 'game_end'\n  | 'power_up_used'\n  | 'settings_changed'\n  | 'high_score_achieved'\n  | 'share_score'\n  | 'tutorial_completed'\n  | 'combo_achieved';\n\ninterface AnalyticsEventData {\n  [key: string]: string | number | boolean;\n}\n\nexport function useAnalytics() {\n  const trackEvent = useCallback((event: AnalyticsEvent, data?: AnalyticsEventData) => {\n    try {\n      const eventData = {\n        event,\n        timestamp: new Date().toISOString(),\n        ...data\n      };\n\n      console.log('[Analytics]', eventData);\n\n      if (typeof window !== 'undefined' && window.localStorage) {\n        const analyticsLog = localStorage.getItem('analytics_events');\n        const events = analyticsLog ? JSON.parse(analyticsLog) : [];\n        \n        events.push(eventData);\n        \n        if (events.length > 100) {\n          events.shift();\n        }\n        \n        localStorage.setItem('analytics_events', JSON.stringify(events));\n      }\n    } catch (error) {\n      console.error('Analytics error:', error);\n    }\n  }, []);\n\n  const getAnalytics = useCallback(() => {\n    try {\n      if (typeof window !== 'undefined' && window.localStorage) {\n        const analyticsLog = localStorage.getItem('analytics_events');\n        return analyticsLog ? JSON.parse(analyticsLog) : [];\n      }\n      return [];\n    } catch (error) {\n      console.error('Failed to get analytics:', error);\n      return [];\n    }\n  }, []);\n\n  const clearAnalytics = useCallback(() => {\n    try {\n      if (typeof window !== 'undefined' && window.localStorage) {\n        localStorage.removeItem('analytics_events');\n      }\n    } catch (error) {\n      console.error('Failed to clear analytics:', error);\n    }\n  }, []);\n\n  return {\n    trackEvent,\n    getAnalytics,\n    clearAnalytics\n  };\n}\n","size_bytes":1846},"client/src/lib/stores/useDisplay.tsx":{"content":"import { create } from 'zustand';\n\ninterface DisplayState {\n  zoomLevel: number;\n  setZoomLevel: (level: number) => void;\n}\n\nexport const useDisplay = create<DisplayState>((set) => {\n  let initialZoom = 1;\n  try {\n    const saved = localStorage.getItem('zoomLevel');\n    if (saved) {\n      initialZoom = parseFloat(saved);\n    }\n  } catch (err) {\n    console.warn('Failed to load zoom level from localStorage:', err);\n  }\n\n  return {\n    zoomLevel: initialZoom,\n    setZoomLevel: (level: number) => {\n      set({ zoomLevel: level });\n      try {\n        localStorage.setItem('zoomLevel', level.toString());\n      } catch (err) {\n        console.warn('Failed to save zoom level to localStorage:', err);\n      }\n    },\n  };\n});\n","size_bytes":726}},"version":1}